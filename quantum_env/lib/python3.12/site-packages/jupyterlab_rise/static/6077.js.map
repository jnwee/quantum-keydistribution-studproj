{"version":3,"file":"6077.bundle.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/announcements.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/notificationplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/palette.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/settingconnector.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/settingsplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/statusbarplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/themesplugins.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/toolbarregistryplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/workspacesplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/shortcuts.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/react-dom/client.js"],"sourcesContent":["/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\nimport { Notification } from '@jupyterlab/apputils';\nimport { URLExt } from '@jupyterlab/coreutils';\nimport { ConfigSection, ServerConnection } from '@jupyterlab/services';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\nconst COMMAND_HELP_OPEN = 'help:open';\nconst NEWS_API_URL = '/lab/api/news';\nconst UPDATE_API_URL = '/lab/api/update';\nconst PRIVACY_URL = 'https://jupyterlab.readthedocs.io/en/stable/privacy_policies.html';\n/**\n * Call the announcement API\n *\n * @param endpoint Endpoint to request\n * @param init Initial values for the request\n * @returns The response body interpreted as JSON\n */\nasync function requestAPI(endpoint, init = {}) {\n    // Make request to Jupyter API\n    const settings = ServerConnection.makeSettings();\n    const requestUrl = URLExt.join(settings.baseUrl, endpoint);\n    let response;\n    try {\n        response = await ServerConnection.makeRequest(requestUrl, init, settings);\n    }\n    catch (error) {\n        throw new ServerConnection.NetworkError(error);\n    }\n    const data = await response.json();\n    if (!response.ok) {\n        throw new ServerConnection.ResponseError(response, data.message);\n    }\n    return data;\n}\nexport const announcements = {\n    id: '@jupyterlab/apputils-extension:announcements',\n    description: 'Add the announcement feature. It will fetch news on the internet and check for application updates.',\n    autoStart: true,\n    optional: [ISettingRegistry, ITranslator],\n    activate: (app, settingRegistry, translator) => {\n        var _a;\n        const CONFIG_SECTION_NAME = announcements.id.replace(/[^\\w]/g, '');\n        void Promise.all([\n            app.restored,\n            (_a = settingRegistry === null || settingRegistry === void 0 ? void 0 : settingRegistry.load('@jupyterlab/apputils-extension:notification')) !== null && _a !== void 0 ? _a : Promise.resolve(null),\n            // Use config instead of state to store independently of the workspace\n            // if a news has been displayed or not.\n            ConfigSection.create({\n                name: CONFIG_SECTION_NAME\n            })\n        ]).then(async ([_, settings, config]) => {\n            const trans = (translator !== null && translator !== void 0 ? translator : nullTranslator).load('jupyterlab');\n            // Store dismiss state\n            Notification.manager.changed.connect((manager, change) => {\n                var _a;\n                if (change.type !== 'removed') {\n                    return;\n                }\n                const { id, tags } = ((_a = change\n                    .notification.options.data) !== null && _a !== void 0 ? _a : {});\n                if ((tags !== null && tags !== void 0 ? tags : []).some(tag => ['news', 'update'].includes(tag)) && id) {\n                    const update = {};\n                    update[id] = { seen: true, dismissed: true };\n                    config.update(update).catch(reason => {\n                        console.error(`Failed to update the announcements config:\\n${reason}`);\n                    });\n                }\n            });\n            const mustFetchNews = settings === null || settings === void 0 ? void 0 : settings.get('fetchNews').composite;\n            if (mustFetchNews === 'none') {\n                const notificationId = Notification.emit(trans.__('Would you like to get notified about official Jupyter news?'), 'default', {\n                    autoClose: false,\n                    actions: [\n                        {\n                            label: trans.__('Open privacy policy'),\n                            caption: PRIVACY_URL,\n                            callback: event => {\n                                event.preventDefault();\n                                if (app.commands.hasCommand(COMMAND_HELP_OPEN)) {\n                                    void app.commands.execute(COMMAND_HELP_OPEN, {\n                                        text: trans.__('Privacy policies'),\n                                        url: PRIVACY_URL\n                                    });\n                                }\n                                else {\n                                    window.open(PRIVACY_URL, '_blank', 'noreferrer');\n                                }\n                            },\n                            displayType: 'link'\n                        },\n                        {\n                            label: trans.__('Yes'),\n                            callback: () => {\n                                Notification.dismiss(notificationId);\n                                config\n                                    .update({})\n                                    .then(() => fetchNews())\n                                    .catch(reason => {\n                                    console.error(`Failed to get the news:\\n${reason}`);\n                                });\n                                settings === null || settings === void 0 ? void 0 : settings.set('fetchNews', 'true').catch((reason) => {\n                                    console.error(`Failed to save setting 'fetchNews':\\n${reason}`);\n                                });\n                            }\n                        },\n                        {\n                            label: trans.__('No'),\n                            callback: () => {\n                                Notification.dismiss(notificationId);\n                                settings === null || settings === void 0 ? void 0 : settings.set('fetchNews', 'false').catch((reason) => {\n                                    console.error(`Failed to save setting 'fetchNews':\\n${reason}`);\n                                });\n                            }\n                        }\n                    ]\n                });\n            }\n            else {\n                await fetchNews();\n            }\n            async function fetchNews() {\n                var _a, _b, _c, _d;\n                if (((_a = settings === null || settings === void 0 ? void 0 : settings.get('fetchNews').composite) !== null && _a !== void 0 ? _a : 'false') === 'true') {\n                    try {\n                        const response = await requestAPI(NEWS_API_URL);\n                        for (const { link, message, type, options } of response.news) {\n                            // @ts-expect-error data has no index\n                            const id = options.data['id'];\n                            // Filter those notifications\n                            const state = (_b = config.data[id]) !== null && _b !== void 0 ? _b : {\n                                seen: false,\n                                dismissed: false\n                            };\n                            if (!state.dismissed) {\n                                options.actions = [\n                                    {\n                                        label: trans.__('Hide'),\n                                        caption: trans.__('Never show this notification again.'),\n                                        callback: () => {\n                                            const update = {};\n                                            update[id] = { seen: true, dismissed: true };\n                                            config.update(update).catch(reason => {\n                                                console.error(`Failed to update the announcements config:\\n${reason}`);\n                                            });\n                                        }\n                                    }\n                                ];\n                                if ((link === null || link === void 0 ? void 0 : link.length) === 2) {\n                                    options.actions.push({\n                                        label: link[0],\n                                        caption: link[1],\n                                        callback: () => {\n                                            window.open(link[1], '_blank', 'noreferrer');\n                                        },\n                                        displayType: 'link'\n                                    });\n                                }\n                                if (!state.seen) {\n                                    options.autoClose = 5000;\n                                    const update = {};\n                                    update[id] = { seen: true };\n                                    config.update(update).catch(reason => {\n                                        console.error(`Failed to update the announcements config:\\n${reason}`);\n                                    });\n                                }\n                                Notification.emit(message, type, options);\n                            }\n                        }\n                    }\n                    catch (reason) {\n                        console.log('Failed to get the announcements.', reason);\n                    }\n                }\n                if ((_c = settings === null || settings === void 0 ? void 0 : settings.get('checkForUpdates').composite) !== null && _c !== void 0 ? _c : true) {\n                    const response = await requestAPI(UPDATE_API_URL);\n                    if (response.notification) {\n                        const { link, message, type, options } = response.notification;\n                        // @ts-expect-error data has no index\n                        const id = options.data['id'];\n                        const state = (_d = config.data[id]) !== null && _d !== void 0 ? _d : {\n                            seen: false,\n                            dismissed: false\n                        };\n                        if (!state.dismissed) {\n                            let notificationId;\n                            options.actions = [\n                                {\n                                    label: trans.__('Ignore all updates'),\n                                    caption: trans.__('Do not prompt me if a new JupyterLab version is available.'),\n                                    callback: () => {\n                                        settings === null || settings === void 0 ? void 0 : settings.set('checkForUpdates', false).then(() => {\n                                            Notification.dismiss(notificationId);\n                                        }).catch((reason) => {\n                                            console.error('Failed to set the `checkForUpdates` setting.', reason);\n                                        });\n                                    }\n                                }\n                            ];\n                            if ((link === null || link === void 0 ? void 0 : link.length) === 2) {\n                                options.actions.push({\n                                    label: link[0],\n                                    caption: link[1],\n                                    callback: () => {\n                                        window.open(link[1], '_blank', 'noreferrer');\n                                    },\n                                    // Because the link to the changelog is the primary option,\n                                    // display it in an accent color.\n                                    displayType: 'accent'\n                                });\n                            }\n                            if (!state.seen) {\n                                options.autoClose = 5000;\n                                const update = {};\n                                update[id] = { seen: true };\n                                config.update(update).catch(reason => {\n                                    console.error(`Failed to update the announcements config:\\n${reason}`);\n                                });\n                            }\n                            notificationId = Notification.emit(message, type, options);\n                        }\n                    }\n                }\n            }\n        });\n    }\n};\n//# sourceMappingURL=announcements.js.map","/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\nimport { Notification, ReactWidget } from '@jupyterlab/apputils';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { GroupItem, IStatusBar, showPopup, TextItem } from '@jupyterlab/statusbar';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\nimport { bellIcon, Button, closeIcon, deleteIcon, ToolbarButtonComponent, UseSignal, VDomModel } from '@jupyterlab/ui-components';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { Widget } from '@lumino/widgets';\nimport * as React from 'react';\nimport { createRoot } from 'react-dom/client';\n/**\n * Toast close button class\n */\nconst TOAST_CLOSE_BUTTON_CLASS = 'jp-Notification-Toast-Close';\n/**\n * Toast close button class right margin required due to custom hover effect\n */\nconst TOAST_CLOSE_BUTTON_MARGIN_CLASS = 'jp-Notification-Toast-Close-Margin';\n/**\n * Maximal number of characters displayed in a notification.\n */\nconst MAX_MESSAGE_LENGTH = 140;\nvar CommandIDs;\n(function (CommandIDs) {\n    /**\n     * Dismiss a notification\n     */\n    CommandIDs.dismiss = 'apputils:dismiss-notification';\n    /**\n     * Display all notifications\n     */\n    CommandIDs.display = 'apputils:display-notifications';\n    /**\n     * Create a notification\n     */\n    CommandIDs.notify = 'apputils:notify';\n    /**\n     * Update a notification\n     */\n    CommandIDs.update = 'apputils:update-notification';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * Half spacing between subitems in a status item.\n */\nconst HALF_SPACING = 4;\n/**\n * Notification center view\n */\nfunction NotificationCenter(props) {\n    const { manager, onClose, trans } = props;\n    // Markdown parsed notifications\n    const [notifications, setNotifications] = React.useState([]);\n    // Load asynchronously react-toastify icons\n    const [icons, setIcons] = React.useState(null);\n    React.useEffect(() => {\n        async function onChanged() {\n            setNotifications(await Promise.all(manager.notifications.map(async (n) => {\n                return Object.freeze({\n                    ...n\n                });\n            })));\n        }\n        if (notifications.length !== manager.count) {\n            void onChanged();\n        }\n        manager.changed.connect(onChanged);\n        return () => {\n            manager.changed.disconnect(onChanged);\n        };\n    }, [manager]);\n    React.useEffect(() => {\n        Private.getIcons()\n            .then(toastifyIcons => {\n            setIcons(toastifyIcons);\n        })\n            .catch(r => {\n            console.error(`Failed to get react-toastify icons:\\n${r}`);\n        });\n    }, []);\n    return (React.createElement(UseSignal, { signal: manager.changed }, () => (React.createElement(React.Fragment, null,\n        React.createElement(\"h2\", { className: \"jp-Notification-Header jp-Toolbar\" },\n            React.createElement(\"span\", { className: \"jp-Toolbar-item\" }, manager.count > 0\n                ? trans._n('%1 notification', '%1 notifications', manager.count)\n                : trans.__('No notifications')),\n            React.createElement(\"span\", { className: \"jp-Toolbar-item jp-Toolbar-spacer\" }),\n            React.createElement(ToolbarButtonComponent, { noFocusOnClick: false, onClick: () => {\n                    manager.dismiss();\n                }, icon: deleteIcon, tooltip: trans.__('Dismiss all notifications'), enabled: manager.count > 0 }),\n            React.createElement(ToolbarButtonComponent, { noFocusOnClick: false, onClick: onClose, icon: closeIcon, tooltip: trans.__('Hide notifications') })),\n        React.createElement(\"ol\", { className: \"jp-Notification-List\" }, notifications.map(notification => {\n            var _a;\n            const { id, message, type, options } = notification;\n            const toastType = type === 'in-progress' ? 'default' : type;\n            const closeNotification = () => {\n                manager.dismiss(id);\n            };\n            const icon = type === 'default'\n                ? null\n                : type === 'in-progress'\n                    ? (_a = icons === null || icons === void 0 ? void 0 : icons.spinner) !== null && _a !== void 0 ? _a : null\n                    : icons && icons[type];\n            return (React.createElement(\"li\", { className: \"jp-Notification-List-Item\", key: notification.id, onClick: event => {\n                    // Stop propagation to avoid closing the popup on click\n                    event.stopPropagation();\n                } },\n                React.createElement(\"div\", { className: `Toastify__toast Toastify__toast-theme--light Toastify__toast--${toastType} jp-Notification-Toast-${toastType}` },\n                    React.createElement(\"div\", { className: \"Toastify__toast-body\" },\n                        icon && (React.createElement(\"div\", { className: \"Toastify__toast-icon\" }, icon({ theme: 'light', type: toastType }))),\n                        React.createElement(\"div\", null, Private.createContent(message, closeNotification, options.actions))),\n                    React.createElement(Private.CloseButton, { close: closeNotification, closeIcon: deleteIcon.react, title: trans.__('Dismiss notification'), closeIconMargin: true }))));\n        }))))));\n}\n/**\n * Status widget model\n */\nclass NotificationStatusModel extends VDomModel {\n    constructor(manager) {\n        super();\n        this.manager = manager;\n        this._highlight = false;\n        this._listOpened = false;\n        this._doNotDisturbMode = false;\n        this._count = manager.count;\n        this.manager.changed.connect(this.onNotificationChanged, this);\n    }\n    /**\n     * Number of notifications.\n     */\n    get count() {\n        return this._count;\n    }\n    /**\n     * Whether to silence all notifications or not.\n     */\n    get doNotDisturbMode() {\n        return this._doNotDisturbMode;\n    }\n    set doNotDisturbMode(v) {\n        this._doNotDisturbMode = v;\n    }\n    /**\n     * Whether to highlight the status widget or not.\n     */\n    get highlight() {\n        return this._highlight;\n    }\n    /**\n     * Whether the popup is opened or not.\n     */\n    get listOpened() {\n        return this._listOpened;\n    }\n    set listOpened(v) {\n        this._listOpened = v;\n        if (this._listOpened || this._highlight) {\n            this._highlight = false;\n        }\n        this.stateChanged.emit();\n    }\n    onNotificationChanged(_, change) {\n        // Set private attribute to trigger only once the signal emission\n        this._count = this.manager.count;\n        const { autoClose } = change.notification.options;\n        const noToast = this.doNotDisturbMode ||\n            (typeof autoClose === 'number' && autoClose <= 0);\n        // Highlight if\n        //   the list is not opened (the style change if list is opened due to clickedItem style in statusbar.)\n        //   the change type is not removed\n        //   the notification will be hidden\n        if (!this._listOpened && change.type !== 'removed' && noToast) {\n            this._highlight = true;\n        }\n        this.stateChanged.emit();\n    }\n}\n/**\n * Status view\n */\nfunction NotificationStatus(props) {\n    return (React.createElement(GroupItem, { spacing: HALF_SPACING, onClick: () => {\n            props.onClick();\n        }, title: props.count > 0\n            ? props.trans._n('%1 notification', '%1 notifications', props.count)\n            : props.trans.__('No notifications') },\n        React.createElement(TextItem, { className: \"jp-Notification-Status-Text\", source: `${props.count}` }),\n        React.createElement(bellIcon.react, { top: '2px', stylesheet: 'statusBar' })));\n}\n/**\n * Add notification center and toast\n */\nexport const notificationPlugin = {\n    id: '@jupyterlab/apputils-extension:notification',\n    description: 'Add the notification center and its status indicator.',\n    autoStart: true,\n    optional: [IStatusBar, ISettingRegistry, ITranslator],\n    activate: (app, statusBar, settingRegistry, translator) => {\n        Private.translator = translator !== null && translator !== void 0 ? translator : nullTranslator;\n        const trans = Private.translator.load('jupyterlab');\n        const model = new NotificationStatusModel(Notification.manager);\n        model.doNotDisturbMode = false;\n        if (settingRegistry) {\n            void Promise.all([\n                settingRegistry.load(notificationPlugin.id),\n                app.restored\n            ]).then(([plugin]) => {\n                const updateSettings = () => {\n                    model.doNotDisturbMode = plugin.get('doNotDisturbMode')\n                        .composite;\n                };\n                updateSettings();\n                plugin.changed.connect(updateSettings);\n            });\n        }\n        app.commands.addCommand(CommandIDs.notify, {\n            label: trans.__('Emit a notification'),\n            caption: trans.__('Notification is described by {message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}.'),\n            execute: args => {\n                var _a;\n                const { message, type } = args;\n                const options = (_a = args.options) !== null && _a !== void 0 ? _a : {};\n                return Notification.manager.notify(message, type !== null && type !== void 0 ? type : 'default', {\n                    ...options,\n                    actions: options.actions\n                        ? options.actions.map((action) => {\n                            return {\n                                ...action,\n                                callback: () => {\n                                    app.commands\n                                        .execute(action.commandId, action.args)\n                                        .catch(r => {\n                                        console.error(`Failed to executed '${action.commandId}':\\n${r}`);\n                                    });\n                                }\n                            };\n                        })\n                        : null\n                });\n            }\n        });\n        app.commands.addCommand(CommandIDs.update, {\n            label: trans.__('Update a notification'),\n            caption: trans.__('Notification is described by {id: string, message: string, type?: string, options?: {autoClose?: number | false, actions: {label: string, commandId: string, args?: ReadOnlyJSONObject, caption?: string, className?: string}[], data?: ReadOnlyJSONValue}}.'),\n            execute: args => {\n                const { id, message, type, ...options } = args;\n                return Notification.manager.update({\n                    id,\n                    message,\n                    type: type !== null && type !== void 0 ? type : 'default',\n                    ...options,\n                    actions: options.actions\n                        ? options.actions.map((action) => {\n                            return {\n                                ...action,\n                                callback: () => {\n                                    app.commands\n                                        .execute(action.commandId, action.args)\n                                        .catch(r => {\n                                        console.error(`Failed to executed '${action.commandId}':\\n${r}`);\n                                    });\n                                }\n                            };\n                        })\n                        : null\n                });\n            }\n        });\n        app.commands.addCommand(CommandIDs.dismiss, {\n            label: trans.__('Dismiss a notification'),\n            execute: args => {\n                const { id } = args;\n                Notification.manager.dismiss(id);\n            }\n        });\n        let popup = null;\n        model.listOpened = false;\n        const notificationList = ReactWidget.create(React.createElement(NotificationCenter, { manager: Notification.manager, onClose: () => {\n                popup === null || popup === void 0 ? void 0 : popup.dispose();\n            }, trans: trans }));\n        notificationList.addClass('jp-Notification-Center');\n        async function onNotification(manager, change) {\n            var _a;\n            if (model.doNotDisturbMode || (popup !== null && !popup.isDisposed)) {\n                return;\n            }\n            const { message, type, options, id } = change.notification;\n            if (typeof options.autoClose === 'number' && options.autoClose <= 0) {\n                // If the notification is silent, bail early.\n                return;\n            }\n            switch (change.type) {\n                case 'added':\n                    await Private.createToast(id, message, type, options);\n                    break;\n                case 'updated':\n                    {\n                        const toast = await Private.toast();\n                        const actions = options.actions;\n                        const autoClose = (_a = options.autoClose) !== null && _a !== void 0 ? _a : (actions && actions.length > 0 ? false : null);\n                        if (toast.isActive(id)) {\n                            // Update existing toast\n                            const closeToast = () => {\n                                // Dismiss the displayed toast\n                                toast.dismiss(id);\n                                // Dismiss the notification from the queue\n                                manager.dismiss(id);\n                            };\n                            toast.update(id, {\n                                type: type === 'in-progress' ? null : type,\n                                isLoading: type === 'in-progress',\n                                autoClose: autoClose,\n                                render: Private.createContent(message, closeToast, options.actions)\n                            });\n                        }\n                        else {\n                            // Needs to recreate a closed toast\n                            await Private.createToast(id, message, type, options);\n                        }\n                    }\n                    break;\n                case 'removed':\n                    await Private.toast().then(t => {\n                        t.dismiss(id);\n                    });\n                    break;\n            }\n        }\n        Notification.manager.changed.connect(onNotification);\n        const displayNotifications = () => {\n            if (popup) {\n                popup.dispose();\n                popup = null;\n            }\n            else {\n                popup = showPopup({\n                    body: notificationList,\n                    anchor: notificationStatus,\n                    align: 'right',\n                    hasDynamicSize: true,\n                    startHidden: true\n                });\n                // Dismiss all toasts when opening the notification center\n                Private.toast()\n                    .then(t => {\n                    t.dismiss();\n                })\n                    .catch(r => {\n                    console.error(`Failed to dismiss all toasts:\\n${r}`);\n                })\n                    .finally(() => {\n                    popup === null || popup === void 0 ? void 0 : popup.launch();\n                    // Focus on the pop-up\n                    notificationList.node.focus();\n                    popup === null || popup === void 0 ? void 0 : popup.disposed.connect(() => {\n                        model.listOpened = false;\n                        popup = null;\n                    });\n                });\n            }\n            model.listOpened = popup !== null;\n        };\n        app.commands.addCommand(CommandIDs.display, {\n            label: trans.__('Show Notifications'),\n            execute: displayNotifications\n        });\n        const notificationStatus = ReactWidget.create(React.createElement(UseSignal, { signal: model.stateChanged }, () => {\n            if (model.highlight || (popup && !popup.isDisposed)) {\n                notificationStatus.addClass('jp-mod-selected');\n            }\n            else {\n                notificationStatus.removeClass('jp-mod-selected');\n            }\n            return (React.createElement(NotificationStatus, { count: model.count, highlight: model.highlight, trans: trans, onClick: displayNotifications }));\n        }));\n        notificationStatus.addClass('jp-Notification-Status');\n        if (statusBar) {\n            statusBar.registerStatusItem(notificationPlugin.id, {\n                item: notificationStatus,\n                align: 'right',\n                rank: -1\n            });\n        }\n        else {\n            notificationStatus.addClass('jp-ThemedContainer');\n            // if the status bar is not available, position the notification\n            // status in the bottom right corner of the page\n            notificationStatus.node.style.position = 'fixed';\n            notificationStatus.node.style.bottom = '0';\n            // 10px is the default padding for the status bar\n            notificationStatus.node.style.right = '10px';\n            Widget.attach(notificationStatus, document.body);\n            notificationStatus.show();\n        }\n    }\n};\nvar Private;\n(function (Private) {\n    /**\n     * Translator object for private namespace\n     */\n    Private.translator = nullTranslator;\n    /**\n     * Pointer to asynchronously loaded react-toastify\n     */\n    let toastify = null;\n    function CloseButton(props) {\n        var _a;\n        return (React.createElement(\"button\", { className: `jp-Button jp-mod-minimal ${TOAST_CLOSE_BUTTON_CLASS}${props.closeIconMargin ? ` ${TOAST_CLOSE_BUTTON_MARGIN_CLASS}` : ''}`, title: (_a = props.title) !== null && _a !== void 0 ? _a : '', onClick: props.close },\n            React.createElement(props.closeIcon, { className: \"jp-icon-hover\", tag: \"span\" })));\n    }\n    Private.CloseButton = CloseButton;\n    function ToastifyCloseButton(props) {\n        const trans = Private.translator.load('jupyterlab');\n        return (React.createElement(CloseButton, { close: props.closeToast, closeIcon: closeIcon.react, title: trans.__('Hide notification') }));\n    }\n    let waitForToastify = null;\n    /**\n     * Asynchronously load the toast container\n     *\n     * @returns The toast object\n     */\n    async function toast() {\n        if (waitForToastify === null) {\n            waitForToastify = new PromiseDelegate();\n        }\n        else {\n            await waitForToastify.promise;\n        }\n        if (toastify === null) {\n            toastify = await import('react-toastify');\n            const container = document.body.appendChild(document.createElement('div'));\n            container.id = 'react-toastify-container';\n            container.classList.add('jp-ThemedContainer');\n            const root = createRoot(container);\n            root.render(React.createElement(toastify.ToastContainer, { draggable: false, closeOnClick: false, hideProgressBar: true, newestOnTop: true, pauseOnFocusLoss: true, pauseOnHover: true, position: \"bottom-right\", className: \"jp-toastContainer\", transition: toastify.Slide, closeButton: ToastifyCloseButton }));\n            waitForToastify.resolve();\n        }\n        return toastify.toast;\n    }\n    Private.toast = toast;\n    /**\n     * react-toastify icons loader\n     */\n    async function getIcons() {\n        if (toastify === null) {\n            await toast();\n        }\n        return toastify.Icons;\n    }\n    Private.getIcons = getIcons;\n    const displayType2Class = {\n        accent: 'jp-mod-accept',\n        link: 'jp-mod-link',\n        warn: 'jp-mod-warn',\n        default: ''\n    };\n    /**\n     * Create a button with customized callback in a toast\n     */\n    function ToastButton({ action, closeToast }) {\n        var _a, _b;\n        const clickHandler = (event) => {\n            action.callback(event);\n            if (!event.defaultPrevented) {\n                closeToast();\n            }\n        };\n        const classes = [\n            'jp-toast-button',\n            displayType2Class[(_a = action.displayType) !== null && _a !== void 0 ? _a : 'default']\n        ].join(' ');\n        return (React.createElement(Button, { title: (_b = action.caption) !== null && _b !== void 0 ? _b : action.label, className: classes, onClick: clickHandler, small: true }, action.label));\n    }\n    /**\n     * Helper function to construct the notification content\n     *\n     * @param message Message to print in the notification\n     * @param closeHandler Function closing the notification\n     * @param actions Toast actions\n     */\n    function createContent(message, closeHandler, actions) {\n        var _a;\n        const shortenMessage = message.length > MAX_MESSAGE_LENGTH\n            ? message.slice(0, MAX_MESSAGE_LENGTH) + ''\n            : message;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: \"jp-toast-message\" }, shortenMessage.split('\\n').map((part, index) => (React.createElement(React.Fragment, { key: `part-${index}` },\n                index > 0 ? React.createElement(\"br\", null) : null,\n                part)))),\n            ((_a = actions === null || actions === void 0 ? void 0 : actions.length) !== null && _a !== void 0 ? _a : 0) > 0 && (React.createElement(\"div\", { className: \"jp-toast-buttonBar\" },\n                React.createElement(\"div\", { className: \"jp-toast-spacer\" }),\n                actions.map((action, idx) => {\n                    return (React.createElement(ToastButton, { key: 'button-' + idx, action: action, closeToast: closeHandler }));\n                })))));\n    }\n    Private.createContent = createContent;\n    /**\n     * Create a toast notification\n     *\n     * @param toastId Toast unique id\n     * @param message Toast message\n     * @param type Toast type\n     * @param options Toast options\n     * @returns Toast id\n     */\n    async function createToast(toastId, message, type, options = {}) {\n        const { actions, autoClose, data } = options;\n        const t = await toast();\n        const toastOptions = {\n            autoClose: autoClose !== null && autoClose !== void 0 ? autoClose : (actions && actions.length > 0 ? false : undefined),\n            data: data,\n            className: `jp-Notification-Toast-${type}`,\n            toastId,\n            type: type === 'in-progress' ? null : type,\n            isLoading: type === 'in-progress'\n        };\n        return t(({ closeToast }) => createContent(message, () => {\n            if (closeToast)\n                closeToast();\n            Notification.manager.dismiss(toastId);\n        }, actions), toastOptions);\n    }\n    Private.createToast = createToast;\n})(Private || (Private = {}));\n//# sourceMappingURL=notificationplugin.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { ModalCommandPalette } from '@jupyterlab/apputils';\nimport { nullTranslator } from '@jupyterlab/translation';\nimport { CommandPaletteSvg, paletteIcon } from '@jupyterlab/ui-components';\nimport { find } from '@lumino/algorithm';\nimport { CommandRegistry } from '@lumino/commands';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { CommandPalette } from '@lumino/widgets';\n/**\n * The command IDs used by the apputils extension.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.activate = 'apputils:activate-command-palette';\n})(CommandIDs || (CommandIDs = {}));\nconst PALETTE_PLUGIN_ID = '@jupyterlab/apputils-extension:palette';\n/**\n * A thin wrapper around the `CommandPalette` class to conform with the\n * JupyterLab interface for the application-wide command palette.\n */\nexport class Palette {\n    /**\n     * Create a palette instance.\n     */\n    constructor(palette, translator) {\n        this.translator = translator || nullTranslator;\n        const trans = this.translator.load('jupyterlab');\n        this._palette = palette;\n        this._palette.title.label = '';\n        this._palette.title.caption = trans.__('Command Palette');\n    }\n    /**\n     * The placeholder text of the command palette's search input.\n     */\n    set placeholder(placeholder) {\n        this._palette.inputNode.placeholder = placeholder;\n    }\n    get placeholder() {\n        return this._palette.inputNode.placeholder;\n    }\n    /**\n     * Activate the command palette for user input.\n     */\n    activate() {\n        this._palette.activate();\n    }\n    /**\n     * Add a command item to the command palette.\n     *\n     * @param options - The options for creating the command item.\n     *\n     * @returns A disposable that will remove the item from the palette.\n     */\n    addItem(options) {\n        const item = this._palette.addItem(options);\n        return new DisposableDelegate(() => {\n            this._palette.removeItem(item);\n        });\n    }\n}\n/**\n * A namespace for `Palette` statics.\n */\n(function (Palette) {\n    /**\n     * Activate the command palette.\n     */\n    function activate(app, translator, settingRegistry) {\n        const { commands, shell } = app;\n        const trans = translator.load('jupyterlab');\n        const palette = Private.createPalette(app, translator);\n        const modalPalette = new ModalCommandPalette({ commandPalette: palette });\n        let modal = false;\n        palette.node.setAttribute('role', 'region');\n        palette.node.setAttribute('aria-label', trans.__('Command Palette Section'));\n        shell.add(palette, 'left', { rank: 300, type: 'Command Palette' });\n        if (settingRegistry) {\n            const loadSettings = settingRegistry.load(PALETTE_PLUGIN_ID);\n            const updateSettings = (settings) => {\n                const newModal = settings.get('modal').composite;\n                if (modal && !newModal) {\n                    palette.parent = null;\n                    modalPalette.detach();\n                    shell.add(palette, 'left', { rank: 300, type: 'Command Palette' });\n                }\n                else if (!modal && newModal) {\n                    palette.parent = null;\n                    modalPalette.palette = palette;\n                    palette.show();\n                    modalPalette.attach();\n                }\n                modal = newModal;\n            };\n            Promise.all([loadSettings, app.restored])\n                .then(([settings]) => {\n                updateSettings(settings);\n                settings.changed.connect(settings => {\n                    updateSettings(settings);\n                });\n            })\n                .catch((reason) => {\n                console.error(reason.message);\n            });\n        }\n        // Show the current palette shortcut in its title.\n        const updatePaletteTitle = () => {\n            const binding = find(app.commands.keyBindings, b => b.command === CommandIDs.activate);\n            if (binding) {\n                const ks = binding.keys.map(CommandRegistry.formatKeystroke).join(', ');\n                palette.title.caption = trans.__('Commands (%1)', ks);\n            }\n            else {\n                palette.title.caption = trans.__('Commands');\n            }\n        };\n        updatePaletteTitle();\n        app.commands.keyBindingChanged.connect(() => {\n            updatePaletteTitle();\n        });\n        commands.addCommand(CommandIDs.activate, {\n            execute: () => {\n                if (modal) {\n                    modalPalette.activate();\n                }\n                else {\n                    shell.activateById(palette.id);\n                }\n            },\n            label: trans.__('Activate Command Palette')\n        });\n        palette.inputNode.placeholder = trans.__('SEARCH');\n        return new Palette(palette, translator);\n    }\n    Palette.activate = activate;\n    /**\n     * Restore the command palette.\n     */\n    function restore(app, restorer, translator) {\n        const palette = Private.createPalette(app, translator);\n        // Let the application restorer track the command palette for restoration of\n        // application state (e.g. setting the command palette as the current side bar\n        // widget).\n        restorer.add(palette, 'command-palette');\n    }\n    Palette.restore = restore;\n})(Palette || (Palette = {}));\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The private command palette instance.\n     */\n    let palette;\n    /**\n     * Create the application-wide command palette.\n     */\n    function createPalette(app, translator) {\n        if (!palette) {\n            // use a renderer tweaked to use inline svg icons\n            palette = new CommandPalette({\n                commands: app.commands,\n                renderer: CommandPaletteSvg.defaultRenderer\n            });\n            palette.id = 'command-palette';\n            palette.title.icon = paletteIcon;\n            const trans = translator.load('jupyterlab');\n            palette.title.label = trans.__('Commands');\n        }\n        return palette;\n    }\n    Private.createPalette = createPalette;\n})(Private || (Private = {}));\n//# sourceMappingURL=palette.js.map","/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\nimport { PageConfig } from '@jupyterlab/coreutils';\nimport { DataConnector } from '@jupyterlab/statedb';\nimport { Throttler } from '@lumino/polling';\n/**\n * A data connector for fetching settings.\n *\n * #### Notes\n * This connector adds a query parameter to the base services setting manager.\n */\nexport class SettingConnector extends DataConnector {\n    constructor(connector) {\n        super();\n        this._throttlers = Object.create(null);\n        this._connector = connector;\n    }\n    /**\n     * Fetch settings for a plugin.\n     * @param id - The plugin ID\n     *\n     * #### Notes\n     * The REST API requests are throttled at one request per plugin per 100ms.\n     */\n    fetch(id) {\n        const throttlers = this._throttlers;\n        if (!(id in throttlers)) {\n            throttlers[id] = new Throttler(() => this._connector.fetch(id), 100);\n        }\n        return throttlers[id].invoke();\n    }\n    async list(query = 'all') {\n        const { isDisabled } = PageConfig.Extension;\n        const { ids, values } = await this._connector.list(query === 'ids' ? 'ids' : undefined);\n        if (query === 'all') {\n            return { ids, values };\n        }\n        if (query === 'ids') {\n            return { ids };\n        }\n        return {\n            ids: ids.filter(id => !isDisabled(id)),\n            values: values.filter(({ id }) => !isDisabled(id))\n        };\n    }\n    async save(id, raw) {\n        await this._connector.save(id, raw);\n    }\n}\n//# sourceMappingURL=settingconnector.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { PageConfig } from '@jupyterlab/coreutils';\nimport { ISettingRegistry, SettingRegistry } from '@jupyterlab/settingregistry';\nimport { SettingConnector } from './settingconnector';\n/**\n * The default setting registry provider.\n */\nexport const settingsPlugin = {\n    id: '@jupyterlab/apputils-extension:settings',\n    description: 'Provides the setting registry.',\n    activate: async (app) => {\n        const { isDisabled } = PageConfig.Extension;\n        const connector = new SettingConnector(app.serviceManager.settings);\n        // On startup, check if a plugin is available in the application.\n        // This helps avoid loading plugin files from other lab-based applications\n        // that have placed their schemas next to the JupyterLab schemas. Different lab-based\n        // applications might not have the same set of plugins loaded on the page.\n        // As an example this helps prevent having new toolbar items added by another application\n        // appear in JupyterLab as a side-effect when they are defined via the settings system.\n        const registry = new SettingRegistry({\n            connector,\n            plugins: (await connector.list('active')).values.filter(value => app.hasPlugin(value.id))\n        });\n        // If there are plugins that have schemas that are not in the setting\n        // registry after the application has restored, try to load them manually\n        // because otherwise, its settings will never become available in the\n        // setting registry.\n        void app.restored.then(async () => {\n            const plugins = await connector.list('ids');\n            plugins.ids.forEach(async (id) => {\n                if (!app.hasPlugin(id) || isDisabled(id) || id in registry.plugins) {\n                    return;\n                }\n                try {\n                    await registry.load(id);\n                }\n                catch (error) {\n                    console.warn(`Settings failed to load for (${id})`, error);\n                    if (!app.isPluginActivated(id)) {\n                        console.warn(`If 'jupyter.lab.transform=true' in the plugin schema, this ` +\n                            `may happen if {autoStart: false} in (${id}) or if it is ` +\n                            `one of the deferredExtensions in page config.`);\n                    }\n                }\n            });\n        });\n        return registry;\n    },\n    autoStart: true,\n    provides: ISettingRegistry\n};\n//# sourceMappingURL=settingsplugin.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { ILabShell } from '@jupyterlab/application';\nimport { IKernelStatusModel, ISessionContextDialogs, KernelStatus, RunningSessions, SessionContextDialogs } from '@jupyterlab/apputils';\nimport { IStatusBar } from '@jupyterlab/statusbar';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\n/**\n * A plugin that provides a kernel status item to the status bar.\n */\nexport const kernelStatus = {\n    id: '@jupyterlab/apputils-extension:kernel-status',\n    description: 'Provides the kernel status indicator model.',\n    autoStart: true,\n    requires: [IStatusBar],\n    provides: IKernelStatusModel,\n    optional: [ISessionContextDialogs, ITranslator, ILabShell],\n    activate: (app, statusBar, sessionDialogs_, translator_, labShell) => {\n        const translator = translator_ !== null && translator_ !== void 0 ? translator_ : nullTranslator;\n        const sessionDialogs = sessionDialogs_ !== null && sessionDialogs_ !== void 0 ? sessionDialogs_ : new SessionContextDialogs({ translator });\n        // When the status item is clicked, launch the kernel\n        // selection dialog for the current session.\n        const changeKernel = async () => {\n            if (!item.model.sessionContext) {\n                return;\n            }\n            await sessionDialogs.selectKernel(item.model.sessionContext);\n        };\n        const changeKernelOnKeyDown = async (event) => {\n            if (event.key === 'Enter' ||\n                event.key === 'Spacebar' ||\n                event.key === ' ') {\n                event.preventDefault();\n                event.stopPropagation();\n                return changeKernel();\n            }\n        };\n        // Create the status item.\n        const item = new KernelStatus({ onClick: changeKernel, onKeyDown: changeKernelOnKeyDown }, translator);\n        const providers = new Set();\n        const addSessionProvider = (provider) => {\n            providers.add(provider);\n            if (app.shell.currentWidget) {\n                updateSession(app.shell, {\n                    newValue: app.shell.currentWidget,\n                    oldValue: null\n                });\n            }\n        };\n        function updateSession(shell, changes) {\n            var _a;\n            const { oldValue, newValue } = changes;\n            // Clean up after the old value if it exists,\n            // listen for changes to the title of the activity\n            if (oldValue) {\n                oldValue.title.changed.disconnect(onTitleChanged);\n            }\n            item.model.sessionContext =\n                (_a = [...providers]\n                    .map(provider => provider(changes.newValue))\n                    .filter(session => session !== null)[0]) !== null && _a !== void 0 ? _a : null;\n            if (newValue && item.model.sessionContext) {\n                onTitleChanged(newValue.title);\n                newValue.title.changed.connect(onTitleChanged);\n            }\n        }\n        // When the title of the active widget changes, update the label\n        // of the hover text.\n        const onTitleChanged = (title) => {\n            item.model.activityName = title.label;\n        };\n        if (labShell) {\n            labShell.currentChanged.connect(updateSession);\n        }\n        statusBar.registerStatusItem(kernelStatus.id, {\n            priority: 1,\n            item,\n            align: 'left',\n            rank: 1,\n            isActive: () => item.model.sessionContext !== null\n        });\n        return { addSessionProvider };\n    }\n};\n/*\n * A plugin providing running terminals and sessions information\n * to the status bar.\n */\nexport const runningSessionsStatus = {\n    id: '@jupyterlab/apputils-extension:running-sessions-status',\n    description: 'Add the running sessions and terminals status bar item.',\n    autoStart: true,\n    requires: [IStatusBar, ITranslator],\n    activate: (app, statusBar, translator) => {\n        const item = new RunningSessions({\n            onClick: () => app.shell.activateById('jp-running-sessions'),\n            onKeyDown: (event) => {\n                if (event.key === 'Enter' ||\n                    event.key === 'Spacebar' ||\n                    event.key === ' ') {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    app.shell.activateById('jp-running-sessions');\n                }\n            },\n            serviceManager: app.serviceManager,\n            translator\n        });\n        item.model.sessions = Array.from(app.serviceManager.sessions.running()).length;\n        item.model.terminals = Array.from(app.serviceManager.terminals.running()).length;\n        statusBar.registerStatusItem(runningSessionsStatus.id, {\n            item,\n            align: 'left',\n            rank: 0\n        });\n    }\n};\n//# sourceMappingURL=statusbarplugin.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { JupyterFrontEnd } from '@jupyterlab/application';\nimport { ICommandPalette, ISplashScreen, IThemeManager, ThemeManager } from '@jupyterlab/apputils';\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator } from '@jupyterlab/translation';\nimport scrollbarStyleText from '../style/scrollbar.raw.css';\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.changeTheme = 'apputils:change-theme';\n    CommandIDs.changePreferredLightTheme = 'apputils:change-light-theme';\n    CommandIDs.changePreferredDarkTheme = 'apputils:change-dark-theme';\n    CommandIDs.toggleAdaptiveTheme = 'apputils:adaptive-theme';\n    CommandIDs.themeScrollbars = 'apputils:theme-scrollbars';\n    CommandIDs.changeFont = 'apputils:change-font';\n    CommandIDs.incrFontSize = 'apputils:incr-font-size';\n    CommandIDs.decrFontSize = 'apputils:decr-font-size';\n})(CommandIDs || (CommandIDs = {}));\nfunction createStyleSheet(text) {\n    const style = document.createElement('style');\n    style.setAttribute('type', 'text/css');\n    style.appendChild(document.createTextNode(text));\n    return style;\n}\n/**\n * The default theme manager provider.\n */\nexport const themesPlugin = {\n    id: '@jupyterlab/apputils-extension:themes',\n    description: 'Provides the theme manager.',\n    requires: [ISettingRegistry, JupyterFrontEnd.IPaths, ITranslator],\n    optional: [ISplashScreen],\n    activate: (app, settings, paths, translator, splash) => {\n        const trans = translator.load('jupyterlab');\n        const host = app.shell;\n        const commands = app.commands;\n        const url = URLExt.join(PageConfig.getBaseUrl(), paths.urls.themes);\n        const key = themesPlugin.id;\n        const manager = new ThemeManager({\n            key,\n            host,\n            settings,\n            splash: splash !== null && splash !== void 0 ? splash : undefined,\n            url\n        });\n        let scrollbarsStyleElement = null;\n        // Keep a synchronously set reference to the current theme,\n        // since the asynchronous setting of the theme in `changeTheme`\n        // can lead to an incorrect toggle on the currently used theme.\n        let currentTheme;\n        manager.themeChanged.connect((sender, args) => {\n            // Set data attributes on the application shell for the current theme.\n            currentTheme = args.newValue;\n            document.body.dataset.jpThemeLight = String(manager.isLight(currentTheme));\n            document.body.dataset.jpThemeName = currentTheme;\n            document.body.style.colorScheme = manager.isLight(currentTheme)\n                ? 'light'\n                : 'dark';\n            if (document.body.dataset.jpThemeScrollbars !==\n                String(manager.themeScrollbars(currentTheme))) {\n                document.body.dataset.jpThemeScrollbars = String(manager.themeScrollbars(currentTheme));\n                if (manager.themeScrollbars(currentTheme)) {\n                    if (!scrollbarsStyleElement) {\n                        scrollbarsStyleElement = createStyleSheet(scrollbarStyleText);\n                    }\n                    if (!scrollbarsStyleElement.parentElement) {\n                        document.body.appendChild(scrollbarsStyleElement);\n                    }\n                }\n                else {\n                    if (scrollbarsStyleElement && scrollbarsStyleElement.parentElement) {\n                        scrollbarsStyleElement.parentElement.removeChild(scrollbarsStyleElement);\n                    }\n                }\n            }\n            commands.notifyCommandChanged(CommandIDs.changeTheme);\n        });\n        commands.addCommand(CommandIDs.changeTheme, {\n            label: args => {\n                if (args.theme === undefined) {\n                    return trans.__('Switch to the provided `theme`.');\n                }\n                const theme = args['theme'];\n                const displayName = manager.getDisplayName(theme);\n                return args['isPalette']\n                    ? trans.__('Use Theme: %1', displayName)\n                    : displayName;\n            },\n            isToggled: args => args['theme'] === currentTheme,\n            execute: args => {\n                const theme = args['theme'];\n                if (theme === manager.theme) {\n                    return;\n                }\n                // Disable adaptive theme if users decide to change the theme when adaptive theme is on\n                if (manager.isToggledAdaptiveTheme()) {\n                    return manager.toggleAdaptiveTheme();\n                }\n                return manager.setTheme(theme);\n            }\n        });\n        commands.addCommand(CommandIDs.changePreferredLightTheme, {\n            label: args => {\n                if (args.theme === undefined) {\n                    return trans.__('Switch to the provided light `theme`.');\n                }\n                const theme = args['theme'];\n                const displayName = manager.getDisplayName(theme);\n                return args['isPalette']\n                    ? trans.__('Set Preferred Light Theme: %1', displayName)\n                    : displayName;\n            },\n            isToggled: args => args['theme'] === manager.preferredLightTheme,\n            execute: args => {\n                const theme = args['theme'];\n                if (theme === manager.preferredLightTheme) {\n                    return;\n                }\n                return manager.setPreferredLightTheme(theme);\n            }\n        });\n        commands.addCommand(CommandIDs.changePreferredDarkTheme, {\n            label: args => {\n                if (args.theme === undefined) {\n                    return trans.__('Switch to the provided dark `theme`.');\n                }\n                const theme = args['theme'];\n                const displayName = manager.getDisplayName(theme);\n                return args['isPalette']\n                    ? trans.__('Set Preferred Dark Theme: %1', displayName)\n                    : displayName;\n            },\n            isToggled: args => args['theme'] === manager.preferredDarkTheme,\n            execute: args => {\n                const theme = args['theme'];\n                if (theme === manager.preferredDarkTheme) {\n                    return;\n                }\n                return manager.setPreferredDarkTheme(theme);\n            }\n        });\n        commands.addCommand(CommandIDs.toggleAdaptiveTheme, {\n            // Avoid lengthy option text in menu\n            label: args => args['isPalette']\n                ? trans.__('Synchronize Styling Theme with System Settings')\n                : trans.__('Synchronize with System Settings'),\n            isToggled: () => manager.isToggledAdaptiveTheme(),\n            execute: () => {\n                manager.toggleAdaptiveTheme().catch(console.warn);\n            }\n        });\n        commands.addCommand(CommandIDs.themeScrollbars, {\n            label: trans.__('Theme Scrollbars'),\n            isToggled: () => manager.isToggledThemeScrollbars(),\n            execute: () => manager.toggleThemeScrollbars()\n        });\n        commands.addCommand(CommandIDs.changeFont, {\n            label: args => args['enabled'] ? `${args['font']}` : trans.__('waiting for fonts'),\n            isEnabled: args => args['enabled'],\n            isToggled: args => manager.getCSS(args['key']) === args['font'],\n            execute: args => manager.setCSSOverride(args['key'], args['font'])\n        });\n        commands.addCommand(CommandIDs.incrFontSize, {\n            label: args => {\n                switch (args.key) {\n                    case 'code-font-size':\n                        return trans.__('Increase Code Font Size');\n                    case 'content-font-size1':\n                        return trans.__('Increase Content Font Size');\n                    case 'ui-font-size1':\n                        return trans.__('Increase UI Font Size');\n                    default:\n                        return trans.__('Increase Font Size');\n                }\n            },\n            execute: args => manager.incrFontSize(args['key'])\n        });\n        commands.addCommand(CommandIDs.decrFontSize, {\n            label: args => {\n                switch (args.key) {\n                    case 'code-font-size':\n                        return trans.__('Decrease Code Font Size');\n                    case 'content-font-size1':\n                        return trans.__('Decrease Content Font Size');\n                    case 'ui-font-size1':\n                        return trans.__('Decrease UI Font Size');\n                    default:\n                        return trans.__('Decrease Font Size');\n                }\n            },\n            execute: args => manager.decrFontSize(args['key'])\n        });\n        return manager;\n    },\n    autoStart: true,\n    provides: IThemeManager\n};\n/**\n * The default theme manager's UI command palette and main menu functionality.\n *\n * #### Notes\n * This plugin loads separately from the theme manager plugin in order to\n * prevent blocking of the theme manager while it waits for the command palette\n * and main menu to become available.\n */\nexport const themesPaletteMenuPlugin = {\n    id: '@jupyterlab/apputils-extension:themes-palette-menu',\n    description: 'Adds theme commands to the menu and the command palette.',\n    requires: [IThemeManager, ITranslator],\n    optional: [ICommandPalette, IMainMenu],\n    activate: (app, manager, translator, palette, mainMenu) => {\n        const trans = translator.load('jupyterlab');\n        // If we have a main menu, add the theme manager to the settings menu.\n        if (mainMenu) {\n            void app.restored.then(() => {\n                var _a;\n                const isPalette = false;\n                const themeMenu = (_a = mainMenu.settingsMenu.items.find(item => {\n                    var _a;\n                    return item.type === 'submenu' &&\n                        ((_a = item.submenu) === null || _a === void 0 ? void 0 : _a.id) === 'jp-mainmenu-settings-apputilstheme';\n                })) === null || _a === void 0 ? void 0 : _a.submenu;\n                // choose a theme\n                if (themeMenu) {\n                    manager.themes.forEach((theme, index) => {\n                        themeMenu.insertItem(index, {\n                            command: CommandIDs.changeTheme,\n                            args: { isPalette, theme }\n                        });\n                    });\n                }\n            });\n        }\n        // If we have a command palette, add theme switching options to it.\n        if (palette) {\n            void app.restored.then(() => {\n                const category = trans.__('Theme');\n                const command = CommandIDs.changeTheme;\n                const isPalette = true;\n                // choose a theme\n                manager.themes.forEach(theme => {\n                    palette.addItem({ command, args: { isPalette, theme }, category });\n                });\n                // choose preferred light theme\n                manager.themes.forEach(theme => {\n                    palette.addItem({\n                        command: CommandIDs.changePreferredLightTheme,\n                        args: { isPalette, theme },\n                        category\n                    });\n                });\n                // choose preferred dark theme\n                manager.themes.forEach(theme => {\n                    palette.addItem({\n                        command: CommandIDs.changePreferredDarkTheme,\n                        args: { isPalette, theme },\n                        category\n                    });\n                });\n                // toggle adaptive theme\n                palette.addItem({\n                    command: CommandIDs.toggleAdaptiveTheme,\n                    args: { isPalette },\n                    category\n                });\n                // toggle scrollbar theming\n                palette.addItem({ command: CommandIDs.themeScrollbars, category });\n                // increase/decrease code font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        key: 'code-font-size'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        key: 'code-font-size'\n                    },\n                    category\n                });\n                // increase/decrease content font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        key: 'content-font-size1'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        key: 'content-font-size1'\n                    },\n                    category\n                });\n                // increase/decrease ui font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        key: 'ui-font-size1'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        key: 'ui-font-size1'\n                    },\n                    category\n                });\n            });\n        }\n    },\n    autoStart: true\n};\n//# sourceMappingURL=themesplugins.js.map","/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\nimport { createDefaultFactory, IToolbarWidgetRegistry, ToolbarWidgetRegistry } from '@jupyterlab/apputils';\n/**\n * The default toolbar registry.\n */\nexport const toolbarRegistry = {\n    id: '@jupyterlab/apputils-extension:toolbar-registry',\n    description: 'Provides toolbar items registry.',\n    autoStart: true,\n    provides: IToolbarWidgetRegistry,\n    activate: (app) => {\n        const registry = new ToolbarWidgetRegistry({\n            defaultFactory: createDefaultFactory(app.commands)\n        });\n        return registry;\n    }\n};\n//# sourceMappingURL=toolbarregistryplugin.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { IRouter, JupyterFrontEnd } from '@jupyterlab/application';\nimport { URLExt } from '@jupyterlab/coreutils';\nimport { ABCWidgetFactory, DocumentWidget } from '@jupyterlab/docregistry';\nimport { IStateDB } from '@jupyterlab/statedb';\nimport { IWorkspaceCommands } from '@jupyterlab/workspaces';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\nimport { Widget } from '@lumino/widgets';\nconst WORKSPACE_NAME = 'jupyterlab-workspace';\nconst WORKSPACE_EXT = '.' + WORKSPACE_NAME;\nconst LAST_SAVE_ID = 'workspace-ui:lastSave';\nconst ICON_NAME = 'jp-JupyterIcon';\n/**\n * The workspace MIME renderer.\n */\nexport const workspacesPlugin = {\n    id: '@jupyterlab/apputils-extension:workspaces',\n    description: 'Add workspace file type.',\n    autoStart: true,\n    requires: [IStateDB, ITranslator, JupyterFrontEnd.IPaths],\n    optional: [IRouter, IWorkspaceCommands],\n    activate: (app, state, translator, paths, router, workspaceCommands) => {\n        // The workspace factory creates dummy widgets to load a new workspace.\n        const factory = new Private.WorkspaceFactory({\n            workspaces: app.serviceManager.workspaces,\n            state,\n            translator,\n            open: async (id) => {\n                if (workspaceCommands) {\n                    await app.commands.execute(workspaceCommands.open, { workspace: id });\n                }\n                else {\n                    const workspacesBase = URLExt.join(paths.urls.app, 'workspaces');\n                    const url = URLExt.join(workspacesBase, id);\n                    if (!url.startsWith(workspacesBase)) {\n                        throw new Error('Can only be used for workspaces');\n                    }\n                    if (router) {\n                        router.navigate(url, { hard: true });\n                    }\n                    else {\n                        document.location.href = url;\n                    }\n                }\n            }\n        });\n        const trans = translator.load('jupyterlab');\n        app.docRegistry.addFileType({\n            name: WORKSPACE_NAME,\n            contentType: 'file',\n            fileFormat: 'text',\n            displayName: trans.__('JupyterLab Workspace File'),\n            extensions: [WORKSPACE_EXT],\n            mimeTypes: ['text/json'],\n            iconClass: ICON_NAME\n        });\n        app.docRegistry.addWidgetFactory(factory);\n    }\n};\nvar Private;\n(function (Private) {\n    /**\n     * This widget factory is used to handle double click on workspace\n     */\n    class WorkspaceFactory extends ABCWidgetFactory {\n        /**\n         * Construct a widget factory that uploads a workspace and navigates to it.\n         *\n         * @param options - The instantiation options for a `WorkspaceFactory`.\n         */\n        constructor(options) {\n            const trans = (options.translator || nullTranslator).load('jupyterlab');\n            super({\n                name: 'Workspace loader',\n                label: trans.__('Workspace loader'),\n                fileTypes: [WORKSPACE_NAME],\n                defaultFor: [WORKSPACE_NAME],\n                readOnly: true\n            });\n            this._state = options.state;\n            this._workspaces = options.workspaces;\n            this._open = options.open;\n        }\n        /**\n         * Loads the workspace into load, and jump to it\n         * @param context This is used to query the workspace content\n         */\n        createNewWidget(context) {\n            // Save a file's contents as a workspace and navigate to that workspace.\n            void context.ready.then(async () => {\n                const file = context.model;\n                const workspace = file.toJSON();\n                const path = context.path;\n                const id = workspace.metadata.id;\n                // Save the file contents as a workspace.\n                await this._workspaces.save(id, workspace);\n                // Save last save location for the save command.\n                await this._state.save(LAST_SAVE_ID, path);\n                // Navigate to new workspace.\n                await this._open(id);\n            });\n            return dummyWidget(context);\n        }\n    }\n    Private.WorkspaceFactory = WorkspaceFactory;\n    /**\n     * Returns a dummy widget with disposed content that doesn't render in the UI.\n     *\n     * @param context - The file context.\n     */\n    function dummyWidget(context) {\n        const widget = new DocumentWidget({ content: new Widget(), context });\n        widget.content.dispose();\n        return widget;\n    }\n})(Private || (Private = {}));\n//# sourceMappingURL=workspacesplugin.js.map","/*\n * Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\nimport { CommandRegistry } from '@lumino/commands';\nimport { Selector } from '@lumino/domutils';\nimport * as React from 'react';\nimport { Dialog, showDialog } from '@jupyterlab/apputils';\n/**\n * The class name for each row of ContextShortcutTable\n */\nconst SHORTCUT_TABLE_ROW_CLASS = 'jp-ContextualShortcut-TableRow';\n/**\n * The class name for the last row of ContextShortcutTable\n */\nconst SHORTCUT_TABLE_LAST_ROW_CLASS = 'jp-ContextualShortcut-TableLastRow';\n/**\n * The class name for each item of ContextShortcutTable\n */\nconst SHORTCUT_TABLE_ITEM_CLASS = 'jp-ContextualShortcut-TableItem';\n/**\n * The class name for each button-like symbol representing a key used in a shortcut in the ContextShortcutTable\n */\nconst SHORTCUT_KEY_CLASS = 'jp-ContextualShortcut-Key';\nexport function displayShortcuts(options) {\n    const { commands, trans, activeElement } = options;\n    const elt = activeElement !== null && activeElement !== void 0 ? activeElement : document.activeElement;\n    /**\n     * Find the distance from the target node to the first matching node.\n     *\n     * Based on Lumino private function commands.Private.targetDistance\n     * This traverses the DOM path from `elt` to the root\n     * computes the distance from `elt` to the first node which matches\n     * the CSS selector. If no match is found, `-1` is returned.\n     *\n     * It also stops traversal if the `data-lm-suppress-shortcuts` or\n     * `data-p-suppress-shortcuts` attributes are found.\n     */\n    function formatKeys(keys) {\n        const topContainer = [];\n        keys.forEach((key, index) => {\n            const container = [];\n            key.split(' ').forEach((ch, chIndex) => {\n                container.push(React.createElement(\"span\", { className: SHORTCUT_KEY_CLASS, key: `ch-${chIndex}` },\n                    React.createElement(\"kbd\", null, ch)), React.createElement(React.Fragment, { key: `fragment-${chIndex}` }, \" + \"));\n            });\n            topContainer.push(React.createElement(\"span\", { key: `key-${index}` }, container.slice(0, -1)), React.createElement(React.Fragment, { key: `fragment-${index}` }, \" + \"));\n        });\n        return React.createElement(\"span\", null, topContainer.slice(0, -1));\n    }\n    function capitalizeString(str) {\n        const capitalizedStr = str.charAt(0).toUpperCase() + str.slice(1);\n        return capitalizedStr;\n    }\n    function formatLabel(b) {\n        const label = commands.label(b.command);\n        const commandID = b.command.split(':')[1];\n        const automaticLabel = commandID.split('-');\n        let capitalizedLabel = '';\n        for (let i = 0; i < automaticLabel.length; i++) {\n            const str = capitalizeString(automaticLabel[i]);\n            capitalizedLabel = capitalizedLabel + ' ' + str;\n        }\n        if (label.length > 0) {\n            return label;\n        }\n        else {\n            return capitalizedLabel;\n        }\n    }\n    function matchDistance(selector, elt) {\n        let targ = elt;\n        for (let dist = 0; targ !== null && targ !== targ.parentElement; targ = targ.parentElement, ++dist) {\n            if (targ.hasAttribute('data-lm-suppress-shortcuts')) {\n                return -1;\n            }\n            if (targ.matches(selector)) {\n                return dist;\n            }\n        }\n        return -1;\n    }\n    // Find active keybindings for target element\n    const activeBindings = new Map();\n    for (let i = 0; i < commands.keyBindings.length; i++) {\n        const kb = commands.keyBindings[i];\n        let distance = matchDistance(kb.selector, elt);\n        if (distance < 0) {\n            continue;\n        }\n        let formatted = CommandRegistry.formatKeystroke(kb.keys);\n        if (activeBindings.has(formatted)) {\n            let oldBinding = activeBindings.get(formatted);\n            // if the existing binding takes precedence, ignore this binding by continuing\n            if (oldBinding[0] < distance ||\n                (oldBinding[0] === distance &&\n                    Selector.calculateSpecificity(oldBinding[1].selector) >\n                        Selector.calculateSpecificity(kb.selector))) {\n                continue;\n            }\n        }\n        activeBindings.set(formatted, [distance, kb]);\n    }\n    // Group shortcuts by distance\n    let maxDistance = -1;\n    const groupedBindings = new Map();\n    for (let [distance, binding] of activeBindings.values()) {\n        maxDistance = Math.max(distance, maxDistance);\n        if (!groupedBindings.has(distance)) {\n            groupedBindings.set(distance, []);\n        }\n        groupedBindings.get(distance).push(binding);\n    }\n    // Display shortcuts by group\n    const bindingTable = [];\n    for (let d = 0; d <= maxDistance; d++) {\n        if (groupedBindings.has(d)) {\n            bindingTable.push(groupedBindings.get(d).map(b => (React.createElement(\"tr\", { className: SHORTCUT_TABLE_ROW_CLASS, key: `${b.command}-${b.keys.join('-').replace(' ', '_')}` },\n                React.createElement(\"td\", { className: SHORTCUT_TABLE_ITEM_CLASS }, formatLabel(b)),\n                React.createElement(\"td\", { className: SHORTCUT_TABLE_ITEM_CLASS }, formatKeys([...b.keys]))))));\n            bindingTable.push(React.createElement(\"tr\", { className: SHORTCUT_TABLE_LAST_ROW_CLASS, key: `group-${d}-last` }));\n        }\n    }\n    const body = (React.createElement(\"table\", null,\n        React.createElement(\"tbody\", null, bindingTable)));\n    return showDialog({\n        title: trans.__('Keyboard Shortcuts'),\n        body,\n        buttons: [\n            Dialog.cancelButton({\n                label: trans.__('Close')\n            })\n        ]\n    });\n}\n//# sourceMappingURL=shortcuts.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n/**\n * @packageDocumentation\n * @module apputils-extension\n */\nimport { ILayoutRestorer, IRouter, JupyterFrontEnd } from '@jupyterlab/application';\nimport { Dialog, ICommandPalette, ISanitizer, ISessionContextDialogs, ISplashScreen, IWindowResolver, MainAreaWidget, Printing, Sanitizer, SessionContextDialogs, WindowResolver } from '@jupyterlab/apputils';\nimport { PageConfig, PathExt, URLExt } from '@jupyterlab/coreutils';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { IStateDB, StateDB } from '@jupyterlab/statedb';\nimport { ITranslator, nullTranslator } from '@jupyterlab/translation';\nimport { jupyterFaviconIcon } from '@jupyterlab/ui-components';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { Debouncer, Throttler } from '@lumino/polling';\nimport { announcements } from './announcements';\nimport { notificationPlugin } from './notificationplugin';\nimport { Palette } from './palette';\nimport { settingsPlugin } from './settingsplugin';\nimport { kernelStatus, runningSessionsStatus } from './statusbarplugin';\nimport { themesPaletteMenuPlugin, themesPlugin } from './themesplugins';\nimport { toolbarRegistry } from './toolbarregistryplugin';\nimport { workspacesPlugin } from './workspacesplugin';\nimport { displayShortcuts } from './shortcuts';\n/**\n * The interval in milliseconds before recover options appear during splash.\n */\nconst SPLASH_RECOVER_TIMEOUT = 12000;\n/**\n * The command IDs used by the apputils plugin.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.loadState = 'apputils:load-statedb';\n    CommandIDs.print = 'apputils:print';\n    CommandIDs.reset = 'apputils:reset';\n    CommandIDs.resetOnLoad = 'apputils:reset-on-load';\n    CommandIDs.runFirstEnabled = 'apputils:run-first-enabled';\n    CommandIDs.runAllEnabled = 'apputils:run-all-enabled';\n    CommandIDs.toggleHeader = 'apputils:toggle-header';\n    CommandIDs.displayShortcuts = 'apputils:display-shortcuts';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * The default command palette extension.\n */\nconst palette = {\n    id: '@jupyterlab/apputils-extension:palette',\n    description: 'Provides the command palette.',\n    autoStart: true,\n    requires: [ITranslator],\n    provides: ICommandPalette,\n    optional: [ISettingRegistry],\n    activate: (app, translator, settingRegistry) => {\n        return Palette.activate(app, translator, settingRegistry);\n    }\n};\n/**\n * The default command palette's restoration extension.\n *\n * #### Notes\n * The command palette's restoration logic is handled separately from the\n * command palette provider extension because the layout restorer dependency\n * causes the command palette to be unavailable to other extensions earlier\n * in the application load cycle.\n */\nconst paletteRestorer = {\n    id: '@jupyterlab/apputils-extension:palette-restorer',\n    description: 'Restores the command palette.',\n    autoStart: true,\n    requires: [ILayoutRestorer, ITranslator],\n    activate: (app, restorer, translator) => {\n        Palette.restore(app, restorer, translator);\n    }\n};\n/**\n * The default window name resolver provider.\n */\nconst resolver = {\n    id: '@jupyterlab/apputils-extension:resolver',\n    description: 'Provides the window name resolver.',\n    autoStart: true,\n    provides: IWindowResolver,\n    requires: [JupyterFrontEnd.IPaths, IRouter],\n    activate: async (app, paths, router) => {\n        const { hash, search } = router.current;\n        const query = URLExt.queryStringToObject(search || '');\n        const solver = new WindowResolver();\n        const workspace = PageConfig.getOption('workspace');\n        const treePath = PageConfig.getOption('treePath');\n        const mode = PageConfig.getOption('mode') === 'multiple-document' ? 'lab' : 'doc';\n        // This is used as a key in local storage to refer to workspaces, either the name\n        // of the workspace or the string PageConfig.defaultWorkspace. Both lab and doc modes share the same workspace.\n        const candidate = workspace ? workspace : PageConfig.defaultWorkspace;\n        const rest = treePath ? URLExt.join('tree', treePath) : '';\n        try {\n            await solver.resolve(candidate);\n            return solver;\n        }\n        catch (error) {\n            // Window resolution has failed so the URL must change. Return a promise\n            // that never resolves to prevent the application from loading plugins\n            // that rely on `IWindowResolver`.\n            return new Promise(() => {\n                const { base } = paths.urls;\n                const pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n                const random = pool[Math.floor(Math.random() * pool.length)];\n                let path = URLExt.join(base, mode, 'workspaces', `auto-${random}`);\n                path = rest ? URLExt.join(path, URLExt.encodeParts(rest)) : path;\n                // Reset the workspace on load.\n                query['reset'] = '';\n                const url = path + URLExt.objectToQueryString(query) + (hash || '');\n                router.navigate(url, { hard: true });\n            });\n        }\n    }\n};\n/**\n * The default splash screen provider.\n */\nconst splash = {\n    id: '@jupyterlab/apputils-extension:splash',\n    description: 'Provides the splash screen.',\n    autoStart: true,\n    requires: [ITranslator],\n    provides: ISplashScreen,\n    activate: (app, translator) => {\n        const trans = translator.load('jupyterlab');\n        const { commands, restored } = app;\n        // Create splash element and populate it.\n        const splash = document.createElement('div');\n        const galaxy = document.createElement('div');\n        const logo = document.createElement('div');\n        splash.id = 'jupyterlab-splash';\n        galaxy.id = 'galaxy';\n        logo.id = 'main-logo';\n        jupyterFaviconIcon.element({\n            container: logo,\n            stylesheet: 'splash'\n        });\n        galaxy.appendChild(logo);\n        ['1', '2', '3'].forEach(id => {\n            const moon = document.createElement('div');\n            const planet = document.createElement('div');\n            moon.id = `moon${id}`;\n            moon.className = 'moon orbit';\n            planet.id = `planet${id}`;\n            planet.className = 'planet';\n            moon.appendChild(planet);\n            galaxy.appendChild(moon);\n        });\n        splash.appendChild(galaxy);\n        // Create debounced recovery dialog function.\n        let dialog;\n        const recovery = new Throttler(async () => {\n            if (dialog) {\n                return;\n            }\n            dialog = new Dialog({\n                title: trans.__('Loading'),\n                body: trans.__(`The loading screen is taking a long time.\nWould you like to clear the workspace or keep waiting?`),\n                buttons: [\n                    Dialog.cancelButton({ label: trans.__('Keep Waiting') }),\n                    Dialog.warnButton({ label: trans.__('Clear Workspace') })\n                ]\n            });\n            try {\n                const result = await dialog.launch();\n                dialog.dispose();\n                dialog = null;\n                if (result.button.accept && commands.hasCommand(CommandIDs.reset)) {\n                    return commands.execute(CommandIDs.reset);\n                }\n                // Re-invoke the recovery timer in the next frame.\n                requestAnimationFrame(() => {\n                    // Because recovery can be stopped, handle invocation rejection.\n                    void recovery.invoke().catch(_ => undefined);\n                });\n            }\n            catch (error) {\n                /* no-op */\n            }\n        }, { limit: SPLASH_RECOVER_TIMEOUT, edge: 'trailing' });\n        // Return ISplashScreen.\n        let splashCount = 0;\n        return {\n            show: (light = true) => {\n                splash.classList.remove('splash-fade');\n                splash.classList.toggle('light', light);\n                splash.classList.toggle('dark', !light);\n                splashCount++;\n                document.body.appendChild(splash);\n                // Because recovery can be stopped, handle invocation rejection.\n                void recovery.invoke().catch(_ => undefined);\n                return new DisposableDelegate(async () => {\n                    await restored;\n                    if (--splashCount === 0) {\n                        void recovery.stop();\n                        if (dialog) {\n                            dialog.dispose();\n                            dialog = null;\n                        }\n                        splash.classList.add('splash-fade');\n                        window.setTimeout(() => {\n                            document.body.removeChild(splash);\n                        }, 200);\n                    }\n                });\n            }\n        };\n    }\n};\nconst print = {\n    id: '@jupyterlab/apputils-extension:print',\n    description: 'Add the print capability',\n    autoStart: true,\n    requires: [ITranslator],\n    activate: (app, translator) => {\n        var _a;\n        const trans = translator.load('jupyterlab');\n        app.commands.addCommand(CommandIDs.print, {\n            label: trans.__('Print'),\n            isEnabled: () => {\n                const widget = app.shell.currentWidget;\n                return Printing.getPrintFunction(widget) !== null;\n            },\n            execute: async () => {\n                const widget = app.shell.currentWidget;\n                const printFunction = Printing.getPrintFunction(widget);\n                if (printFunction) {\n                    await printFunction();\n                }\n            }\n        });\n        (_a = app.shell.currentChanged) === null || _a === void 0 ? void 0 : _a.connect(() => {\n            app.commands.notifyCommandChanged(CommandIDs.print);\n        });\n    }\n};\nexport const toggleHeader = {\n    id: '@jupyterlab/apputils-extension:toggle-header',\n    description: 'Adds a command to display the main area widget content header.',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    activate: (app, translator, palette) => {\n        var _a;\n        const trans = translator.load('jupyterlab');\n        const category = trans.__('Main Area');\n        app.commands.addCommand(CommandIDs.toggleHeader, {\n            label: trans.__('Show Header Above Content'),\n            isEnabled: () => app.shell.currentWidget instanceof MainAreaWidget &&\n                !app.shell.currentWidget.contentHeader.isDisposed &&\n                app.shell.currentWidget.contentHeader.widgets.length > 0,\n            isToggled: () => {\n                const widget = app.shell.currentWidget;\n                return widget instanceof MainAreaWidget\n                    ? !widget.contentHeader.isHidden\n                    : false;\n            },\n            execute: async () => {\n                const widget = app.shell.currentWidget;\n                if (widget instanceof MainAreaWidget) {\n                    widget.contentHeader.setHidden(!widget.contentHeader.isHidden);\n                }\n            }\n        });\n        (_a = app.shell.currentChanged) === null || _a === void 0 ? void 0 : _a.connect(() => {\n            app.commands.notifyCommandChanged(CommandIDs.toggleHeader);\n        });\n        if (palette) {\n            palette.addItem({ command: CommandIDs.toggleHeader, category });\n        }\n    }\n};\n/**\n * Update the browser title based on the workspace and the current\n * active item.\n */\nasync function updateTabTitle(workspace, db, name) {\n    var _a, _b;\n    const data = await db.toJSON();\n    let current = (_b = (_a = data['layout-restorer:data']) === null || _a === void 0 ? void 0 : _a.main) === null || _b === void 0 ? void 0 : _b.current;\n    if (current === undefined) {\n        document.title = `${PageConfig.getOption('appName') || 'JupyterLab'}${workspace.startsWith('auto-') ? ` (${workspace})` : ``}`;\n    }\n    else {\n        // File name from current path\n        let currentFile = PathExt.basename(decodeURIComponent(window.location.href));\n        // Truncate to first 12 characters of current document name + ... if length > 15\n        currentFile =\n            currentFile.length > 15\n                ? currentFile.slice(0, 12).concat(``)\n                : currentFile;\n        // Number of restorable items that are either notebooks or editors\n        const count = Object.keys(data).filter(item => item.startsWith('notebook') || item.startsWith('editor')).length;\n        if (workspace.startsWith('auto-')) {\n            document.title = `${currentFile} (${workspace}${count > 1 ? ` : ${count}` : ``}) - ${name}`;\n        }\n        else {\n            document.title = `${currentFile}${count > 1 ? ` (${count})` : ``} - ${name}`;\n        }\n    }\n}\n/**\n * The default state database for storing application state.\n *\n * #### Notes\n * If this extension is loaded with a window resolver, it will automatically add\n * state management commands, URL support for `clone` and `reset`, and workspace\n * auto-saving. Otherwise, it will return a simple in-memory state database.\n */\nconst state = {\n    id: '@jupyterlab/apputils-extension:state',\n    description: 'Provides the application state. It is stored per workspaces.',\n    autoStart: true,\n    provides: IStateDB,\n    requires: [JupyterFrontEnd.IPaths, IRouter, ITranslator],\n    optional: [IWindowResolver],\n    activate: (app, paths, router, translator, resolver) => {\n        const trans = translator.load('jupyterlab');\n        if (resolver === null) {\n            return new StateDB();\n        }\n        let resolved = false;\n        const { commands, name, serviceManager } = app;\n        const { workspaces } = serviceManager;\n        const workspace = resolver.name;\n        const transform = new PromiseDelegate();\n        const db = new StateDB({ transform: transform.promise });\n        const save = new Debouncer(async () => {\n            const id = workspace;\n            const metadata = { id };\n            const data = await db.toJSON();\n            await workspaces.save(id, { data, metadata });\n        });\n        // Any time the local state database changes, save the workspace.\n        db.changed.connect(() => void save.invoke(), db);\n        db.changed.connect(() => updateTabTitle(workspace, db, name));\n        commands.addCommand(CommandIDs.loadState, {\n            label: trans.__('Load state for the current workspace.'),\n            execute: async (args) => {\n                // Since the command can be executed an arbitrary number of times, make\n                // sure it is safe to call multiple times.\n                if (resolved) {\n                    return;\n                }\n                const { hash, path, search } = args;\n                const query = URLExt.queryStringToObject(search || '');\n                const clone = typeof query['clone'] === 'string'\n                    ? query['clone'] === ''\n                        ? PageConfig.defaultWorkspace\n                        : query['clone']\n                    : null;\n                const source = clone || workspace || null;\n                if (source === null) {\n                    console.error(`${CommandIDs.loadState} cannot load null workspace.`);\n                    return;\n                }\n                try {\n                    const saved = await workspaces.fetch(source);\n                    // If this command is called after a reset, the state database\n                    // will already be resolved.\n                    if (!resolved) {\n                        resolved = true;\n                        transform.resolve({ type: 'overwrite', contents: saved.data });\n                    }\n                }\n                catch ({ message }) {\n                    console.warn(`Fetching workspace \"${workspace}\" failed.`, message);\n                    // If the workspace does not exist, cancel the data transformation\n                    // and save a workspace with the current user state data.\n                    if (!resolved) {\n                        resolved = true;\n                        transform.resolve({ type: 'cancel', contents: null });\n                    }\n                }\n                if (source === clone) {\n                    // Maintain the query string parameters but remove `clone`.\n                    delete query['clone'];\n                    const url = path + URLExt.objectToQueryString(query) + hash;\n                    const cloned = save.invoke().then(() => router.stop);\n                    // After the state has been cloned, navigate to the URL.\n                    void cloned.then(() => {\n                        router.navigate(url);\n                    });\n                    return cloned;\n                }\n                // After the state database has finished loading, save it.\n                await save.invoke();\n            }\n        });\n        commands.addCommand(CommandIDs.reset, {\n            label: trans.__('Reset Application State'),\n            execute: async ({ reload }) => {\n                await db.clear();\n                await save.invoke();\n                if (reload) {\n                    router.reload();\n                }\n            }\n        });\n        commands.addCommand(CommandIDs.resetOnLoad, {\n            label: trans.__('Reset state when loading for the workspace.'),\n            execute: (args) => {\n                const { hash, path, search } = args;\n                const query = URLExt.queryStringToObject(search || '');\n                const reset = 'reset' in query;\n                const clone = 'clone' in query;\n                if (!reset) {\n                    return;\n                }\n                // If the state database has already been resolved, resetting is\n                // impossible without reloading.\n                if (resolved) {\n                    return router.reload();\n                }\n                // Empty the state database.\n                resolved = true;\n                transform.resolve({ type: 'clear', contents: null });\n                // Maintain the query string parameters but remove `reset`.\n                delete query['reset'];\n                const url = path + URLExt.objectToQueryString(query) + hash;\n                const cleared = db.clear().then(() => save.invoke());\n                // After the state has been reset, navigate to the URL.\n                if (clone) {\n                    void cleared.then(() => {\n                        router.navigate(url, { hard: true });\n                    });\n                }\n                else {\n                    void cleared.then(() => {\n                        router.navigate(url);\n                    });\n                }\n                return cleared;\n            }\n        });\n        router.register({\n            command: CommandIDs.loadState,\n            pattern: /.?/,\n            rank: 30 // High priority: 30:100.\n        });\n        router.register({\n            command: CommandIDs.resetOnLoad,\n            pattern: /(\\?reset|\\&reset)($|&)/,\n            rank: 20 // High priority: 20:100.\n        });\n        return db;\n    }\n};\n/**\n * The default session context dialogs extension.\n */\nconst sessionDialogs = {\n    id: '@jupyterlab/apputils-extension:sessionDialogs',\n    description: 'Provides the session context dialogs.',\n    provides: ISessionContextDialogs,\n    optional: [ITranslator, ISettingRegistry],\n    autoStart: true,\n    activate: async (app, translator, settingRegistry) => {\n        return new SessionContextDialogs({\n            translator: translator !== null && translator !== void 0 ? translator : nullTranslator,\n            settingRegistry: settingRegistry !== null && settingRegistry !== void 0 ? settingRegistry : null\n        });\n    }\n};\n/**\n * Utility commands\n */\nconst utilityCommands = {\n    id: '@jupyterlab/apputils-extension:utilityCommands',\n    description: 'Adds meta commands to run set of other commands.',\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    autoStart: true,\n    activate: (app, translator, palette) => {\n        const trans = translator.load('jupyterlab');\n        const { commands } = app;\n        commands.addCommand(CommandIDs.runFirstEnabled, {\n            label: trans.__('Run First Enabled Command'),\n            execute: args => {\n                const commands = args.commands;\n                const commandArgs = args.args;\n                const argList = Array.isArray(args);\n                for (let i = 0; i < commands.length; i++) {\n                    const cmd = commands[i];\n                    const arg = argList ? commandArgs[i] : commandArgs;\n                    if (app.commands.isEnabled(cmd, arg)) {\n                        return app.commands.execute(cmd, arg);\n                    }\n                }\n            }\n        });\n        // Add a command for taking lists of commands and command arguments\n        // and running all the enabled commands.\n        commands.addCommand(CommandIDs.runAllEnabled, {\n            label: trans.__('Run All Enabled Commands Passed as Args'),\n            execute: async (args) => {\n                var _a, _b;\n                const commands = (_a = args.commands) !== null && _a !== void 0 ? _a : [];\n                const commandArgs = args.args;\n                const argList = Array.isArray(args);\n                const errorIfNotEnabled = (_b = args.errorIfNotEnabled) !== null && _b !== void 0 ? _b : false;\n                for (let i = 0; i < commands.length; i++) {\n                    const cmd = commands[i];\n                    const arg = argList ? commandArgs[i] : commandArgs;\n                    if (app.commands.isEnabled(cmd, arg)) {\n                        await app.commands.execute(cmd, arg);\n                    }\n                    else {\n                        if (errorIfNotEnabled) {\n                            console.error(`${cmd} is not enabled.`);\n                        }\n                    }\n                }\n            },\n            isEnabled: args => {\n                var _a;\n                const commands = (_a = args.commands) !== null && _a !== void 0 ? _a : [];\n                const commandArgs = args.args;\n                const argList = Array.isArray(args);\n                return commands.some((cmd, idx) => app.commands.isEnabled(cmd, argList ? commandArgs[idx] : commandArgs));\n            }\n        });\n        commands.addCommand(CommandIDs.displayShortcuts, {\n            label: trans.__('Show Keyboard Shortcuts'),\n            caption: trans.__('Show relevant keyboard shortcuts for the current active widget'),\n            execute: args => {\n                var _a;\n                const currentWidget = app.shell.currentWidget;\n                const included = currentWidget === null || currentWidget === void 0 ? void 0 : currentWidget.node.contains(document.activeElement);\n                if (!included && currentWidget instanceof MainAreaWidget) {\n                    const currentNode = (_a = currentWidget.content.node) !== null && _a !== void 0 ? _a : currentWidget === null || currentWidget === void 0 ? void 0 : currentWidget.node;\n                    currentNode === null || currentNode === void 0 ? void 0 : currentNode.focus();\n                }\n                const options = { commands, trans };\n                return displayShortcuts(options);\n            }\n        });\n        if (palette) {\n            const category = trans.__('Help');\n            palette.addItem({ command: CommandIDs.displayShortcuts, category });\n        }\n    }\n};\n/**\n * The default HTML sanitizer.\n */\nconst sanitizer = {\n    id: '@jupyterlab/apputils-extension:sanitizer',\n    description: 'Provides the HTML sanitizer.',\n    autoStart: true,\n    provides: ISanitizer,\n    requires: [ISettingRegistry],\n    activate: (app, settings) => {\n        const sanitizer = new Sanitizer();\n        const loadSetting = (setting) => {\n            const allowedSchemes = setting.get('allowedSchemes')\n                .composite;\n            const autolink = setting.get('autolink').composite;\n            const allowNamedProperties = setting.get('allowNamedProperties')\n                .composite;\n            if (allowedSchemes) {\n                sanitizer.setAllowedSchemes(allowedSchemes);\n            }\n            sanitizer.setAutolink(autolink);\n            sanitizer.setAllowNamedProperties(allowNamedProperties);\n        };\n        // Wait for the application to be restored and\n        // for the settings for this plugin to be loaded\n        settings\n            .load('@jupyterlab/apputils-extension:sanitizer')\n            .then(setting => {\n            // Read the settings\n            loadSetting(setting);\n            // Listen for your plugin setting changes using Signal\n            setting.changed.connect(loadSetting);\n        })\n            .catch(reason => {\n            console.error(`Failed to load sanitizer settings:`, reason);\n        });\n        return sanitizer;\n    }\n};\n/**\n * Export the plugins as default.\n */\nconst plugins = [\n    announcements,\n    kernelStatus,\n    notificationPlugin,\n    palette,\n    paletteRestorer,\n    print,\n    resolver,\n    runningSessionsStatus,\n    sanitizer,\n    settingsPlugin,\n    state,\n    splash,\n    sessionDialogs,\n    themesPlugin,\n    themesPaletteMenuPlugin,\n    toggleHeader,\n    toolbarRegistry,\n    utilityCommands,\n    workspacesPlugin\n];\nexport default plugins;\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n"],"names":["COMMAND_HELP_OPEN","PRIVACY_URL","async","requestAPI","endpoint","init","settings","ServerConnection","makeSettings","requestUrl","URLExt","join","baseUrl","response","makeRequest","error","NetworkError","data","json","ok","ResponseError","message","announcements","id","description","autoStart","optional","ISettingRegistry","ITranslator","activate","app","settingRegistry","translator","_a","CONFIG_SECTION_NAME","replace","Promise","all","restored","load","resolve","ConfigSection","create","name","then","_","config","trans","nullTranslator","Notification","manager","changed","connect","change","type","tags","notification","options","some","tag","includes","update","seen","dismissed","catch","reason","console","get","composite","notificationId","emit","__","autoClose","actions","label","caption","callback","event","preventDefault","commands","hasCommand","execute","text","url","window","open","displayType","dismiss","fetchNews","set","_b","_c","_d","link","news","state","length","push","log","CommandIDs","NotificationCenter","props","onClose","notifications","setNotifications","icons","setIcons","onChanged","map","n","Object","freeze","count","disconnect","Private","getIcons","toastifyIcons","r","UseSignal","signal","className","_n","ToolbarButtonComponent","noFocusOnClick","onClick","icon","deleteIcon","tooltip","enabled","closeIcon","toastType","closeNotification","spinner","key","stopPropagation","theme","createContent","CloseButton","close","react","title","closeIconMargin","display","notify","NotificationStatusModel","VDomModel","constructor","super","this","_highlight","_listOpened","_doNotDisturbMode","_count","onNotificationChanged","doNotDisturbMode","v","highlight","listOpened","stateChanged","noToast","NotificationStatus","GroupItem","spacing","TextItem","source","bellIcon","top","stylesheet","notificationPlugin","IStatusBar","statusBar","model","plugin","updateSettings","addCommand","args","action","commandId","popup","notificationList","ReactWidget","dispose","addClass","isDisposed","createToast","toast","isActive","closeToast","isLoading","render","t","displayNotifications","showPopup","body","anchor","notificationStatus","align","hasDynamicSize","startHidden","finally","launch","node","focus","disposed","removeClass","registerStatusItem","item","rank","style","position","bottom","right","Widget","attach","document","show","toastify","ToastifyCloseButton","waitForToastify","PromiseDelegate","promise","container","appendChild","createElement","classList","add","ToastContainer","draggable","closeOnClick","hideProgressBar","newestOnTop","pauseOnFocusLoss","pauseOnHover","transition","Slide","closeButton","Icons","displayType2Class","accent","warn","default","ToastButton","classes","Button","defaultPrevented","small","closeHandler","shortenMessage","slice","split","part","index","idx","toastId","undefined","Palette","palette","_palette","placeholder","inputNode","addItem","DisposableDelegate","removeItem","shell","createPalette","modalPalette","ModalCommandPalette","commandPalette","modal","setAttribute","loadSettings","newModal","parent","detach","updatePaletteTitle","binding","find","keyBindings","b","command","ks","keys","CommandRegistry","formatKeystroke","keyBindingChanged","activateById","restore","restorer","CommandPalette","renderer","CommandPaletteSvg","defaultRenderer","paletteIcon","SettingConnector","DataConnector","connector","_throttlers","_connector","fetch","throttlers","Throttler","invoke","list","query","isDisabled","PageConfig","Extension","ids","values","filter","save","raw","settingsPlugin","serviceManager","registry","SettingRegistry","plugins","value","hasPlugin","forEach","isPluginActivated","provides","kernelStatus","requires","IKernelStatusModel","ISessionContextDialogs","ILabShell","sessionDialogs_","translator_","labShell","sessionDialogs","SessionContextDialogs","changeKernel","sessionContext","selectKernel","KernelStatus","onKeyDown","providers","Set","updateSession","changes","oldValue","newValue","onTitleChanged","provider","session","activityName","currentChanged","priority","addSessionProvider","currentWidget","runningSessionsStatus","RunningSessions","sessions","Array","from","running","terminals","changeTheme","changePreferredLightTheme","changePreferredDarkTheme","toggleAdaptiveTheme","themeScrollbars","changeFont","incrFontSize","decrFontSize","themesPlugin","JupyterFrontEnd","IPaths","ISplashScreen","paths","splash","host","getBaseUrl","urls","themes","ThemeManager","currentTheme","scrollbarsStyleElement","themeChanged","sender","dataset","jpThemeLight","String","isLight","jpThemeName","colorScheme","jpThemeScrollbars","createTextNode","createStyleSheet","parentElement","removeChild","notifyCommandChanged","displayName","getDisplayName","isToggled","isToggledAdaptiveTheme","setTheme","preferredLightTheme","setPreferredLightTheme","preferredDarkTheme","setPreferredDarkTheme","isToggledThemeScrollbars","toggleThemeScrollbars","isEnabled","getCSS","setCSSOverride","IThemeManager","themesPaletteMenuPlugin","ICommandPalette","IMainMenu","mainMenu","themeMenu","settingsMenu","items","submenu","insertItem","isPalette","category","toolbarRegistry","IToolbarWidgetRegistry","ToolbarWidgetRegistry","defaultFactory","createDefaultFactory","WORKSPACE_NAME","WORKSPACE_EXT","workspacesPlugin","IStateDB","IRouter","IWorkspaceCommands","router","workspaceCommands","factory","WorkspaceFactory","workspaces","workspace","workspacesBase","startsWith","Error","navigate","hard","location","href","docRegistry","addFileType","contentType","fileFormat","extensions","mimeTypes","iconClass","addWidgetFactory","ABCWidgetFactory","fileTypes","defaultFor","readOnly","_state","_workspaces","_open","createNewWidget","context","ready","toJSON","path","metadata","widget","DocumentWidget","content","dummyWidget","SHORTCUT_TABLE_ITEM_CLASS","loadState","print","reset","resetOnLoad","runFirstEnabled","runAllEnabled","toggleHeader","displayShortcuts","paletteRestorer","ILayoutRestorer","resolver","IWindowResolver","hash","search","current","queryStringToObject","solver","WindowResolver","getOption","treePath","mode","candidate","defaultWorkspace","rest","base","random","Math","floor","pool","encodeParts","objectToQueryString","galaxy","logo","dialog","jupyterFaviconIcon","element","moon","planet","recovery","Dialog","buttons","cancelButton","warnButton","result","button","accept","requestAnimationFrame","limit","edge","splashCount","light","remove","toggle","stop","setTimeout","Printing","getPrintFunction","printFunction","MainAreaWidget","contentHeader","widgets","isHidden","setHidden","StateDB","resolved","transform","db","Debouncer","main","currentFile","PathExt","basename","decodeURIComponent","concat","updateTabTitle","clone","saved","contents","cloned","reload","clear","cleared","register","pattern","utilityCommands","commandArgs","argList","isArray","i","cmd","arg","errorIfNotEnabled","contains","activeElement","currentNode","elt","formatKeys","topContainer","ch","chIndex","formatLabel","automaticLabel","capitalizedLabel","str","charAt","toUpperCase","matchDistance","selector","targ","dist","hasAttribute","matches","activeBindings","Map","kb","distance","formatted","has","oldBinding","Selector","calculateSpecificity","maxDistance","groupedBindings","max","bindingTable","d","showDialog","sanitizer","ISanitizer","Sanitizer","loadSetting","setting","allowedSchemes","autolink","allowNamedProperties","setAllowedSchemes","setAutolink","setAllowNamedProperties","m","exports","createRoot","hydrateRoot"],"sourceRoot":""}