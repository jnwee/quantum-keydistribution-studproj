{"version":3,"file":"2951.bundle.js","mappings":"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","sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/lib/settingregistry.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/lib/tokens.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/ajv.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/codegen/scope.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/errors.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/names.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/ref_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/resolve.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/rules.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/util.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/applicability.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/dataType.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/defaults.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/keyword.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/compile/validate/subschema.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/core.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/equal.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/ucs2length.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/uri.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/runtime/validation_error.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/code.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/id.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/core/ref.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/draft7.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/format/format.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/format/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/metadata.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/const.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/required.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/settingregistry/node_modules/json-schema-traverse/index.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/json5/dist/index.js"],"sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { CommandRegistry } from '@lumino/commands';\nimport { JSONExt } from '@lumino/coreutils';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { Signal } from '@lumino/signaling';\nimport Ajv from 'ajv';\nimport * as json5 from 'json5';\nimport SCHEMA from './plugin-schema.json';\n/**\n * An alias for the JSON deep copy function.\n */\nconst copy = JSONExt.deepCopy;\n/** Default arguments for Ajv instances.\n *\n * https://ajv.js.org/options.html\n */\nconst AJV_DEFAULT_OPTIONS = {\n    /**\n     * @todo the implications of enabling strict mode are beyond the scope of\n     *       the initial PR\n     */\n    strict: false\n};\n/**\n * The ASCII record separator character.\n */\nconst RECORD_SEPARATOR = String.fromCharCode(30);\n/**\n * The default implementation of a schema validator.\n */\nexport class DefaultSchemaValidator {\n    /**\n     * Instantiate a schema validator.\n     */\n    constructor() {\n        this._composer = new Ajv({\n            useDefaults: true,\n            ...AJV_DEFAULT_OPTIONS\n        });\n        this._validator = new Ajv({ ...AJV_DEFAULT_OPTIONS });\n        this._composer.addSchema(SCHEMA, 'jupyterlab-plugin-schema');\n        this._validator.addSchema(SCHEMA, 'jupyterlab-plugin-schema');\n    }\n    /**\n     * Validate a plugin's schema and user data; populate the `composite` data.\n     *\n     * @param plugin - The plugin being validated. Its `composite` data will be\n     * populated by reference.\n     *\n     * @param populate - Whether plugin data should be populated, defaults to\n     * `true`.\n     *\n     * @returns A list of errors if either the schema or data fail to validate or\n     * `null` if there are no errors.\n     */\n    validateData(plugin, populate = true) {\n        const validate = this._validator.getSchema(plugin.id);\n        const compose = this._composer.getSchema(plugin.id);\n        // If the schemas do not exist, add them to the validator and continue.\n        if (!validate || !compose) {\n            if (plugin.schema.type !== 'object') {\n                const keyword = 'schema';\n                const message = `Setting registry schemas' root-level type must be ` +\n                    `'object', rejecting type: ${plugin.schema.type}`;\n                return [{ instancePath: 'type', keyword, schemaPath: '', message }];\n            }\n            const errors = this._addSchema(plugin.id, plugin.schema);\n            return errors || this.validateData(plugin);\n        }\n        // Parse the raw commented JSON into a user map.\n        let user;\n        try {\n            user = json5.parse(plugin.raw);\n        }\n        catch (error) {\n            if (error instanceof SyntaxError) {\n                return [\n                    {\n                        instancePath: '',\n                        keyword: 'syntax',\n                        schemaPath: '',\n                        message: error.message\n                    }\n                ];\n            }\n            const { column, description } = error;\n            const line = error.lineNumber;\n            return [\n                {\n                    instancePath: '',\n                    keyword: 'parse',\n                    schemaPath: '',\n                    message: `${description} (line ${line} column ${column})`\n                }\n            ];\n        }\n        if (!validate(user)) {\n            return validate.errors;\n        }\n        // Copy the user data before merging defaults into composite map.\n        const composite = copy(user);\n        if (!compose(composite)) {\n            return compose.errors;\n        }\n        if (populate) {\n            plugin.data = { composite, user };\n        }\n        return null;\n    }\n    /**\n     * Add a schema to the validator.\n     *\n     * @param plugin - The plugin ID.\n     *\n     * @param schema - The schema being added.\n     *\n     * @returns A list of errors if the schema fails to validate or `null` if there\n     * are no errors.\n     *\n     * #### Notes\n     * It is safe to call this function multiple times with the same plugin name.\n     */\n    _addSchema(plugin, schema) {\n        const composer = this._composer;\n        const validator = this._validator;\n        const validate = validator.getSchema('jupyterlab-plugin-schema');\n        // Validate against the main schema.\n        if (!validate(schema)) {\n            return validate.errors;\n        }\n        // Validate against the JSON schema meta-schema.\n        if (!validator.validateSchema(schema)) {\n            return validator.errors;\n        }\n        // Remove if schema already exists.\n        composer.removeSchema(plugin);\n        validator.removeSchema(plugin);\n        // Add schema to the validator and composer.\n        composer.addSchema(schema, plugin);\n        validator.addSchema(schema, plugin);\n        return null;\n    }\n}\n/**\n * The default concrete implementation of a setting registry.\n */\nexport class SettingRegistry {\n    /**\n     * Create a new setting registry.\n     */\n    constructor(options) {\n        /**\n         * The schema of the setting registry.\n         */\n        this.schema = SCHEMA;\n        /**\n         * The collection of setting registry plugins.\n         */\n        this.plugins = Object.create(null);\n        this._pluginChanged = new Signal(this);\n        this._ready = Promise.resolve();\n        this._transformers = Object.create(null);\n        this._unloadedPlugins = new Map();\n        this.connector = options.connector;\n        this.validator = options.validator || new DefaultSchemaValidator();\n        // Plugins with transformation may not be loaded if the transformation function is\n        // not yet available. To avoid fetching again the associated data when the transformation\n        // function is available, the plugin data is kept in cache.\n        if (options.plugins) {\n            options.plugins\n                .filter(plugin => plugin.schema['jupyter.lab.transform'])\n                .forEach(plugin => this._unloadedPlugins.set(plugin.id, plugin));\n            // Preload with any available data at instantiation-time.\n            this._ready = this._preload(options.plugins);\n        }\n    }\n    /**\n     * A signal that emits the name of a plugin when its settings change.\n     */\n    get pluginChanged() {\n        return this._pluginChanged;\n    }\n    /**\n     * Get an individual setting.\n     *\n     * @param plugin - The name of the plugin whose settings are being retrieved.\n     *\n     * @param key - The name of the setting being retrieved.\n     *\n     * @returns A promise that resolves when the setting is retrieved.\n     */\n    async get(plugin, key) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (plugin in plugins) {\n            const { composite, user } = plugins[plugin].data;\n            return {\n                composite: composite[key] !== undefined ? copy(composite[key]) : undefined,\n                user: user[key] !== undefined ? copy(user[key]) : undefined\n            };\n        }\n        return this.load(plugin).then(() => this.get(plugin, key));\n    }\n    /**\n     * Load a plugin's settings into the setting registry.\n     *\n     * @param plugin - The name of the plugin whose settings are being loaded.\n     *\n     * @param forceTransform - An optional parameter to force replay the transforms methods.\n     *\n     * @returns A promise that resolves with a plugin settings object or rejects\n     * if the plugin is not found.\n     */\n    async load(plugin, forceTransform = false) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        const registry = this; // eslint-disable-line\n        // If the plugin exists, resolve.\n        if (plugin in plugins) {\n            // Force replaying the transform function if expected.\n            if (forceTransform) {\n                // Empty the composite and user data before replaying the transforms.\n                plugins[plugin].data = { composite: {}, user: {} };\n                await this._load(await this._transform('fetch', plugins[plugin]));\n                this._pluginChanged.emit(plugin);\n            }\n            return new Settings({ plugin: plugins[plugin], registry });\n        }\n        // If the plugin is not loaded but has already been fetched.\n        if (this._unloadedPlugins.has(plugin) && plugin in this._transformers) {\n            await this._load(await this._transform('fetch', this._unloadedPlugins.get(plugin)));\n            if (plugin in plugins) {\n                this._pluginChanged.emit(plugin);\n                this._unloadedPlugins.delete(plugin);\n                return new Settings({ plugin: plugins[plugin], registry });\n            }\n        }\n        // If the plugin needs to be loaded from the data connector, fetch.\n        return this.reload(plugin);\n    }\n    /**\n     * Reload a plugin's settings into the registry even if they already exist.\n     *\n     * @param plugin - The name of the plugin whose settings are being reloaded.\n     *\n     * @returns A promise that resolves with a plugin settings object or rejects\n     * with a list of `ISchemaValidator.IError` objects if it fails.\n     */\n    async reload(plugin) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const fetched = await this.connector.fetch(plugin);\n        const plugins = this.plugins; // eslint-disable-line\n        const registry = this; // eslint-disable-line\n        if (fetched === undefined) {\n            throw [\n                {\n                    instancePath: '',\n                    keyword: 'id',\n                    message: `Could not fetch settings for ${plugin}.`,\n                    schemaPath: ''\n                }\n            ];\n        }\n        await this._load(await this._transform('fetch', fetched));\n        this._pluginChanged.emit(plugin);\n        return new Settings({ plugin: plugins[plugin], registry });\n    }\n    /**\n     * Remove a single setting in the registry.\n     *\n     * @param plugin - The name of the plugin whose setting is being removed.\n     *\n     * @param key - The name of the setting being removed.\n     *\n     * @returns A promise that resolves when the setting is removed.\n     */\n    async remove(plugin, key) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return;\n        }\n        const raw = json5.parse(plugins[plugin].raw);\n        // Delete both the value and any associated comment.\n        delete raw[key];\n        delete raw[`// ${key}`];\n        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], raw);\n        return this._save(plugin);\n    }\n    /**\n     * Set a single setting in the registry.\n     *\n     * @param plugin - The name of the plugin whose setting is being set.\n     *\n     * @param key - The name of the setting being set.\n     *\n     * @param value - The value of the setting being set.\n     *\n     * @returns A promise that resolves when the setting has been saved.\n     *\n     */\n    async set(plugin, key, value) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return this.load(plugin).then(() => this.set(plugin, key, value));\n        }\n        // Parse the raw JSON string removing all comments and return an object.\n        const raw = json5.parse(plugins[plugin].raw);\n        plugins[plugin].raw = Private.annotatedPlugin(plugins[plugin], {\n            ...raw,\n            [key]: value\n        });\n        return this._save(plugin);\n    }\n    /**\n     * Register a plugin transform function to act on a specific plugin.\n     *\n     * @param plugin - The name of the plugin whose settings are transformed.\n     *\n     * @param transforms - The transform functions applied to the plugin.\n     *\n     * @returns A disposable that removes the transforms from the registry.\n     *\n     * #### Notes\n     * - `compose` transformations: The registry automatically overwrites a\n     * plugin's default values with user overrides, but a plugin may instead wish\n     * to merge values. This behavior can be accomplished in a `compose`\n     * transformation.\n     * - `fetch` transformations: The registry uses the plugin data that is\n     * fetched from its connector. If a plugin wants to override, e.g. to update\n     * its schema with dynamic defaults, a `fetch` transformation can be applied.\n     */\n    transform(plugin, transforms) {\n        const transformers = this._transformers;\n        if (plugin in transformers) {\n            const error = new Error(`${plugin} already has a transformer.`);\n            error.name = 'TransformError';\n            throw error;\n        }\n        transformers[plugin] = {\n            fetch: transforms.fetch || (plugin => plugin),\n            compose: transforms.compose || (plugin => plugin)\n        };\n        return new DisposableDelegate(() => {\n            delete transformers[plugin];\n        });\n    }\n    /**\n     * Upload a plugin's settings.\n     *\n     * @param plugin - The name of the plugin whose settings are being set.\n     *\n     * @param raw - The raw plugin settings being uploaded.\n     *\n     * @returns A promise that resolves when the settings have been saved.\n     */\n    async upload(plugin, raw) {\n        // Wait for data preload before allowing normal operation.\n        await this._ready;\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            return this.load(plugin).then(() => this.upload(plugin, raw));\n        }\n        // Set the local copy.\n        plugins[plugin].raw = raw;\n        return this._save(plugin);\n    }\n    /**\n     * A promise which resolves when the pre-fetched plugins passed to the registry finished pre-loading.\n     */\n    get ready() {\n        return this._ready;\n    }\n    /**\n     * Load a plugin into the registry.\n     */\n    async _load(data) {\n        const plugin = data.id;\n        // Validate and preload the item.\n        try {\n            await this._validate(data);\n        }\n        catch (errors) {\n            const output = [`Validating ${plugin} failed:`];\n            errors.forEach((error, index) => {\n                const { instancePath, schemaPath, keyword, message } = error;\n                if (instancePath || schemaPath) {\n                    output.push(`${index} - schema @ ${schemaPath}, data @ ${instancePath}`);\n                }\n                output.push(`{${keyword}} ${message}`);\n            });\n            console.warn(output.join('\\n'));\n            throw errors;\n        }\n    }\n    /**\n     * Preload a list of plugins and fail gracefully.\n     */\n    async _preload(plugins) {\n        await Promise.all(plugins.map(async (plugin) => {\n            var _a;\n            try {\n                // Apply a transformation to the plugin if necessary.\n                await this._load(await this._transform('fetch', plugin));\n            }\n            catch (errors) {\n                /* Ignore silently if no transformers. */\n                if (((_a = errors[0]) === null || _a === void 0 ? void 0 : _a.keyword) !== 'unset') {\n                    console.warn('Ignored setting registry preload errors.', errors);\n                }\n            }\n        }));\n    }\n    /**\n     * Save a plugin in the registry.\n     */\n    async _save(plugin) {\n        const plugins = this.plugins;\n        if (!(plugin in plugins)) {\n            throw new Error(`${plugin} does not exist in setting registry.`);\n        }\n        try {\n            await this._validate(plugins[plugin]);\n        }\n        catch (errors) {\n            console.warn(`${plugin} validation errors:`, errors);\n            throw new Error(`${plugin} failed to validate; check console.`);\n        }\n        await this.connector.save(plugin, plugins[plugin].raw);\n        // Fetch and reload the data to guarantee server and client are in sync.\n        const fetched = await this.connector.fetch(plugin);\n        if (fetched === undefined) {\n            throw [\n                {\n                    instancePath: '',\n                    keyword: 'id',\n                    message: `Could not fetch settings for ${plugin}.`,\n                    schemaPath: ''\n                }\n            ];\n        }\n        await this._load(await this._transform('fetch', fetched));\n        this._pluginChanged.emit(plugin);\n    }\n    /**\n     * Transform the plugin if necessary.\n     */\n    async _transform(phase, plugin) {\n        const id = plugin.id;\n        const transformers = this._transformers;\n        if (!plugin.schema['jupyter.lab.transform']) {\n            return plugin;\n        }\n        if (id in transformers) {\n            const transformed = transformers[id][phase].call(null, plugin);\n            if (transformed.id !== id) {\n                throw [\n                    {\n                        instancePath: '',\n                        keyword: 'id',\n                        message: 'Plugin transformations cannot change plugin IDs.',\n                        schemaPath: ''\n                    }\n                ];\n            }\n            return transformed;\n        }\n        // If the plugin has no transformers, throw an error and bail.\n        throw [\n            {\n                instancePath: '',\n                keyword: 'unset',\n                message: `${plugin.id} has no transformers yet.`,\n                schemaPath: ''\n            }\n        ];\n    }\n    /**\n     * Validate and preload a plugin, compose the `composite` data.\n     */\n    async _validate(plugin) {\n        // Validate the user data and create the composite data.\n        const errors = this.validator.validateData(plugin);\n        if (errors) {\n            throw errors;\n        }\n        // Apply a transformation if necessary and set the local copy.\n        this.plugins[plugin.id] = await this._transform('compose', plugin);\n    }\n}\n/**\n * Base settings specified by a JSON schema.\n */\nexport class BaseSettings {\n    constructor(options) {\n        this._schema = options.schema;\n    }\n    /**\n     * The plugin's schema.\n     */\n    get schema() {\n        return this._schema;\n    }\n    /**\n     * Checks if any fields are different from the default value.\n     */\n    isDefault(user) {\n        for (const key in this.schema.properties) {\n            const value = user[key];\n            const defaultValue = this.default(key);\n            if (value === undefined ||\n                defaultValue === undefined ||\n                JSONExt.deepEqual(value, JSONExt.emptyObject) ||\n                JSONExt.deepEqual(value, JSONExt.emptyArray)) {\n                continue;\n            }\n            if (!JSONExt.deepEqual(value, defaultValue)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\n     * Calculate the default value of a setting by iterating through the schema.\n     *\n     * @param key - The name of the setting whose default value is calculated.\n     *\n     * @returns A calculated default JSON value for a specific setting.\n     */\n    default(key) {\n        return Private.reifyDefault(this.schema, key);\n    }\n}\n/**\n * A manager for a specific plugin's settings.\n */\nexport class Settings extends BaseSettings {\n    /**\n     * Instantiate a new plugin settings manager.\n     */\n    constructor(options) {\n        super({ schema: options.plugin.schema });\n        this._changed = new Signal(this);\n        this._isDisposed = false;\n        this.id = options.plugin.id;\n        this.registry = options.registry;\n        this.registry.pluginChanged.connect(this._onPluginChanged, this);\n    }\n    /**\n     * A signal that emits when the plugin's settings have changed.\n     */\n    get changed() {\n        return this._changed;\n    }\n    /**\n     * The composite of user settings and extension defaults.\n     */\n    get composite() {\n        return this.plugin.data.composite;\n    }\n    /**\n     * Test whether the plugin settings manager disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    get plugin() {\n        return this.registry.plugins[this.id];\n    }\n    /**\n     * The plugin settings raw text value.\n     */\n    get raw() {\n        return this.plugin.raw;\n    }\n    /**\n     * Whether the settings have been modified by the user or not.\n     */\n    get isModified() {\n        return !this.isDefault(this.user);\n    }\n    /**\n     * The user settings.\n     */\n    get user() {\n        return this.plugin.data.user;\n    }\n    /**\n     * The published version of the NPM package containing these settings.\n     */\n    get version() {\n        return this.plugin.version;\n    }\n    /**\n     * Return the defaults in a commented JSON format.\n     */\n    annotatedDefaults() {\n        return Private.annotatedDefaults(this.schema, this.id);\n    }\n    /**\n     * Dispose of the plugin settings resources.\n     */\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        Signal.clearData(this);\n    }\n    /**\n     * Get an individual setting.\n     *\n     * @param key - The name of the setting being retrieved.\n     *\n     * @returns The setting value.\n     *\n     * #### Notes\n     * This method returns synchronously because it uses a cached copy of the\n     * plugin settings that is synchronized with the registry.\n     */\n    get(key) {\n        const { composite, user } = this;\n        return {\n            composite: composite[key] !== undefined ? copy(composite[key]) : undefined,\n            user: user[key] !== undefined ? copy(user[key]) : undefined\n        };\n    }\n    /**\n     * Remove a single setting.\n     *\n     * @param key - The name of the setting being removed.\n     *\n     * @returns A promise that resolves when the setting is removed.\n     *\n     * #### Notes\n     * This function is asynchronous because it writes to the setting registry.\n     */\n    remove(key) {\n        return this.registry.remove(this.plugin.id, key);\n    }\n    /**\n     * Save all of the plugin's user settings at once.\n     */\n    save(raw) {\n        return this.registry.upload(this.plugin.id, raw);\n    }\n    /**\n     * Set a single setting.\n     *\n     * @param key - The name of the setting being set.\n     *\n     * @param value - The value of the setting.\n     *\n     * @returns A promise that resolves when the setting has been saved.\n     *\n     * #### Notes\n     * This function is asynchronous because it writes to the setting registry.\n     */\n    set(key, value) {\n        return this.registry.set(this.plugin.id, key, value);\n    }\n    /**\n     * Validates raw settings with comments.\n     *\n     * @param raw - The JSON with comments string being validated.\n     *\n     * @returns A list of errors or `null` if valid.\n     */\n    validate(raw) {\n        const data = { composite: {}, user: {} };\n        const { id, schema } = this.plugin;\n        const validator = this.registry.validator;\n        const version = this.version;\n        return validator.validateData({ data, id, raw, schema, version }, false);\n    }\n    /**\n     * Handle plugin changes in the setting registry.\n     */\n    _onPluginChanged(sender, plugin) {\n        if (plugin === this.plugin.id) {\n            this._changed.emit(undefined);\n        }\n    }\n}\n/**\n * A namespace for `SettingRegistry` statics.\n */\n(function (SettingRegistry) {\n    /**\n     * Reconcile the menus.\n     *\n     * @param reference The reference list of menus.\n     * @param addition The list of menus to add.\n     * @param warn Warn if the command items are duplicated within the same menu.\n     * @returns The reconciled list of menus.\n     */\n    function reconcileMenus(reference, addition, warn = false, addNewItems = true) {\n        if (!reference) {\n            return addition && addNewItems ? JSONExt.deepCopy(addition) : [];\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const merged = JSONExt.deepCopy(reference);\n        addition.forEach(menu => {\n            const refIndex = merged.findIndex(ref => ref.id === menu.id);\n            if (refIndex >= 0) {\n                merged[refIndex] = {\n                    ...merged[refIndex],\n                    ...menu,\n                    items: reconcileItems(merged[refIndex].items, menu.items, warn, addNewItems)\n                };\n            }\n            else {\n                if (addNewItems) {\n                    merged.push(menu);\n                }\n            }\n        });\n        return merged;\n    }\n    SettingRegistry.reconcileMenus = reconcileMenus;\n    /**\n     * Merge two set of menu items.\n     *\n     * @param reference Reference set of menu items\n     * @param addition New items to add\n     * @param warn Whether to warn if item is duplicated; default to false\n     * @returns The merged set of items\n     */\n    function reconcileItems(reference, addition, warn = false, addNewItems = true) {\n        if (!reference) {\n            return addition ? JSONExt.deepCopy(addition) : undefined;\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const items = JSONExt.deepCopy(reference);\n        // Merge array element depending on the type\n        addition.forEach(item => {\n            var _a;\n            switch ((_a = item.type) !== null && _a !== void 0 ? _a : 'command') {\n                case 'separator':\n                    if (addNewItems) {\n                        items.push({ ...item });\n                    }\n                    break;\n                case 'submenu':\n                    if (item.submenu) {\n                        const refIndex = items.findIndex(ref => { var _a, _b; return ref.type === 'submenu' && ((_a = ref.submenu) === null || _a === void 0 ? void 0 : _a.id) === ((_b = item.submenu) === null || _b === void 0 ? void 0 : _b.id); });\n                        if (refIndex < 0) {\n                            if (addNewItems) {\n                                items.push(JSONExt.deepCopy(item));\n                            }\n                        }\n                        else {\n                            items[refIndex] = {\n                                ...items[refIndex],\n                                ...item,\n                                submenu: reconcileMenus(items[refIndex].submenu\n                                    ? [items[refIndex].submenu]\n                                    : null, [item.submenu], warn, addNewItems)[0]\n                            };\n                        }\n                    }\n                    break;\n                case 'command':\n                    if (item.command) {\n                        const refIndex = items.findIndex(ref => {\n                            var _a, _b;\n                            return ref.command === item.command &&\n                                ref.selector === item.selector &&\n                                JSONExt.deepEqual((_a = ref.args) !== null && _a !== void 0 ? _a : {}, (_b = item.args) !== null && _b !== void 0 ? _b : {});\n                        });\n                        if (refIndex < 0) {\n                            if (addNewItems) {\n                                items.push({ ...item });\n                            }\n                        }\n                        else {\n                            if (warn) {\n                                console.warn(`Menu entry for command '${item.command}' is duplicated.`);\n                            }\n                            items[refIndex] = { ...items[refIndex], ...item };\n                        }\n                    }\n            }\n        });\n        return items;\n    }\n    SettingRegistry.reconcileItems = reconcileItems;\n    /**\n     * Remove disabled entries from menu items\n     *\n     * @param items Menu items\n     * @returns Filtered menu items\n     */\n    function filterDisabledItems(items) {\n        return items.reduce((final, value) => {\n            var _a;\n            const copy = { ...value };\n            if (!copy.disabled) {\n                if (copy.type === 'submenu') {\n                    const { submenu } = copy;\n                    if (submenu && !submenu.disabled) {\n                        copy.submenu = {\n                            ...submenu,\n                            items: filterDisabledItems((_a = submenu.items) !== null && _a !== void 0 ? _a : [])\n                        };\n                    }\n                }\n                final.push(copy);\n            }\n            return final;\n        }, []);\n    }\n    SettingRegistry.filterDisabledItems = filterDisabledItems;\n    /**\n     * Reconcile default and user shortcuts and return the composite list.\n     *\n     * @param defaults - The list of default shortcuts.\n     *\n     * @param user - The list of user shortcut overrides and additions.\n     *\n     * @returns A loadable list of shortcuts (omitting disabled and overridden).\n     */\n    function reconcileShortcuts(defaults, user) {\n        const memo = {};\n        // If a user shortcut collides with another user shortcut warn and filter.\n        user = [\n            // Reorder so that disabled are first\n            ...user.filter(s => !!s.disabled),\n            ...user.filter(s => !s.disabled)\n        ].filter(shortcut => {\n            const keys = CommandRegistry.normalizeKeys(shortcut).join(RECORD_SEPARATOR);\n            if (!keys) {\n                console.warn('Skipping this shortcut because there are no actionable keys on this platform', shortcut);\n                return false;\n            }\n            if (!(keys in memo)) {\n                memo[keys] = {};\n            }\n            const { disabled, selector } = shortcut;\n            if (!(selector in memo[keys])) {\n                memo[keys][selector] = {\n                    enabledUserShortcut: disabled ? null : shortcut,\n                    enabledDefaultShortcut: null,\n                    shouldDisableDefaultShortcut: !!disabled\n                };\n                return !disabled;\n            }\n            if (memo[keys][selector].enabledUserShortcut === null) {\n                if (disabled) {\n                    memo[keys][selector].shouldDisableDefaultShortcut = true;\n                    return false;\n                }\n                else {\n                    memo[keys][selector].enabledUserShortcut = shortcut;\n                    return true;\n                }\n            }\n            else {\n                console.warn('Skipping', shortcut, 'shortcut because it collides with another enabled shortcut:', memo[keys][selector].enabledUserShortcut);\n                return false;\n            }\n        });\n        // If a default shortcut collides with another default, warn and filter,\n        // unless one of the shortcuts is a disabling shortcut (so look through\n        // disabled shortcuts first). If a shortcut has already been added by the\n        // user preferences, filter it out too (this includes shortcuts that are\n        // disabled by user preferences).\n        defaults = [\n            ...defaults.filter(s => !!s.disabled),\n            ...defaults.filter(s => !s.disabled)\n        ].filter(shortcut => {\n            const keys = CommandRegistry.normalizeKeys(shortcut).join(RECORD_SEPARATOR);\n            if (!keys) {\n                return false;\n            }\n            if (!(keys in memo)) {\n                memo[keys] = {};\n            }\n            const { disabled, selector } = shortcut;\n            if (!(selector in memo[keys])) {\n                memo[keys][selector] = {\n                    enabledUserShortcut: null,\n                    enabledDefaultShortcut: disabled ? null : shortcut,\n                    shouldDisableDefaultShortcut: !!disabled\n                };\n                return !disabled;\n            }\n            if (memo[keys][selector].enabledDefaultShortcut === null) {\n                if (disabled) {\n                    memo[keys][selector].shouldDisableDefaultShortcut = true;\n                    return false;\n                }\n                else {\n                    if (memo[keys][selector].shouldDisableDefaultShortcut) {\n                        // Default shortcut was disabled - no warning\n                        return false;\n                    }\n                    else {\n                        memo[keys][selector].enabledDefaultShortcut = shortcut;\n                        return true;\n                    }\n                }\n            }\n            else {\n                if (memo[keys][selector].shouldDisableDefaultShortcut) {\n                    // Default shortcut was disabled - no warning\n                    return false;\n                }\n                else {\n                    // Default shortcut conflicts - emit warning\n                    console.warn('Skipping', shortcut, 'default shortcut because it collides with another enabled default shortcut:', memo[keys][selector].enabledDefaultShortcut);\n                    return false;\n                }\n            }\n        });\n        // Return all the shortcuts that should be registered\n        return Private.upgradeShortcuts(user\n            .concat(defaults)\n            .filter(shortcut => !shortcut.disabled)\n            // Fix shortcuts comparison in rjsf Form to avoid polluting the user settings\n            .map(shortcut => {\n            return { args: {}, ...shortcut };\n        }));\n    }\n    SettingRegistry.reconcileShortcuts = reconcileShortcuts;\n    /**\n     * Merge two set of toolbar items.\n     *\n     * @param reference Reference set of toolbar items\n     * @param addition New items to add\n     * @param warn Whether to warn if item is duplicated; default to false\n     * @returns The merged set of items\n     */\n    function reconcileToolbarItems(reference, addition, warn = false) {\n        if (!reference) {\n            return addition ? JSONExt.deepCopy(addition) : undefined;\n        }\n        if (!addition) {\n            return JSONExt.deepCopy(reference);\n        }\n        const items = JSONExt.deepCopy(reference);\n        // Merge array element depending on the type\n        addition.forEach(item => {\n            // Name must be unique so it's sufficient to only compare it\n            const refIndex = items.findIndex(ref => ref.name === item.name);\n            if (refIndex < 0) {\n                items.push({ ...item });\n            }\n            else {\n                if (warn &&\n                    JSONExt.deepEqual(Object.keys(item), Object.keys(items[refIndex]))) {\n                    console.warn(`Toolbar item '${item.name}' is duplicated.`);\n                }\n                items[refIndex] = { ...items[refIndex], ...item };\n            }\n        });\n        return items;\n    }\n    SettingRegistry.reconcileToolbarItems = reconcileToolbarItems;\n})(SettingRegistry || (SettingRegistry = {}));\n/**\n * A namespace for private module data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The default indentation level, uses spaces instead of tabs.\n     */\n    const indent = '    ';\n    /**\n     * Replacement text for schema properties missing a `description` field.\n     */\n    const nondescript = '[missing schema description]';\n    /**\n     * Replacement text for schema properties missing a `title` field.\n     */\n    const untitled = '[missing schema title]';\n    /**\n     * Returns an annotated (JSON with comments) version of a schema's defaults.\n     */\n    function annotatedDefaults(schema, plugin) {\n        const { description, properties, title } = schema;\n        const keys = properties\n            ? Object.keys(properties).sort((a, b) => a.localeCompare(b))\n            : [];\n        const length = Math.max((description || nondescript).length, plugin.length);\n        return [\n            '{',\n            prefix(`${title || untitled}`),\n            prefix(plugin),\n            prefix(description || nondescript),\n            prefix('*'.repeat(length)),\n            '',\n            join(keys.map(key => defaultDocumentedValue(schema, key))),\n            '}'\n        ].join('\\n');\n    }\n    Private.annotatedDefaults = annotatedDefaults;\n    /**\n     * Returns an annotated (JSON with comments) version of a plugin's\n     * setting data.\n     */\n    function annotatedPlugin(plugin, data) {\n        const { description, title } = plugin.schema;\n        const keys = Object.keys(data).sort((a, b) => a.localeCompare(b));\n        const length = Math.max((description || nondescript).length, plugin.id.length);\n        return [\n            '{',\n            prefix(`${title || untitled}`),\n            prefix(plugin.id),\n            prefix(description || nondescript),\n            prefix('*'.repeat(length)),\n            '',\n            join(keys.map(key => documentedValue(plugin.schema, key, data[key]))),\n            '}'\n        ].join('\\n');\n    }\n    Private.annotatedPlugin = annotatedPlugin;\n    /**\n     * Returns the default value-with-documentation-string for a\n     * specific schema property.\n     */\n    function defaultDocumentedValue(schema, key) {\n        const props = (schema.properties && schema.properties[key]) || {};\n        const type = props['type'];\n        const description = props['description'] || nondescript;\n        const title = props['title'] || '';\n        const reified = reifyDefault(schema, key);\n        const spaces = indent.length;\n        const defaults = reified !== undefined\n            ? prefix(`\"${key}\": ${JSON.stringify(reified, null, spaces)}`, indent)\n            : prefix(`\"${key}\": ${type}`);\n        return [prefix(title), prefix(description), defaults]\n            .filter(str => str.length)\n            .join('\\n');\n    }\n    /**\n     * Returns a value-with-documentation-string for a specific schema property.\n     */\n    function documentedValue(schema, key, value) {\n        const props = schema.properties && schema.properties[key];\n        const description = (props && props['description']) || nondescript;\n        const title = (props && props['title']) || untitled;\n        const spaces = indent.length;\n        const attribute = prefix(`\"${key}\": ${JSON.stringify(value, null, spaces)}`, indent);\n        return [prefix(title), prefix(description), attribute].join('\\n');\n    }\n    /**\n     * Returns a joined string with line breaks and commas where appropriate.\n     */\n    function join(body) {\n        return body.reduce((acc, val, idx) => {\n            const rows = val.split('\\n');\n            const last = rows[rows.length - 1];\n            const comment = last.trim().indexOf('//') === 0;\n            const comma = comment || idx === body.length - 1 ? '' : ',';\n            const separator = idx === body.length - 1 ? '' : '\\n\\n';\n            return acc + val + comma + separator;\n        }, '');\n    }\n    /**\n     * Returns a documentation string with a comment prefix added on every line.\n     */\n    function prefix(source, pre = `${indent}// `) {\n        return pre + source.split('\\n').join(`\\n${pre}`);\n    }\n    /**\n     * Create a fully extrapolated default value for a root key in a schema.\n     *\n     * @todo This function would ideally reuse `getDefaultFormState` from rjsf\n     * with appropriate`defaultFormStateBehavior` setting, as currently\n     * these two implementations duplicate each other.\n     *\n     * Note: absence of a property may mean something else than the default.\n     */\n    function reifyDefault(schema, root, definitions, required) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        definitions = definitions !== null && definitions !== void 0 ? definitions : schema.definitions;\n        // If the property is at the root level, traverse its schema.\n        required = root\n            ? schema.required instanceof Array &&\n                ((_a = schema.required) === null || _a === void 0 ? void 0 : _a.includes(root))\n            : required;\n        schema = (root ? (_b = schema.properties) === null || _b === void 0 ? void 0 : _b[root] : schema) || {};\n        if (schema.type === 'object') {\n            // Make a copy of the default value to populate.\n            const result = JSONExt.deepCopy(schema.default);\n            // Iterate through and populate each child property.\n            const props = schema.properties || {};\n            for (const property in props) {\n                result[property] = reifyDefault(props[property], undefined, definitions, schema.required instanceof Array &&\n                    ((_c = schema.required) === null || _c === void 0 ? void 0 : _c.includes(property)));\n            }\n            return result;\n        }\n        else if (schema.type === 'array') {\n            const defaultDefined = typeof schema.default !== 'undefined';\n            const shouldPopulateDefaultArray = defaultDefined || required;\n            if (!shouldPopulateDefaultArray) {\n                return undefined;\n            }\n            // Make a copy of the default value to populate.\n            const result = defaultDefined\n                ? JSONExt.deepCopy(schema.default)\n                : [];\n            // Items defines the properties of each item in the array\n            let props = schema.items || {};\n            // Use referenced definition if one exists\n            if (props['$ref'] && definitions) {\n                const ref = props['$ref'].replace('#/definitions/', '');\n                props = (_d = definitions[ref]) !== null && _d !== void 0 ? _d : {};\n            }\n            // Iterate through the items in the array and fill in defaults\n            for (const item in result) {\n                if (props.type === 'object') {\n                    // Use the values that are hard-coded in the default array over the defaults for each field.\n                    const reified = (_f = (_e = reifyDefault(props, undefined, definitions)) !== null && _e !== void 0 ? _e : result[item]) !== null && _f !== void 0 ? _f : {};\n                    for (const prop in reified) {\n                        if ((_g = result[item]) === null || _g === void 0 ? void 0 : _g[prop]) {\n                            reified[prop] = result[item][prop];\n                        }\n                    }\n                    result[item] = reified;\n                }\n            }\n            return result;\n        }\n        else {\n            return schema.default;\n        }\n    }\n    Private.reifyDefault = reifyDefault;\n    /**\n     * Selectors which were previously warned about.\n     */\n    const selectorsAlreadyWarnedAbout = new Set();\n    /**\n     * Upgrade shortcuts to ensure no breaking changes between minor versions.\n     */\n    function upgradeShortcuts(shortcuts) {\n        const selectorDeprecationWarnings = new Set();\n        const changes = [\n            {\n                old: '.jp-Notebook:focus.jp-mod-commandMode',\n                new: '.jp-Notebook.jp-mod-commandMode:not(.jp-mod-readWrite) :focus',\n                versionDeprecated: 'JupyterLab 4.1'\n            },\n            {\n                old: '.jp-Notebook.jp-mod-commandMode :focus:not(:read-write)',\n                new: '.jp-Notebook.jp-mod-commandMode:not(.jp-mod-readWrite) :focus',\n                versionDeprecated: 'JupyterLab 4.1.1'\n            },\n            {\n                old: '.jp-Notebook:focus',\n                new: '.jp-Notebook.jp-mod-commandMode:not(.jp-mod-readWrite) :focus',\n                versionDeprecated: 'JupyterLab 4.1'\n            },\n            {\n                old: '[data-jp-traversable]:focus',\n                new: '.jp-Notebook.jp-mod-commandMode:not(.jp-mod-readWrite) :focus',\n                versionDeprecated: 'JupyterLab 4.1'\n            },\n            {\n                old: '[data-jp-kernel-user]:focus',\n                new: '[data-jp-kernel-user]:not(.jp-mod-readWrite) :focus:not(:read-write)',\n                versionDeprecated: 'JupyterLab 4.1'\n            },\n            {\n                old: '[data-jp-kernel-user] :focus:not(:read-write)',\n                new: '[data-jp-kernel-user]:not(.jp-mod-readWrite) :focus:not(:read-write)',\n                versionDeprecated: 'JupyterLab 4.1.1'\n            }\n        ];\n        const upgraded = shortcuts.map(shortcut => {\n            const oldSelector = shortcut.selector;\n            let newSelector = oldSelector;\n            for (const change of changes) {\n                if (oldSelector.includes(change.old)) {\n                    newSelector = oldSelector.replace(change.old, change.new);\n                    if (!selectorsAlreadyWarnedAbout.has(oldSelector)) {\n                        selectorDeprecationWarnings.add(`\"${change.old}\" was replaced with \"${change.new}\" in ${change.versionDeprecated} (present in \"${oldSelector}\")`);\n                        selectorsAlreadyWarnedAbout.add(oldSelector);\n                    }\n                }\n            }\n            shortcut.selector = newSelector;\n            return shortcut;\n        });\n        if (selectorDeprecationWarnings.size > 0) {\n            console.warn('Deprecated shortcut selectors: ' +\n                [...selectorDeprecationWarnings].join('\\n') +\n                '\\n\\nThe selectors will be substituted transparently this time, but need to be updated at source before next major release.');\n        }\n        return upgraded;\n    }\n    Private.upgradeShortcuts = upgradeShortcuts;\n})(Private || (Private = {}));\n//# sourceMappingURL=settingregistry.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { Token } from '@lumino/coreutils';\n/**\n * The setting registry token.\n */\nexport const ISettingRegistry = new Token('@jupyterlab/coreutils:ISettingRegistry', `A service for the JupyterLab settings system.\n  Use this if you want to store settings for your application.\n  See \"schemaDir\" for more information.`);\n//# sourceMappingURL=tokens.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = exports.Ajv = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nexports.Ajv = Ajv;\nmodule.exports = exports = Ajv;\nmodule.exports.Ajv = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState || (exports.UsedValueState = UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"), // also used in JTD errors\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil], // TODO can its length be used as dataLevel if nil is removed?\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"), // data passed to validation function\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"), // validation/data context - should not be used directly, it is destructured to the names below\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"), // root data - same as the data passed to the first/top validation function\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"), // used to support recursiveRef and dynamicRef\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"), // null or array of validation errors\n    errors: new codegen_1.Name(\"errors\"), // counter of validation errors\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let innerBaseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            innerBaseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = innerBaseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(innerBaseId ? _resolve(innerBaseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type || (exports.Type = Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType || (exports.DataType = DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nexports.default = Ajv;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"fast-uri\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    const ref = sch.$ref;\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                    if (sch === undefined)\n                        throw new ref_error_1.default(it.opts.uriResolver, it.baseId, ref);\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError || (exports.DiscrError = DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.JSON5 = factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar _global = createCommonjsModule(function (module) {\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self\n\t  // eslint-disable-next-line no-new-func\n\t  : Function('return this')();\n\tif (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef\n\t});\n\n\tvar _core = createCommonjsModule(function (module) {\n\tvar core = module.exports = { version: '2.6.5' };\n\tif (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef\n\t});\n\tvar _core_1 = _core.version;\n\n\tvar _isObject = function (it) {\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n\tvar _anObject = function (it) {\n\t  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }\n\t  return it;\n\t};\n\n\tvar _fails = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n\t// Thank's IE8 for his funny defineProperty\n\tvar _descriptors = !_fails(function () {\n\t  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\tvar document = _global.document;\n\t// typeof document.createElement is 'object' in old IE\n\tvar is = _isObject(document) && _isObject(document.createElement);\n\tvar _domCreate = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n\tvar _ie8DomDefine = !_descriptors && !_fails(function () {\n\t  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tvar _toPrimitive = function (it, S) {\n\t  if (!_isObject(it)) { return it; }\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n\tvar dP = Object.defineProperty;\n\n\tvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n\t  _anObject(O);\n\t  P = _toPrimitive(P, true);\n\t  _anObject(Attributes);\n\t  if (_ie8DomDefine) { try {\n\t    return dP(O, P, Attributes);\n\t  } catch (e) { /* empty */ } }\n\t  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }\n\t  if ('value' in Attributes) { O[P] = Attributes.value; }\n\t  return O;\n\t};\n\n\tvar _objectDp = {\n\t\tf: f\n\t};\n\n\tvar _propertyDesc = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n\tvar _hide = _descriptors ? function (object, key, value) {\n\t  return _objectDp.f(object, key, _propertyDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tvar _has = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n\tvar id = 0;\n\tvar px = Math.random();\n\tvar _uid = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n\tvar _library = false;\n\n\tvar _shared = createCommonjsModule(function (module) {\n\tvar SHARED = '__core-js_shared__';\n\tvar store = _global[SHARED] || (_global[SHARED] = {});\n\n\t(module.exports = function (key, value) {\n\t  return store[key] || (store[key] = value !== undefined ? value : {});\n\t})('versions', []).push({\n\t  version: _core.version,\n\t  mode: _library ? 'pure' : 'global',\n\t  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n\t});\n\t});\n\n\tvar _functionToString = _shared('native-function-to-string', Function.toString);\n\n\tvar _redefine = createCommonjsModule(function (module) {\n\tvar SRC = _uid('src');\n\n\tvar TO_STRING = 'toString';\n\tvar TPL = ('' + _functionToString).split(TO_STRING);\n\n\t_core.inspectSource = function (it) {\n\t  return _functionToString.call(it);\n\t};\n\n\t(module.exports = function (O, key, val, safe) {\n\t  var isFunction = typeof val == 'function';\n\t  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }\n\t  if (O[key] === val) { return; }\n\t  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }\n\t  if (O === _global) {\n\t    O[key] = val;\n\t  } else if (!safe) {\n\t    delete O[key];\n\t    _hide(O, key, val);\n\t  } else if (O[key]) {\n\t    O[key] = val;\n\t  } else {\n\t    _hide(O, key, val);\n\t  }\n\t// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || _functionToString.call(this);\n\t});\n\t});\n\n\tvar _aFunction = function (it) {\n\t  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }\n\t  return it;\n\t};\n\n\t// optional / simple context binding\n\n\tvar _ctx = function (fn, that, length) {\n\t  _aFunction(fn);\n\t  if (that === undefined) { return fn; }\n\t  switch (length) {\n\t    case 1: return function (a) {\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function (a, b) {\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function (a, b, c) {\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function (/* ...args */) {\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n\tvar PROTOTYPE = 'prototype';\n\n\tvar $export = function (type, name, source) {\n\t  var IS_FORCED = type & $export.F;\n\t  var IS_GLOBAL = type & $export.G;\n\t  var IS_STATIC = type & $export.S;\n\t  var IS_PROTO = type & $export.P;\n\t  var IS_BIND = type & $export.B;\n\t  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n\t  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n\t  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n\t  var key, own, out, exp;\n\t  if (IS_GLOBAL) { source = name; }\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && target[key] !== undefined;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target) { _redefine(target, key, out, type & $export.U); }\n\t    // export\n\t    if (exports[key] != out) { _hide(exports, key, exp); }\n\t    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }\n\t  }\n\t};\n\t_global.core = _core;\n\t// type bitmap\n\t$export.F = 1;   // forced\n\t$export.G = 2;   // global\n\t$export.S = 4;   // static\n\t$export.P = 8;   // proto\n\t$export.B = 16;  // bind\n\t$export.W = 32;  // wrap\n\t$export.U = 64;  // safe\n\t$export.R = 128; // real proto method for `library`\n\tvar _export = $export;\n\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil;\n\tvar floor = Math.floor;\n\tvar _toInteger = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tvar _defined = function (it) {\n\t  if (it == undefined) { throw TypeError(\"Can't call method on  \" + it); }\n\t  return it;\n\t};\n\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tvar _stringAt = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(_defined(that));\n\t    var i = _toInteger(pos);\n\t    var l = s.length;\n\t    var a, b;\n\t    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n\tvar $at = _stringAt(false);\n\t_export(_export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n\tvar codePointAt = _core.String.codePointAt;\n\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar _toAbsoluteIndex = function (index, length) {\n\t  index = _toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n\tvar fromCharCode = String.fromCharCode;\n\tvar $fromCodePoint = String.fromCodePoint;\n\n\t// length should be 1, old FF problem\n\t_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    var arguments$1 = arguments;\n\t // eslint-disable-line no-unused-vars\n\t    var res = [];\n\t    var aLen = arguments.length;\n\t    var i = 0;\n\t    var code;\n\t    while (aLen > i) {\n\t      code = +arguments$1[i++];\n\t      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }\n\t      res.push(code < 0x10000\n\t        ? fromCharCode(code)\n\t        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n\t      );\n\t    } return res.join('');\n\t  }\n\t});\n\n\tvar fromCodePoint = _core.String.fromCodePoint;\n\n\t// This is a generated file. Do not edit.\n\tvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\tvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\n\tvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\n\tvar unicode = {\n\t\tSpace_Separator: Space_Separator,\n\t\tID_Start: ID_Start,\n\t\tID_Continue: ID_Continue\n\t};\n\n\tvar util = {\n\t    isSpaceSeparator: function isSpaceSeparator (c) {\n\t        return typeof c === 'string' && unicode.Space_Separator.test(c)\n\t    },\n\n\t    isIdStartChar: function isIdStartChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c === '$') || (c === '_') ||\n\t        unicode.ID_Start.test(c)\n\t        )\n\t    },\n\n\t    isIdContinueChar: function isIdContinueChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c >= '0' && c <= '9') ||\n\t        (c === '$') || (c === '_') ||\n\t        (c === '\\u200C') || (c === '\\u200D') ||\n\t        unicode.ID_Continue.test(c)\n\t        )\n\t    },\n\n\t    isDigit: function isDigit (c) {\n\t        return typeof c === 'string' && /[0-9]/.test(c)\n\t    },\n\n\t    isHexDigit: function isHexDigit (c) {\n\t        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n\t    },\n\t};\n\n\tvar source;\n\tvar parseState;\n\tvar stack;\n\tvar pos;\n\tvar line;\n\tvar column;\n\tvar token;\n\tvar key;\n\tvar root;\n\n\tvar parse = function parse (text, reviver) {\n\t    source = String(text);\n\t    parseState = 'start';\n\t    stack = [];\n\t    pos = 0;\n\t    line = 1;\n\t    column = 0;\n\t    token = undefined;\n\t    key = undefined;\n\t    root = undefined;\n\n\t    do {\n\t        token = lex();\n\n\t        // This code is unreachable.\n\t        // if (!parseStates[parseState]) {\n\t        //     throw invalidParseState()\n\t        // }\n\n\t        parseStates[parseState]();\n\t    } while (token.type !== 'eof')\n\n\t    if (typeof reviver === 'function') {\n\t        return internalize({'': root}, '', reviver)\n\t    }\n\n\t    return root\n\t};\n\n\tfunction internalize (holder, name, reviver) {\n\t    var value = holder[name];\n\t    if (value != null && typeof value === 'object') {\n\t        if (Array.isArray(value)) {\n\t            for (var i = 0; i < value.length; i++) {\n\t                var key = String(i);\n\t                var replacement = internalize(value, key, reviver);\n\t                if (replacement === undefined) {\n\t                    delete value[key];\n\t                } else {\n\t                    Object.defineProperty(value, key, {\n\t                        value: replacement,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        } else {\n\t            for (var key$1 in value) {\n\t                var replacement$1 = internalize(value, key$1, reviver);\n\t                if (replacement$1 === undefined) {\n\t                    delete value[key$1];\n\t                } else {\n\t                    Object.defineProperty(value, key$1, {\n\t                        value: replacement$1,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    return reviver.call(holder, name, value)\n\t}\n\n\tvar lexState;\n\tvar buffer;\n\tvar doubleQuote;\n\tvar sign;\n\tvar c;\n\n\tfunction lex () {\n\t    lexState = 'default';\n\t    buffer = '';\n\t    doubleQuote = false;\n\t    sign = 1;\n\n\t    for (;;) {\n\t        c = peek();\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[lexState]) {\n\t        //     throw invalidLexState(lexState)\n\t        // }\n\n\t        var token = lexStates[lexState]();\n\t        if (token) {\n\t            return token\n\t        }\n\t    }\n\t}\n\n\tfunction peek () {\n\t    if (source[pos]) {\n\t        return String.fromCodePoint(source.codePointAt(pos))\n\t    }\n\t}\n\n\tfunction read () {\n\t    var c = peek();\n\n\t    if (c === '\\n') {\n\t        line++;\n\t        column = 0;\n\t    } else if (c) {\n\t        column += c.length;\n\t    } else {\n\t        column++;\n\t    }\n\n\t    if (c) {\n\t        pos += c.length;\n\t    }\n\n\t    return c\n\t}\n\n\tvar lexStates = {\n\t    default: function default$1 () {\n\t        switch (c) {\n\t        case '\\t':\n\t        case '\\v':\n\t        case '\\f':\n\t        case ' ':\n\t        case '\\u00A0':\n\t        case '\\uFEFF':\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'comment';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        if (util.isSpaceSeparator(c)) {\n\t            read();\n\t            return\n\t        }\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[parseState]) {\n\t        //     throw invalidLexState(parseState)\n\t        // }\n\n\t        return lexStates[parseState]()\n\t    },\n\n\t    comment: function comment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineComment';\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'singleLineComment';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    multiLineComment: function multiLineComment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineCommentAsterisk';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    },\n\n\t    multiLineCommentAsterisk: function multiLineCommentAsterisk () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        lexState = 'multiLineComment';\n\t    },\n\n\t    singleLineComment: function singleLineComment () {\n\t        switch (c) {\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        read();\n\t    },\n\n\t    value: function value () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        case 'n':\n\t            read();\n\t            literal('ull');\n\t            return newToken('null', null)\n\n\t        case 't':\n\t            read();\n\t            literal('rue');\n\t            return newToken('boolean', true)\n\n\t        case 'f':\n\t            read();\n\t            literal('alse');\n\t            return newToken('boolean', false)\n\n\t        case '-':\n\t        case '+':\n\t            if (read() === '-') {\n\t                sign = -1;\n\t            }\n\n\t            lexState = 'sign';\n\t            return\n\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            buffer = '';\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    identifierNameStartEscape: function identifierNameStartEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t            break\n\n\t        default:\n\t            if (!util.isIdStartChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    identifierName: function identifierName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            buffer += read();\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameEscape';\n\t            return\n\t        }\n\n\t        if (util.isIdContinueChar(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('identifier', buffer)\n\t    },\n\n\t    identifierNameEscape: function identifierNameEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            break\n\n\t        default:\n\t            if (!util.isIdContinueChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    sign: function sign$1 () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', sign * Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    zero: function zero () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\n\t        case 'x':\n\t        case 'X':\n\t            buffer += read();\n\t            lexState = 'hexadecimal';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * 0)\n\t    },\n\n\t    decimalInteger: function decimalInteger () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalPointLeading: function decimalPointLeading () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalPoint: function decimalPoint () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalFraction: function decimalFraction () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalExponent: function decimalExponent () {\n\t        switch (c) {\n\t        case '+':\n\t        case '-':\n\t            buffer += read();\n\t            lexState = 'decimalExponentSign';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentSign: function decimalExponentSign () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentInteger: function decimalExponentInteger () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    hexadecimal: function hexadecimal () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'hexadecimalInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    hexadecimalInteger: function hexadecimalInteger () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    string: function string () {\n\t        switch (c) {\n\t        case '\\\\':\n\t            read();\n\t            buffer += escape();\n\t            return\n\n\t        case '\"':\n\t            if (doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case \"'\":\n\t            if (!doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case '\\n':\n\t        case '\\r':\n\t            throw invalidChar(read())\n\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            separatorChar(c);\n\t            break\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    },\n\n\t    start: function start () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        // This code is unreachable since the default lexState handles eof.\n\t        // case undefined:\n\t        //     return newToken('eof')\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t            buffer = read();\n\t            lexState = 'identifierName';\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameStartEscape';\n\t            return\n\n\t        case '}':\n\t            return newToken('punctuator', read())\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        if (util.isIdStartChar(c)) {\n\t            buffer += read();\n\t            lexState = 'identifierName';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        if (c === ':') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        lexState = 'value';\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case '}':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (c === ']') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case ']':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the default lexState.\n\t        // if (c === undefined) {\n\t        //     read()\n\t        //     return newToken('eof')\n\t        // }\n\n\t        throw invalidChar(read())\n\t    },\n\t};\n\n\tfunction newToken (type, value) {\n\t    return {\n\t        type: type,\n\t        value: value,\n\t        line: line,\n\t        column: column,\n\t    }\n\t}\n\n\tfunction literal (s) {\n\t    for (var i = 0, list = s; i < list.length; i += 1) {\n\t        var c = list[i];\n\n\t        var p = peek();\n\n\t        if (p !== c) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    }\n\t}\n\n\tfunction escape () {\n\t    var c = peek();\n\t    switch (c) {\n\t    case 'b':\n\t        read();\n\t        return '\\b'\n\n\t    case 'f':\n\t        read();\n\t        return '\\f'\n\n\t    case 'n':\n\t        read();\n\t        return '\\n'\n\n\t    case 'r':\n\t        read();\n\t        return '\\r'\n\n\t    case 't':\n\t        read();\n\t        return '\\t'\n\n\t    case 'v':\n\t        read();\n\t        return '\\v'\n\n\t    case '0':\n\t        read();\n\t        if (util.isDigit(peek())) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        return '\\0'\n\n\t    case 'x':\n\t        read();\n\t        return hexEscape()\n\n\t    case 'u':\n\t        read();\n\t        return unicodeEscape()\n\n\t    case '\\n':\n\t    case '\\u2028':\n\t    case '\\u2029':\n\t        read();\n\t        return ''\n\n\t    case '\\r':\n\t        read();\n\t        if (peek() === '\\n') {\n\t            read();\n\t        }\n\n\t        return ''\n\n\t    case '1':\n\t    case '2':\n\t    case '3':\n\t    case '4':\n\t    case '5':\n\t    case '6':\n\t    case '7':\n\t    case '8':\n\t    case '9':\n\t        throw invalidChar(read())\n\n\t    case undefined:\n\t        throw invalidChar(read())\n\t    }\n\n\t    return read()\n\t}\n\n\tfunction hexEscape () {\n\t    var buffer = '';\n\t    var c = peek();\n\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    c = peek();\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tfunction unicodeEscape () {\n\t    var buffer = '';\n\t    var count = 4;\n\n\t    while (count-- > 0) {\n\t        var c = peek();\n\t        if (!util.isHexDigit(c)) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    }\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tvar parseStates = {\n\t    start: function start () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (token.type) {\n\t        case 'identifier':\n\t        case 'string':\n\t            key = token.value;\n\t            parseState = 'afterPropertyName';\n\t            return\n\n\t        case 'punctuator':\n\t            // This code is unreachable since it's handled by the lexState.\n\t            // if (token.value !== '}') {\n\t            //     throw invalidToken()\n\t            // }\n\n\t            pop();\n\t            return\n\n\t        case 'eof':\n\t            throw invalidEOF()\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator' || token.value !== ':') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        parseState = 'beforePropertyValue';\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        if (token.type === 'punctuator' && token.value === ']') {\n\t            pop();\n\t            return\n\t        }\n\n\t        push();\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforePropertyName';\n\t            return\n\n\t        case '}':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforeArrayValue';\n\t            return\n\n\t        case ']':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'eof') {\n\t        //     throw invalidToken()\n\t        // }\n\t    },\n\t};\n\n\tfunction push () {\n\t    var value;\n\n\t    switch (token.type) {\n\t    case 'punctuator':\n\t        switch (token.value) {\n\t        case '{':\n\t            value = {};\n\t            break\n\n\t        case '[':\n\t            value = [];\n\t            break\n\t        }\n\n\t        break\n\n\t    case 'null':\n\t    case 'boolean':\n\t    case 'numeric':\n\t    case 'string':\n\t        value = token.value;\n\t        break\n\n\t    // This code is unreachable.\n\t    // default:\n\t    //     throw invalidToken()\n\t    }\n\n\t    if (root === undefined) {\n\t        root = value;\n\t    } else {\n\t        var parent = stack[stack.length - 1];\n\t        if (Array.isArray(parent)) {\n\t            parent.push(value);\n\t        } else {\n\t            Object.defineProperty(parent, key, {\n\t                value: value,\n\t                writable: true,\n\t                enumerable: true,\n\t                configurable: true,\n\t            });\n\t        }\n\t    }\n\n\t    if (value !== null && typeof value === 'object') {\n\t        stack.push(value);\n\n\t        if (Array.isArray(value)) {\n\t            parseState = 'beforeArrayValue';\n\t        } else {\n\t            parseState = 'beforePropertyName';\n\t        }\n\t    } else {\n\t        var current = stack[stack.length - 1];\n\t        if (current == null) {\n\t            parseState = 'end';\n\t        } else if (Array.isArray(current)) {\n\t            parseState = 'afterArrayValue';\n\t        } else {\n\t            parseState = 'afterPropertyValue';\n\t        }\n\t    }\n\t}\n\n\tfunction pop () {\n\t    stack.pop();\n\n\t    var current = stack[stack.length - 1];\n\t    if (current == null) {\n\t        parseState = 'end';\n\t    } else if (Array.isArray(current)) {\n\t        parseState = 'afterArrayValue';\n\t    } else {\n\t        parseState = 'afterPropertyValue';\n\t    }\n\t}\n\n\t// This code is unreachable.\n\t// function invalidParseState () {\n\t//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n\t// }\n\n\t// This code is unreachable.\n\t// function invalidLexState (state) {\n\t//     return new Error(`JSON5: invalid lex state '${state}'`)\n\t// }\n\n\tfunction invalidChar (c) {\n\t    if (c === undefined) {\n\t        return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t    }\n\n\t    return syntaxError((\"JSON5: invalid character '\" + (formatChar(c)) + \"' at \" + line + \":\" + column))\n\t}\n\n\tfunction invalidEOF () {\n\t    return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t}\n\n\t// This code is unreachable.\n\t// function invalidToken () {\n\t//     if (token.type === 'eof') {\n\t//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n\t//     }\n\n\t//     const c = String.fromCodePoint(token.value.codePointAt(0))\n\t//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n\t// }\n\n\tfunction invalidIdentifier () {\n\t    column -= 5;\n\t    return syntaxError((\"JSON5: invalid identifier character at \" + line + \":\" + column))\n\t}\n\n\tfunction separatorChar (c) {\n\t    console.warn((\"JSON5: '\" + (formatChar(c)) + \"' in strings is not valid ECMAScript; consider escaping\"));\n\t}\n\n\tfunction formatChar (c) {\n\t    var replacements = {\n\t        \"'\": \"\\\\'\",\n\t        '\"': '\\\\\"',\n\t        '\\\\': '\\\\\\\\',\n\t        '\\b': '\\\\b',\n\t        '\\f': '\\\\f',\n\t        '\\n': '\\\\n',\n\t        '\\r': '\\\\r',\n\t        '\\t': '\\\\t',\n\t        '\\v': '\\\\v',\n\t        '\\0': '\\\\0',\n\t        '\\u2028': '\\\\u2028',\n\t        '\\u2029': '\\\\u2029',\n\t    };\n\n\t    if (replacements[c]) {\n\t        return replacements[c]\n\t    }\n\n\t    if (c < ' ') {\n\t        var hexString = c.charCodeAt(0).toString(16);\n\t        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n\t    }\n\n\t    return c\n\t}\n\n\tfunction syntaxError (message) {\n\t    var err = new SyntaxError(message);\n\t    err.lineNumber = line;\n\t    err.columnNumber = column;\n\t    return err\n\t}\n\n\tvar stringify = function stringify (value, replacer, space) {\n\t    var stack = [];\n\t    var indent = '';\n\t    var propertyList;\n\t    var replacerFunc;\n\t    var gap = '';\n\t    var quote;\n\n\t    if (\n\t        replacer != null &&\n\t        typeof replacer === 'object' &&\n\t        !Array.isArray(replacer)\n\t    ) {\n\t        space = replacer.space;\n\t        quote = replacer.quote;\n\t        replacer = replacer.replacer;\n\t    }\n\n\t    if (typeof replacer === 'function') {\n\t        replacerFunc = replacer;\n\t    } else if (Array.isArray(replacer)) {\n\t        propertyList = [];\n\t        for (var i = 0, list = replacer; i < list.length; i += 1) {\n\t            var v = list[i];\n\n\t            var item = (void 0);\n\n\t            if (typeof v === 'string') {\n\t                item = v;\n\t            } else if (\n\t                typeof v === 'number' ||\n\t                v instanceof String ||\n\t                v instanceof Number\n\t            ) {\n\t                item = String(v);\n\t            }\n\n\t            if (item !== undefined && propertyList.indexOf(item) < 0) {\n\t                propertyList.push(item);\n\t            }\n\t        }\n\t    }\n\n\t    if (space instanceof Number) {\n\t        space = Number(space);\n\t    } else if (space instanceof String) {\n\t        space = String(space);\n\t    }\n\n\t    if (typeof space === 'number') {\n\t        if (space > 0) {\n\t            space = Math.min(10, Math.floor(space));\n\t            gap = '          '.substr(0, space);\n\t        }\n\t    } else if (typeof space === 'string') {\n\t        gap = space.substr(0, 10);\n\t    }\n\n\t    return serializeProperty('', {'': value})\n\n\t    function serializeProperty (key, holder) {\n\t        var value = holder[key];\n\t        if (value != null) {\n\t            if (typeof value.toJSON5 === 'function') {\n\t                value = value.toJSON5(key);\n\t            } else if (typeof value.toJSON === 'function') {\n\t                value = value.toJSON(key);\n\t            }\n\t        }\n\n\t        if (replacerFunc) {\n\t            value = replacerFunc.call(holder, key, value);\n\t        }\n\n\t        if (value instanceof Number) {\n\t            value = Number(value);\n\t        } else if (value instanceof String) {\n\t            value = String(value);\n\t        } else if (value instanceof Boolean) {\n\t            value = value.valueOf();\n\t        }\n\n\t        switch (value) {\n\t        case null: return 'null'\n\t        case true: return 'true'\n\t        case false: return 'false'\n\t        }\n\n\t        if (typeof value === 'string') {\n\t            return quoteString(value, false)\n\t        }\n\n\t        if (typeof value === 'number') {\n\t            return String(value)\n\t        }\n\n\t        if (typeof value === 'object') {\n\t            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n\t        }\n\n\t        return undefined\n\t    }\n\n\t    function quoteString (value) {\n\t        var quotes = {\n\t            \"'\": 0.1,\n\t            '\"': 0.2,\n\t        };\n\n\t        var replacements = {\n\t            \"'\": \"\\\\'\",\n\t            '\"': '\\\\\"',\n\t            '\\\\': '\\\\\\\\',\n\t            '\\b': '\\\\b',\n\t            '\\f': '\\\\f',\n\t            '\\n': '\\\\n',\n\t            '\\r': '\\\\r',\n\t            '\\t': '\\\\t',\n\t            '\\v': '\\\\v',\n\t            '\\0': '\\\\0',\n\t            '\\u2028': '\\\\u2028',\n\t            '\\u2029': '\\\\u2029',\n\t        };\n\n\t        var product = '';\n\n\t        for (var i = 0; i < value.length; i++) {\n\t            var c = value[i];\n\t            switch (c) {\n\t            case \"'\":\n\t            case '\"':\n\t                quotes[c]++;\n\t                product += c;\n\t                continue\n\n\t            case '\\0':\n\t                if (util.isDigit(value[i + 1])) {\n\t                    product += '\\\\x00';\n\t                    continue\n\t                }\n\t            }\n\n\t            if (replacements[c]) {\n\t                product += replacements[c];\n\t                continue\n\t            }\n\n\t            if (c < ' ') {\n\t                var hexString = c.charCodeAt(0).toString(16);\n\t                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n\t                continue\n\t            }\n\n\t            product += c;\n\t        }\n\n\t        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });\n\n\t        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n\t        return quoteChar + product + quoteChar\n\t    }\n\n\t    function serializeObject (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var keys = propertyList || Object.keys(value);\n\t        var partial = [];\n\t        for (var i = 0, list = keys; i < list.length; i += 1) {\n\t            var key = list[i];\n\n\t            var propertyString = serializeProperty(key, value);\n\t            if (propertyString !== undefined) {\n\t                var member = serializeKey(key) + ':';\n\t                if (gap !== '') {\n\t                    member += ' ';\n\t                }\n\t                member += propertyString;\n\t                partial.push(member);\n\t            }\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '{}';\n\t        } else {\n\t            var properties;\n\t            if (gap === '') {\n\t                properties = partial.join(',');\n\t                final = '{' + properties + '}';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                properties = partial.join(separator);\n\t                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\n\t    function serializeKey (key) {\n\t        if (key.length === 0) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        var firstChar = String.fromCodePoint(key.codePointAt(0));\n\t        if (!util.isIdStartChar(firstChar)) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        for (var i = firstChar.length; i < key.length; i++) {\n\t            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n\t                return quoteString(key, true)\n\t            }\n\t        }\n\n\t        return key\n\t    }\n\n\t    function serializeArray (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var partial = [];\n\t        for (var i = 0; i < value.length; i++) {\n\t            var propertyString = serializeProperty(String(i), value);\n\t            partial.push((propertyString !== undefined) ? propertyString : 'null');\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '[]';\n\t        } else {\n\t            if (gap === '') {\n\t                var properties = partial.join(',');\n\t                final = '[' + properties + ']';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                var properties$1 = partial.join(separator);\n\t                final = '[\\n' + indent + properties$1 + ',\\n' + stepback + ']';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\t};\n\n\tvar JSON5 = {\n\t    parse: parse,\n\t    stringify: stringify,\n\t};\n\n\tvar lib = JSON5;\n\n\tvar es5 = lib;\n\n\treturn es5;\n\n})));\n"],"names":["copy","JSONExt","deepCopy","AJV_DEFAULT_OPTIONS","strict","RECORD_SEPARATOR","String","fromCharCode","DefaultSchemaValidator","constructor","this","_composer","useDefaults","_validator","addSchema","validateData","plugin","populate","validate","getSchema","id","compose","schema","type","instancePath","keyword","schemaPath","message","_addSchema","user","raw","error","SyntaxError","column","description","lineNumber","errors","composite","data","composer","validator","validateSchema","removeSchema","SettingRegistry","options","plugins","Object","create","_pluginChanged","Signal","_ready","Promise","resolve","_transformers","_unloadedPlugins","Map","connector","filter","forEach","set","_preload","pluginChanged","get","key","undefined","load","then","forceTransform","_load","_transform","emit","Settings","registry","has","delete","reload","fetched","fetch","remove","Private","annotatedPlugin","_save","value","transform","transforms","transformers","Error","name","DisposableDelegate","upload","ready","_validate","output","index","push","console","warn","join","all","map","async","_a","save","phase","transformed","call","BaseSettings","_schema","isDefault","properties","defaultValue","default","deepEqual","emptyObject","emptyArray","reifyDefault","super","_changed","_isDisposed","connect","_onPluginChanged","changed","isDisposed","isModified","version","annotatedDefaults","dispose","clearData","sender","reconcileMenus","reference","addition","addNewItems","merged","menu","refIndex","findIndex","ref","items","reconcileItems","item","submenu","_b","command","selector","args","filterDisabledItems","reduce","final","disabled","reconcileShortcuts","defaults","memo","s","shortcut","keys","CommandRegistry","normalizeKeys","enabledUserShortcut","shouldDisableDefaultShortcut","enabledDefaultShortcut","upgradeShortcuts","concat","reconcileToolbarItems","indent","nondescript","untitled","body","acc","val","idx","rows","split","length","trim","indexOf","prefix","source","pre","root","definitions","required","_c","_d","_e","_f","_g","Array","includes","result","props","property","defaultDefined","replace","reified","prop","title","sort","a","b","localeCompare","Math","max","repeat","JSON","stringify","str","defaultDocumentedValue","attribute","documentedValue","selectorsAlreadyWarnedAbout","Set","shortcuts","selectorDeprecationWarnings","changes","old","new","versionDeprecated","upgraded","oldSelector","newSelector","change","add","size","ISettingRegistry","Token","defineProperty","exports","MissingRefError","ValidationError","CodeGen","Name","nil","_","KeywordCxt","Ajv","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","_addVocabularies","v","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","module","validate_1","enumerable","codegen_1","validation_error_1","ref_error_1","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","test","toString","emptyStr","names","code","_items","_str","c","_names","strs","i","plus","expr","res","mergeExprItems","splice","optimize","arg","x","isArray","slice","c1","c2","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","e","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","Return","Try","catch","finally","Catch","Finally","replaceName","some","par","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","scopeName","scopeValue","prefixOrName","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","const","let","assign","object","keyValues","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","forRange","forOf","arr","forIn","obj","ownProperties","tryBody","catchCode","finallyCode","_currNode","block","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","_nameGroup","nameStr","setValue","itemIndex","scopePath","line","scope","valueKey","vs","_name","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","addError","gen","errObj","err","if","vErrors","returnErrors","it","errs","validateName","schemaEnv","$async","throw","return","schemaType","cxt","errorPaths","overrideAllErrors","compositeRule","allErrors","errorObjectCode","errsCount","schemaValue","errorPath","errSchemaPath","verbose","E","params","propertyName","parentSchema","createErrors","errorInstancePath","errorSchemaPath","topSchemaRef","messages","extraErrorProps","errorObject","instPath","getErrorPath","Type","Str","schPath","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","resolve_1","env","dynamicAnchors","schemaId","baseId","normalizeId","localRefs","sch","_sch","rootId","getFullPath","uriResolver","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","Function","makeValidate","scopeValues","unevaluated","evaluated","dynamicProps","dynamicItems","logger","inlineOrCompile","inlineRef","inlineRefs","schEnv","s2","s1","schemas","p","parse","refPath","_getFullPath","getJsonPointer","schOrRef","schId","resolveUrl","schOrFunc","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","json","jsonPos","jsonLen","jsonPart","resolver","msg","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","innerBaseId","addRef","_resolve","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","jsonTypes","groups","number","rules","string","array","types","integer","boolean","null","post","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","strictSchema","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","hash","decodeURIComponent","encodeURIComponent","xs","f","snippets","mode","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","shouldUseGroup","group","rule","shouldUseRule","definition","implements","kwd","schemaHasRulesForType","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","schemaCode","valid","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","ts","every","nullable","coerceTo","coerceTypes","t","COERCIBLE","coerceToTypes","checkTypes","wrongType","strictNumbers","Wrong","dataType","coerced","coerceSpecificType","assignParentData","coerceData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","assignDefault","childData","ty","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","validateFunction","funcSourceUrl","dynamicRef","destructureValCxtES5","destructureValCxt","schemaCxtHasRules","isSchemaObj","checkKeywords","ignoreKeywordsWithRef","checkRefsAndKeywords","typeAndKeywords","schemaKeywords","commentKeyword","$comment","rootName","typeErrors","groupKeywords","iterateKeywords","strictTypes","includesType","strictTypesError","withTypes","narrowSchemaTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","hasApplicableType","kwdT","schTs","checkKeywordTypes","checkStrictTypes","keywordCode","checkNoDefault","resetEvaluated","assignEvaluated","returnResults","topSchemaObjCode","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","ok","block$data","codeBlock","$dataValid","check$data","st","wrong$DataType","validateSchemaRef","invalid$DataSchema","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","updateContext","checkAsyncSchema","subSchemaObjCode","subschemaCode","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","modifyData","useKeyword","macroSchema","macro","schemaRef","checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","callValidateCode","modifying","reportErrs","ruleErrs","try","validateAsync","validateErrs","validateSync","addErrs","deps","dependencies","prototype","hasOwnProperty","errorsText","schemaProp","dpType","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","compile_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","requiredOptions","o","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","noLogs","log","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","_removeAllSchemas","clear","cacheKey","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","addFormat","separator","dataVar","text","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","opt","optsSchemas","defs","metaOpts","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","uri","ajv","validation","validateAdditionalItems","break","validateItems","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","deleteAdditional","additionalPropertyCode","applyAdditionalSchema","definedProp","propsSchema","isOwnProperty","usePattern","isAdditional","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","propertyDeps","schemaDeps","splitDependencies","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","l","fullTuple","minItems","maxItems","checkStrictTuple","prefixItems","passing","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","checkMatchingProperties","pat","validateProperties","alwaysValid","validatePatternProperties","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","addMapping","enum","tagValue","getMapping","Mapping","validateMapping","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","fmts","fDef","fType","callFormat","validData","invalidFmt","validate$DataFormat","formatDef","unknownMsg","unknownFormat","fmtType","fmtRef","fmtDef","fmt","getFormat","validCondition","validateFormat","equal_1","useLoop","eql","getEql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","j","itemTypes","loopN","indices","for","loopN2","outer","cb","_traverse","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","createCommonjsModule","fn","_global","global","window","__g","_core","__e","_isObject","_anObject","TypeError","_fails","_descriptors","document","is","createElement","_ie8DomDefine","dP","_objectDp","O","P","Attributes","S","valueOf","_toPrimitive","_hide","bitmap","configurable","writable","_propertyDesc","_has","px","random","_shared","SHARED","store","copyright","_functionToString","_redefine","SRC","_uid","TO_STRING","TPL","inspectSource","safe","isFunction","_ctx","that","_aFunction","apply","arguments","PROTOTYPE","$export","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","IS_PROTO","IS_BIND","B","target","expProto","U","W","R","_export","ceil","floor","_toInteger","isNaN","$at","_defined","codePointAt","$fromCodePoint","fromCodePoint","arguments$1","aLen","RangeError","parseState","stack","token","lexState","buffer","doubleQuote","sign","Space_Separator","ID_Start","ID_Continue","util","isSpaceSeparator","isIdStartChar","isIdContinueChar","isDigit","isHexDigit","internalize","holder","reviver","replacement","key$1","replacement$1","lex","peek","lexStates","read","newToken","comment","invalidChar","multiLineComment","multiLineCommentAsterisk","singleLineComment","literal","NaN","identifierNameStartEscape","unicodeEscape","invalidIdentifier","identifierName","identifierNameEscape","zero","decimalInteger","Number","decimalPointLeading","decimalPoint","decimalFraction","decimalExponent","decimalExponentSign","decimalExponentInteger","hexadecimal","hexadecimalInteger","parseInt","hexEscape","escape","formatChar","separatorChar","start","beforePropertyName","afterPropertyName","beforePropertyValue","afterPropertyValue","beforeArrayValue","afterArrayValue","end","list","parseStates","invalidEOF","current","syntaxError","replacements","hexString","substring","columnNumber","replacer","space","propertyList","replacerFunc","quote","gap","substr","serializeProperty","toJSON5","toJSON","Boolean","quoteString","stepback","partial","propertyString","properties$1","serializeArray","member","serializeKey","serializeObject","quotes","product","quoteChar","firstChar","factory"],"sourceRoot":""}