"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[5673],{35673:(e,t,s)=>{s.r(t),s.d(t,{BreadCrumbs:()=>b,CHUNK_SIZE:()=>ie,DirListing:()=>Z,FileBrowser:()=>ee,FileBrowserModel:()=>ne,FileDialog:()=>ae,FileUploadStatus:()=>ge,FilterFileBrowserModel:()=>oe,IDefaultFileBrowser:()=>ce,IFileBrowserCommands:()=>me,IFileBrowserFactory:()=>he,LARGE_FILE_SIZE:()=>se,TogglableHiddenFileBrowserModel:()=>re,Uploader:()=>ue});var i=s(48301),n=s(50994),r=s(90916),o=s(74592),a=s(15656),l=s(78625),d=s(73232),h=s.n(d),c=s(48728),m=s(99344),u=s(75178),p=s(72804);const _="jp-BreadCrumbs-home",f="jp-BreadCrumbs-preferred",g="jp-BreadCrumbs-item",v=["/","../../","../",""],w="application/x-jupyter-icontents",y="jp-mod-dropTarget";class b extends l.Widget{constructor(e){super(),this._previousState=null,this.translator=e.translator||o.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._model=e.model,this._fullPath=e.fullPath||!1,this.addClass("jp-BreadCrumbs"),this._crumbs=C.createCrumbs(),this._crumbSeps=C.createCrumbSeparators();const t=n.PageConfig.getOption("preferredPath");this._hasPreferred=!(!t||"/"===t),this._hasPreferred&&this.node.appendChild(this._crumbs[C.Crumb.Preferred]),this.node.appendChild(this._crumbs[C.Crumb.Home]),this._model.refreshed.connect(this.update,this)}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;default:return}}get fullPath(){return this._fullPath}set fullPath(e){this._fullPath=e}onAfterAttach(e){super.onAfterAttach(e),this.update();const t=this.node;t.addEventListener("click",this),t.addEventListener("lm-dragenter",this),t.addEventListener("lm-dragleave",this),t.addEventListener("lm-dragover",this),t.addEventListener("lm-drop",this)}onBeforeDetach(e){super.onBeforeDetach(e);const t=this.node;t.removeEventListener("click",this),t.removeEventListener("lm-dragenter",this),t.removeEventListener("lm-dragleave",this),t.removeEventListener("lm-dragover",this),t.removeEventListener("lm-drop",this)}onUpdateRequest(e){const t={path:this._model.manager.services.contents.localPath(this._model.path),hasPreferred:this._hasPreferred,fullPath:this._fullPath};this._previousState&&u.JSONExt.deepEqual(t,this._previousState)||(this._previousState=t,C.updateCrumbs(this._crumbs,this._crumbSeps,t))}_evtClick(e){if(0!==e.button)return;let t=e.target;for(;t&&t!==this.node;){if(t.classList.contains(f))return this._model.cd(n.PageConfig.getOption("preferredPath")).catch((e=>(0,i.showErrorMessage)(this._trans.__("Open Error"),e))),e.preventDefault(),void e.stopPropagation();if(t.classList.contains(g)||t.classList.contains(_)){let s=m.ArrayExt.findFirstIndex(this._crumbs,(e=>e===t)),n=v[s];return this._fullPath&&s<0&&!t.classList.contains(_)&&(n=t.title),this._model.cd(n).catch((e=>(0,i.showErrorMessage)(this._trans.__("Open Error"),e))),e.preventDefault(),void e.stopPropagation()}t=t.parentElement}}_evtDragEnter(e){if(e.mimeData.hasData(w)){const t=m.ArrayExt.findFirstIndex(this._crumbs,(t=>p.ElementExt.hitTest(t,e.clientX,e.clientY)));-1!==t&&t!==C.Crumb.Current&&(this._crumbs[t].classList.add(y),e.preventDefault(),e.stopPropagation())}}_evtDragLeave(e){e.preventDefault(),e.stopPropagation();const t=i.DOMUtils.findElement(this.node,y);t&&t.classList.remove(y)}_evtDragOver(e){e.preventDefault(),e.stopPropagation(),e.dropAction=e.proposedAction;const t=i.DOMUtils.findElement(this.node,y);t&&t.classList.remove(y);const s=m.ArrayExt.findFirstIndex(this._crumbs,(t=>p.ElementExt.hitTest(t,e.clientX,e.clientY)));-1!==s&&this._crumbs[s].classList.add(y)}_evtDrop(e){if(e.preventDefault(),e.stopPropagation(),"none"===e.proposedAction)return void(e.dropAction="none");if(!e.mimeData.hasData(w))return;e.dropAction=e.proposedAction;let t=e.target;for(;t&&t.parentElement;){if(t.classList.contains(y)){t.classList.remove(y);break}t=t.parentElement}const s=m.ArrayExt.findFirstIndex(this._crumbs,(e=>e===t));if(-1===s)return;const r=this._model,o=n.PathExt.resolve(r.path,v[s]),a=r.manager,l=[],d=e.mimeData.getData(w);for(const e of d){const t=a.services.contents.localPath(e),s=n.PathExt.basename(t),i=n.PathExt.join(o,s);l.push((0,c.renameFile)(a,e,i))}Promise.all(l).catch((e=>(0,i.showErrorMessage)(this._trans.__("Move Error"),e)))}}var C;!function(e){let t;!function(e){e[e.Home=0]="Home",e[e.Ellipsis=1]="Ellipsis",e[e.Parent=2]="Parent",e[e.Current=3]="Current",e[e.Preferred=4]="Preferred"}(t=e.Crumb||(e.Crumb={})),e.updateCrumbs=function(e,s,i){const n=e[0].parentNode,r=n.firstChild;for(;r&&r.nextSibling;)n.removeChild(r.nextSibling);i.hasPreferred?(n.appendChild(e[t.Home]),n.appendChild(s[0])):n.appendChild(s[0]);const o=i.path.split("/");if(!i.fullPath&&o.length>2){n.appendChild(e[t.Ellipsis]);const i=o.slice(0,o.length-2).join("/");e[t.Ellipsis].title=i,n.appendChild(s[1])}if(i.path)if(i.fullPath)for(let e=0;e<o.length;e++){const t=document.createElement("span");t.className=g,t.textContent=o[e];const s=`/${o.slice(0,e+1).join("/")}`;t.title=s,n.appendChild(t);const i=document.createElement("span");i.textContent="/",n.appendChild(i)}else{if(o.length>=2){e[t.Parent].textContent=o[o.length-2],n.appendChild(e[t.Parent]);const i=o.slice(0,o.length-1).join("/");e[t.Parent].title=i,n.appendChild(s[2])}e[t.Current].textContent=o[o.length-1],n.appendChild(e[t.Current]),e[t.Current].title=i.path,n.appendChild(s[3])}},e.createCrumbs=function(){const e=a.folderIcon.element({className:_,tag:"span",title:n.PageConfig.getOption("serverRoot")||"Jupyter Server Root",stylesheet:"breadCrumb"}),t=a.ellipsesIcon.element({className:g,tag:"span",stylesheet:"breadCrumb"}),s=document.createElement("span");s.className=g;const i=document.createElement("span");return i.className=g,[e,t,s,i,a.homeIcon.element({className:f,tag:"span",title:n.PageConfig.getOption("preferredPath")||"Jupyter Preferred Path",stylesheet:"breadCrumb"})]},e.createCrumbSeparators=function(){const e=[];for(let t=0;t<4;t++){const t=document.createElement("span");t.textContent="/",e.push(t)}return e}}(C||(C={}));var E=s(69e3),D=s(37726),I=s(99240),F=s(70082),S=s(25022),x=s(97588);const k="jp-DirListing-header",N="jp-DirListing-headerItem",P="jp-DirListing-headerItemText",L="jp-DirListing-headerItemIcon",M="jp-DirListing-content",z="jp-DirListing-itemText",j="jp-DirListing-itemName",A="jp-DirListing-itemIcon",T="jp-DirListing-itemModified",O="jp-DirListing-itemFileSize",B="jp-DirListing-checkboxWrapper",R="jp-id-name",U="jp-id-modified",W="application/x-jupyter-icontents",V="jp-mod-dropTarget",K="jp-mod-selected",H="jp-DirListing-resizeHandle",$="jp-mod-cut",q="jp-mod-multiSelected",Y="jp-mod-running",X="jp-mod-active",G="jp-mod-descending",J=!!navigator.platform.match(/Mac/i);class Z extends l.Widget{constructor(e){super({node:(e.renderer||Z.defaultRenderer).createNode()}),this._items=[],this._sortedItems=[],this._sortState={direction:"ascending",key:"name"},this._onItemOpened=new S.Signal(this),this._drag=null,this._dragData=null,this._resizeData=null,this._selectTimer=-1,this._isCut=!1,this._prevPath="",this._clipboard=[],this._softSelection="",this.selection=Object.create(null),this._searchPrefix="",this._searchPrefixTimer=-1,this._inRename=!1,this._isDirty=!1,this._hiddenColumns=new Set,this._columnSizes={name:null,file_size:null,is_selected:null,last_modified:null},this._sortNotebooksFirst=!1,this._allowSingleClick=!1,this._focusIndex=0,this._allUploaded=new S.Signal(this),this._width=null,this._state=null,this._contentScrollbarWidth=0,this._contentSizeObserver=new ResizeObserver(this._onContentResize.bind(this)),this._paddingWidth=0,this._handleWidth=5,this.addClass("jp-DirListing"),this.translator=e.translator||o.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._model=e.model,this._model.fileChanged.connect(this._onFileChanged,this),this._model.refreshed.connect(this._onModelRefreshed,this),this._model.pathChanged.connect(this._onPathChanged,this),this._editNode=document.createElement("input"),this._editNode.className="jp-DirListing-editor",this._manager=this._model.manager,this._renderer=e.renderer||Z.defaultRenderer,this._state=e.state||null,this._updateModifiedSize(this.node);const t=i.DOMUtils.findElement(this.node,k);this._hiddenColumns.add("file_size"),this._renderer.populateHeaderNode(t,this.translator,this._hiddenColumns,this._columnSizes),this._manager.activateRequested.connect(this._onActivateRequested,this)}dispose(){this._items.length=0,this._sortedItems.length=0,this._clipboard.length=0,super.dispose()}get model(){return this._model}get headerNode(){return i.DOMUtils.findElement(this.node,k)}get contentNode(){return i.DOMUtils.findElement(this.node,M)}get renderer(){return this._renderer}get sortState(){return this._sortState}get onItemOpened(){return this._onItemOpened}selectedItems(){const e=this._sortedItems;return(0,m.filter)(e,(e=>this.selection[e.path]))}sortedItems(){return this._sortedItems[Symbol.iterator]()}sort(e){this._sortedItems=Q.sort(this.model.items(),e,this._sortNotebooksFirst,this.translator),this._sortState=e,this.update()}rename(){return this._doRename()}cut(){this._isCut=!0,this._copy(),this.update()}copy(){this._copy()}paste(){if(!this._clipboard.length)return this._isCut=!1,Promise.resolve(void 0);const e=this._model.path,t=[];for(const s of this._clipboard)if(this._isCut){const i=this._manager.services.contents.localPath(s).split("/"),r=i[i.length-1],o=n.PathExt.join(e,r);t.push(this._model.manager.rename(s,o))}else t.push(this._model.manager.copy(s,e));for(const e of this._items)e.classList.remove($);return this._clipboard.length=0,this._isCut=!1,this.removeClass("jp-mod-clipboard"),Promise.all(t).then((()=>{})).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Paste Error"),e)}))}async delete(){const e=this._sortedItems.filter((e=>this.selection[e.path]));if(!e.length)return;const t=1===e.length?this._trans.__("Are you sure you want to permanently delete: %1?",e[0].name):this._trans._n("Are you sure you want to permanently delete the %1 selected item?","Are you sure you want to permanently delete the %1 selected items?",e.length),s=await(0,i.showDialog)({title:this._trans.__("Delete"),body:t,buttons:[i.Dialog.cancelButton({label:this._trans.__("Cancel")}),i.Dialog.warnButton({label:this._trans.__("Delete")})],defaultButton:0});!this.isDisposed&&s.button.accept&&await this._delete(e.map((e=>e.path)));let n=this._focusIndex;const r=this._sortedItems.length-e.length-1;n>r&&(n=Math.max(0,r)),this._focusItem(n)}duplicate(){const e=this._model.path,t=[];for(const s of this.selectedItems())"directory"!==s.type&&t.push(this._model.manager.copy(s.path,e));return Promise.all(t).then((()=>{})).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Duplicate file"),e)}))}async download(){await Promise.all(Array.from(this.selectedItems()).filter((e=>"directory"!==e.type)).map((e=>this._model.download(e.path))))}async restore(e){const t=`file-browser-${e}:columns`,s=this._state;if(this._stateColumnsKey=t,s)try{const e=await s.fetch(t);if(!e)return;const i=e.sizes;if(!i)return;for(const[e,t]of Object.entries(i))this._columnSizes[e]=t;this._updateColumnSizes()}catch(e){await s.remove(t)}}shutdownKernels(){const e=this._model,t=this._sortedItems,s=t.map((e=>e.path)),n=Array.from(this._model.sessions()).filter((e=>{const i=m.ArrayExt.firstIndexOf(s,e.path);return this.selection[t[i].path]})).map((t=>e.manager.services.sessions.shutdown(t.id)));return Promise.all(n).then((()=>{})).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Shut down kernel"),e)}))}selectNext(e=!1){let t=-1;const s=Object.keys(this.selection),i=this._sortedItems;if(1===s.length||e){const e=s[s.length-1];t=m.ArrayExt.findFirstIndex(i,(t=>t.path===e)),t+=1,t===this._items.length&&(t=0)}else if(0===s.length)t=0;else{const e=s[s.length-1];t=m.ArrayExt.findFirstIndex(i,(t=>t.path===e))}-1!==t&&(this._selectItem(t,e),p.ElementExt.scrollIntoViewIfNeeded(this.contentNode,this._items[t]))}selectPrevious(e=!1){let t=-1;const s=Object.keys(this.selection),i=this._sortedItems;if(1===s.length||e){const e=s[0];t=m.ArrayExt.findFirstIndex(i,(t=>t.path===e)),t-=1,-1===t&&(t=this._items.length-1)}else if(0===s.length)t=this._items.length-1;else{const e=s[0];t=m.ArrayExt.findFirstIndex(i,(t=>t.path===e))}-1!==t&&(this._selectItem(t,e),p.ElementExt.scrollIntoViewIfNeeded(this.contentNode,this._items[t]))}selectByPrefix(){const e=this._searchPrefix.toLowerCase(),t=this._sortedItems,s=m.ArrayExt.findFirstIndex(t,(t=>t.name.toLowerCase().substr(0,e.length)===e));-1!==s&&(this._selectItem(s,!1),p.ElementExt.scrollIntoViewIfNeeded(this.contentNode,this._items[s]))}isSelected(e){const t=this._sortedItems;return 0!==Array.from((0,m.filter)(t,(t=>t.name===e&&this.selection[t.path]))).length}modelForClick(e){const t=this._sortedItems,s=Q.hitTestNodes(this._items,e);if(-1!==s)return t[s]}clearSelectedItems(){this.selection=Object.create(null)}async selectItemByName(e,t=!1){return this._selectItemByName(e,t)}async _selectItemByName(e,t=!1,s=!1){if(!s&&this.isSelected(e))return;if(await this.model.refresh(),this.isDisposed)throw new Error("File browser is disposed.");const i=this._sortedItems,n=m.ArrayExt.findFirstIndex(i,(t=>t.name===e));if(-1===n)throw new Error("Item does not exist.");this._selectItem(n,!1,t),F.MessageLoop.sendMessage(this,l.Widget.Msg.UpdateRequest),p.ElementExt.scrollIntoViewIfNeeded(this.contentNode,this._items[n])}handleEvent(e){switch(e.type){case"mousedown":this._evtMousedown(e);break;case"mouseup":this._evtMouseup(e);break;case"mousemove":this._evtMousemove(e);break;case"keydown":this.evtKeydown(e);break;case"click":this._evtClick(e);break;case"dblclick":this.evtDblClick(e);break;case"dragenter":case"dragover":this.addClass("jp-mod-native-drop"),e.preventDefault();break;case"dragleave":case"dragend":this.removeClass("jp-mod-native-drop");break;case"drop":this.removeClass("jp-mod-native-drop"),this.evtNativeDrop(e);break;case"scroll":this._evtScroll(e);break;case"lm-dragenter":this.evtDragEnter(e);break;case"lm-dragleave":this.evtDragLeave(e);break;case"lm-dragover":this.evtDragOver(e);break;case"lm-drop":this.evtDrop(e)}}onAfterAttach(e){super.onAfterAttach(e);const t=this.node;this._width=this._computeContentWidth();const s=i.DOMUtils.findElement(t,M);t.addEventListener("mousedown",this),t.addEventListener("keydown",this),t.addEventListener("click",this),t.addEventListener("dblclick",this),this._contentSizeObserver.observe(s),s.addEventListener("dragenter",this),s.addEventListener("dragover",this),s.addEventListener("dragleave",this),s.addEventListener("dragend",this),s.addEventListener("drop",this),s.addEventListener("scroll",this),s.addEventListener("lm-dragenter",this),s.addEventListener("lm-dragleave",this),s.addEventListener("lm-dragover",this),s.addEventListener("lm-drop",this)}onBeforeDetach(e){super.onBeforeDetach(e);const t=this.node,s=i.DOMUtils.findElement(t,M);t.removeEventListener("mousedown",this),t.removeEventListener("keydown",this),t.removeEventListener("click",this),t.removeEventListener("dblclick",this),this._contentSizeObserver.disconnect(),s.removeEventListener("scroll",this),s.removeEventListener("dragover",this),s.removeEventListener("dragover",this),s.removeEventListener("dragleave",this),s.removeEventListener("dragend",this),s.removeEventListener("drop",this),s.removeEventListener("lm-dragenter",this),s.removeEventListener("lm-dragleave",this),s.removeEventListener("lm-dragover",this),s.removeEventListener("lm-drop",this),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0)}onAfterShow(e){this._isDirty&&(this.sort(this.sortState),this.update())}_onContentResize(){const e=i.DOMUtils.findElement(this.node,M),t=e.offsetWidth-e.clientWidth;t!=this._contentScrollbarWidth&&(this._contentScrollbarWidth=t,this._width=this._computeContentWidth(),this._updateColumnSizes())}_computeContentWidth(e=null){e||(e=this.node.getBoundingClientRect().width),this._paddingWidth=parseFloat(window.getComputedStyle(this.node).getPropertyValue("--jp-dirlisting-padding-width"));const t=this.node.querySelector(`.${H}`);return this._handleWidth=t?t.getBoundingClientRect().width:5,e-2*this._paddingWidth-this._contentScrollbarWidth}_updateModifiedSize(e){var t,s;const n=i.DOMUtils.findElement(e,U);this._modifiedWidth=null!==(s=null!==(t=this._columnSizes.last_modified)&&void 0!==t?t:null==n?void 0:n.getBoundingClientRect().width)&&void 0!==s?s:83,this._modifiedStyle=this._modifiedWidth<100?"narrow":this._modifiedWidth>120?"long":"short"}_updateModifiedStyleAndSize(){const e=this._modifiedStyle;this._updateModifiedSize(this.node),e!==this._modifiedStyle&&this.updateModified(this._sortedItems,this._items)}updateModified(e,t){e.forEach(((e,s)=>{const n=t[s];if(n&&e.last_modified){const t=i.DOMUtils.findElement(n,T);void 0!==this.renderer.updateItemModified?this.renderer.updateItemModified(t,e.last_modified,this._modifiedStyle):Z.defaultRenderer.updateItemModified(t,e.last_modified,this._modifiedStyle)}}))}updateNodes(e,t,s=!1){var i;e.forEach(((e,i)=>{const n=t[i];if(s&&this.renderer.updateItemSize){if(!n)return;return this.renderer.updateItemSize(n,e,this._modifiedStyle,this._columnSizes)}const r=this._manager.registry.getFileTypeForModel(e);this.renderer.updateItemNode(n,e,r,this.translator,this._hiddenColumns,this.selection[e.path],this._modifiedStyle,this._columnSizes),this.selection[e.path]&&this._isCut&&this._model.path===this._prevPath&&n.classList.add($),n.setAttribute("data-isdir","directory"===e.type?"true":"false")}));const n=Object.keys(this.selection).length;n&&(this.addClass(K),n>1&&this.addClass(q));const r=e.map((e=>e.path));for(const e of this._model.sessions()){const s=m.ArrayExt.firstIndexOf(r,e.path),n=t[s];if(n){let t=null===(i=e.kernel)||void 0===i?void 0:i.name;const s=this._model.specs;if(n.classList.add(Y),s&&t){const e=s.kernelspecs[t];t=e?e.display_name:this._trans.__("unknown")}n.title=this._trans.__("%1\nKernel: %2",n.title,t)}}}onUpdateRequest(e){this._isDirty=!1;const t=this._sortedItems,s=this._items,n=i.DOMUtils.findElement(this.node,M),r=this._renderer;for(this.removeClass(q),this.removeClass(K);s.length>t.length;)n.removeChild(s.pop());for(;s.length<t.length;){const e=r.createItemNode(this._hiddenColumns,this._columnSizes);e.classList.add("jp-DirListing-item"),s.push(e),n.appendChild(e)}s.forEach(((e,t)=>{e.classList.remove(K),e.classList.remove(Y),e.classList.remove($);const s=r.getCheckboxNode(e);s&&(s.checked=!1);const i=r.getNameNode(e);i&&(i.tabIndex=t===this._focusIndex?0:-1)}));const o=r.getCheckboxNode(this.headerNode);if(o){const e=Object.keys(this.selection).length,s=t.length>0&&e===t.length,i=!s&&e>0;o.checked=s,o.indeterminate=i,o.dataset.checked=String(s),o.dataset.indeterminate=String(i);const n=this.translator.load("jupyterlab");null==o||o.setAttribute("aria-label",s||i?n.__("Deselect all files and directories"):n.__("Select all files and directories"))}this.updateNodes(t,s),this._prevPath=this._model.path}onResize(e){const{width:t}=-1===e.width?this.node.getBoundingClientRect():e;this._width=this._computeContentWidth(t),this._updateColumnSizes()}setColumnVisibility(e,t){t?this._hiddenColumns.delete(e):this._hiddenColumns.add(e),this.headerNode.innerHTML="",this._renderer.populateHeaderNode(this.headerNode,this.translator,this._hiddenColumns,this._columnSizes),this._updateColumnSizes()}_updateColumnSizes(e=null){const t=this._visibleColumns.map((e=>({...e,element:i.DOMUtils.findElement(this.node,e.className)}))).filter((e=>e.element));let s=0;for(const e of t){let i=this._columnSizes[e.id];if(null===i&&(i=e.element.getBoundingClientRect().width),i=Math.max(i,e.minWidth),this._width){let s=0;for(const i of t)i.id!==e.id&&(s+=i.minWidth);i=Math.min(i,this._width-s)}this._columnSizes[e.id]=i,s+=i}if(this._width){const i=this._width-s;let n=null===e;const r=t.filter((t=>!!n||(t.id===e&&(n=!0),!1))),o=r.map((e=>e.grow)).reduce(((e,t)=>e+t),0);for(const e of r){const t=i*e.grow/o;this._columnSizes[e.id]=this._columnSizes[e.id]+t}}const n=this.node.getElementsByClassName(H),r=t.map((e=>Q.isResizable(e)));let o=0;for(const e of t){let t=this._columnSizes[e.id];Q.isResizable(e)&&t&&(t-=this._handleWidth*n.length/r.length,0!==o&&o!==r.length-1||(t+=this._paddingWidth),o+=1),e.element.style.width=null===t?"":t+"px"}this._updateModifiedStyleAndSize(),this.isVisible&&0!==this._items.length&&this.updateNodes(this._sortedItems,this._items,!0),this._state&&this._stateColumnsKey&&this._state.save(this._stateColumnsKey,{sizes:this._columnSizes})}get _visibleColumns(){return Z.columns.filter((e=>{var t;return"name"===e.id||!(null===(t=this._hiddenColumns)||void 0===t?void 0:t.has(e.id))}))}_setColumnSize(e,t){var s;const n=this._columnSizes[e];if(n&&t&&t>n){let n=0,r=!0;for(const o of this._visibleColumns)if(o.id!==e)if(r){const e=i.DOMUtils.findElement(this.node,o.className);n+=null!==(s=this._columnSizes[o.id])&&void 0!==s?s:e.getBoundingClientRect().width}else n+=o.minWidth;else n+=t,r=!1;if(this._width&&n>this._width)return}this._columnSizes[e]=t,this._updateColumnSizes(e)}setNotebooksFirstSorting(e){let t=this._sortNotebooksFirst;this._sortNotebooksFirst=e,this._sortNotebooksFirst!==t&&this.sort(this._sortState)}setAllowSingleClickNavigation(e){this._allowSingleClick=e}isWithinCheckboxHitArea(e){let t=e.target;for(;t;){if(t.classList.contains(B))return!0;t=t.parentElement}return!1}_evtClick(e){const t=e.target,s=this.headerNode,i=this._renderer;if(s.contains(t)){const t=i.getCheckboxNode(s);if(t&&this.isWithinCheckboxHitArea(e))"false"===t.dataset.indeterminate&&"false"===t.dataset.checked?this._sortedItems.forEach((e=>this.selection[e.path]=!0)):this.clearSelectedItems(),this.update();else{const t=this.renderer.handleHeaderClick(s,e);t&&this.sort(t)}}else this._focusItem(this._focusIndex)}_evtScroll(e){this.headerNode.scrollLeft=this.contentNode.scrollLeft}_evtMousedown(e){if(e.target===this._editNode)return;if(this._editNode.parentNode){if(this._editNode===e.target)return;this._editNode.focus(),this._editNode.blur(),clearTimeout(this._selectTimer)}let t=Q.hitTestNodes(this._items,e);if(-1!==t)this.handleFileSelect(e),0!==e.button&&clearTimeout(this._selectTimer),J&&e.ctrlKey||2===e.button||(0===e.button&&(this._dragData={pressX:e.clientX,pressY:e.clientY,index:t},document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)),this._allowSingleClick&&this.evtDblClick(e));else if(0===e.button){const t=e.target;if(t instanceof HTMLElement&&t.classList.contains(H)){const s=t.dataset.column;if(!s)throw Error("Column resize handle is missing data-column attribute");const n=Z.columns.find((e=>e.id===s));if(!n)throw Error(`Column with identifier ${s} not found`);const r=i.DOMUtils.findElement(this.node,n.className);t.classList.add(X);const o=I.Drag.overrideCursor("col-resize");return this._resizeData={pressX:e.clientX,column:s,initialSize:r.getBoundingClientRect().width,overrides:new D.DisposableDelegate((()=>{o.dispose(),t.classList.remove(X)}))},document.addEventListener("mouseup",this,!0),void document.addEventListener("mousemove",this,!0)}}}_evtMouseup(e){return this._softSelection&&(e.metaKey||e.shiftKey||e.ctrlKey||0!==e.button||(this.clearSelectedItems(),this.selection[this._softSelection]=!0,this.update()),this._softSelection=""),0===e.button&&this._focusItem(this._focusIndex),this._resizeData?(this._resizeData.overrides.dispose(),this._resizeData=null,document.removeEventListener("mousemove",this,!0),void document.removeEventListener("mouseup",this,!0)):0===e.button&&this._drag?(e.preventDefault(),void e.stopPropagation()):(document.removeEventListener("mousemove",this,!0),void document.removeEventListener("mouseup",this,!0))}_evtMousemove(e){if(e.preventDefault(),e.stopPropagation(),this._resizeData){const{initialSize:t,column:s,pressX:i}=this._resizeData;return void this._setColumnSize(s,t+e.clientX-i)}if(this._drag||!this._dragData)return;const t=this._dragData,s=Math.abs(e.clientX-t.pressX),i=Math.abs(e.clientY-t.pressY);s<5&&i<5||this._startDrag(t.index,e.clientX,e.clientY)}handleOpen(e){if(this._onItemOpened.emit(e),"directory"===e.type){const t=this._manager.services.contents.localPath(e.path);this._model.cd(`/${t}`).catch((e=>(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Open directory"),e)))}else{const t=e.path;this._manager.openOrReveal(t)}}_getNextFocusIndex(e,t){const s=e+t;return-1===s||s===this._items.length?e:s}_handleArrowY(e,t){if(e.altKey||e.metaKey)return;if(!this._items.length)return;if(!e.target.classList.contains(z))return;e.stopPropagation(),e.preventDefault();const s=this._focusIndex;let i=this._getNextFocusIndex(s,t);t>0&&0===s&&!e.ctrlKey&&0===Object.keys(this.selection).length&&(i=0),e.shiftKey?this._handleMultiSelect(i):e.ctrlKey||this._selectItem(i,e.shiftKey,!1),this._focusItem(i),this.update()}async goUp(){const e=this.model;if(e.path!==e.rootPath)try{await e.cd("..")}catch(t){console.warn(`Failed to go to parent directory of ${e.path}`,t)}}evtKeydown(e){if(!this._inRename){switch(e.keyCode){case 13:if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;e.preventDefault(),e.stopPropagation();for(const e of this.selectedItems())this.handleOpen(e);return;case 38:return void this._handleArrowY(e,-1);case 40:return void this._handleArrowY(e,1);case 32:if(e.ctrlKey){if(e.metaKey||e.shiftKey||e.altKey)return;const t=this._items[this._focusIndex];if(!t.contains(e.target)||!t.contains(document.activeElement))return;e.stopPropagation(),e.preventDefault();const{path:s}=this._sortedItems[this._focusIndex];return this.selection[s]?delete this.selection[s]:this.selection[s]=!0,void this.update()}}if(void 0!==e.key&&1===e.key.length&&(" "!==e.key&&32!==e.keyCode||"checkbox"!==e.target.type)){if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;this._searchPrefix+=e.key,clearTimeout(this._searchPrefixTimer),this._searchPrefixTimer=window.setTimeout((()=>{this._searchPrefix=""}),1e3),this.selectByPrefix(),e.stopPropagation(),e.preventDefault()}}}evtDblClick(e){if(0!==e.button)return;if(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)return;if(this.isWithinCheckboxHitArea(e))return;e.preventDefault(),e.stopPropagation(),clearTimeout(this._selectTimer),this._editNode.blur();const t=e.target,s=m.ArrayExt.findFirstIndex(this._items,(e=>e.contains(t)));if(-1===s)return;const i=this._sortedItems[s];this.handleOpen(i)}evtNativeDrop(e){var t,s,i;e.preventDefault();const n=null===(t=e.dataTransfer)||void 0===t?void 0:t.items;if(!n){const t=null===(s=e.dataTransfer)||void 0===s?void 0:s.files;if(!t||0===t.length)return;const i=[];for(const e of t){const t=this._model.upload(e);i.push(t)}return void Promise.all(i).then((()=>this._allUploaded.emit())).catch((e=>{console.error("Error while uploading files: ",e)}))}const r=async(e,t)=>{if(Q.isDirectoryEntry(e)){const s=await Q.createDirectory(this._model.manager,t,e.name),i=e.createReader(),n=await Q.collectEntries(i);for(const e of n)await r(e,s)}else if(Q.isFileEntry(e)){const s=await Q.readFile(e);await this._model.upload(s,t)}},o=[];for(const e of n){const t=Q.defensiveGetAsEntry(e);if(!t)continue;const s=r(t,null!==(i=this._model.path)&&void 0!==i?i:"/");o.push(s)}Promise.all(o).then((()=>this._allUploaded.emit())).catch((e=>{console.error("Error while uploading files: ",e)}))}get allUploaded(){return this._allUploaded}evtDragEnter(e){if(e.mimeData.hasData(W)){const t=Q.hitTestNodes(this._items,e);if(-1===t)return;const s=this._sortedItems[t];if("directory"!==s.type||this.selection[s.path])return;e.target.classList.add(V),e.preventDefault(),e.stopPropagation()}}evtDragLeave(e){e.preventDefault(),e.stopPropagation();const t=i.DOMUtils.findElement(this.node,V);t&&t.classList.remove(V)}evtDragOver(e){e.preventDefault(),e.stopPropagation(),e.dropAction=e.proposedAction;const t=i.DOMUtils.findElement(this.node,V);t&&t.classList.remove(V);const s=Q.hitTestNodes(this._items,e);this._items[s].classList.add(V)}evtDrop(e){if(e.preventDefault(),e.stopPropagation(),clearTimeout(this._selectTimer),"none"===e.proposedAction)return void(e.dropAction="none");if(!e.mimeData.hasData(W))return;let t=e.target;for(;t&&t.parentElement;){if(t.classList.contains(V)){t.classList.remove(V);break}t=t.parentElement}const s=m.ArrayExt.firstIndexOf(this._items,t),r=this._sortedItems;let o=this._model.path;"directory"===r[s].type&&(o=n.PathExt.join(o,r[s].name));const a=this._manager,l=[],d=e.mimeData.getData(W);e.ctrlKey&&"move"===e.proposedAction?e.dropAction="copy":e.dropAction=e.proposedAction;for(const t of d){const s=a.services.contents.localPath(t),i=n.PathExt.basename(s),r=n.PathExt.join(o,i);r!==t&&("copy"===e.dropAction?l.push(a.copy(t,o)):l.push((0,c.renameFile)(a,t,r)))}Promise.all(l).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Error while copying/moving files"),e)}))}_startDrag(e,t,s){let i=Object.keys(this.selection);const n=this._items[e],r=this._sortedItems;let o,a;if(n.classList.contains(K)){const e=i[0];a=r.find((t=>t.path===e)),o=this.selectedItems()}else a=r[e],i=[a.path],o=[a];if(!a)return;const l=this._manager.registry.getFileTypeForModel(a),d=this.renderer.createDragImage(n,i.length,this._trans,l);this._drag=new I.Drag({dragImage:d,mimeData:new u.MimeData,supportedActions:"move",proposedAction:"move"}),this._drag.mimeData.setData(W,i);const h=this.model.manager.services;for(const e of o)this._drag.mimeData.setData("application/x-jupyter-icontentsrich",{model:e,withContent:async()=>await h.contents.get(e.path)});if(a&&"directory"!==a.type){const e=i.slice(1).reverse();this._drag.mimeData.setData("application/vnd.lumino.widget-factory",(()=>{if(!a)return;const t=a.path;let s=this._manager.findWidget(t);if(s||(s=this._manager.open(a.path)),e.length){const t=new u.PromiseDelegate;t.promise.then((()=>{let t=s;e.forEach((e=>{const s={ref:null==t?void 0:t.id,mode:"tab-after"};t=this._manager.openOrReveal(e,void 0,void 0,s),this._manager.openOrReveal(a.path)}))})),t.resolve(void 0)}return s}))}document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),clearTimeout(this._selectTimer),this._drag.start(t,s).then((e=>{this._drag=null,clearTimeout(this._selectTimer)}))}handleFileSelect(e){const t=this._sortedItems,s=Q.hitTestNodes(this._items,e);if(clearTimeout(this._selectTimer),-1===s)return;this._softSelection="";const i=t[s].path,n=Object.keys(this.selection),r=0===e.button&&!(J&&e.ctrlKey)&&this.isWithinCheckboxHitArea(e);if(J&&e.metaKey||!J&&e.ctrlKey||r)this.selection[i]?delete this.selection[i]:this.selection[i]=!0,this._focusItem(s);else if(e.shiftKey)this._handleMultiSelect(s),this._focusItem(s);else{if(!(i in this.selection&&n.length>1))return this._selectItem(s,!1,!0);this._softSelection=i}this.update()}_focusItem(e){const t=this._items;if(0===t.length)return this._focusIndex=0,void this.node.focus();this._focusIndex=e;const s=t[e],i=this.renderer.getNameNode(s);i&&(i.tabIndex=0,i.focus())}_allSelectedBetween(e,t){if(e===t)return;const[s,i]=e<t?[e+1,t]:[t+1,e];return this._sortedItems.slice(s,i).reduce(((e,t)=>e&&this.selection[t.path]),!0)}_handleMultiSelect(e){const t=this._sortedItems,s=this._focusIndex,i=t[e];let n=!0;if(e===s)return void(this.selection[i.path]=!0);if(this.selection[i.path])if(1===Math.abs(e-s)){const i=t[s],n=t[s+(e<s?1:-1)];!this.selection[i.path]||n&&this.selection[n.path]||delete this.selection[i.path]}else this._allSelectedBetween(s,e)&&(n=!1);const r=s<e?1:-1;for(let i=s;i!==e+r;i+=r)if(n){if(i===s)continue;this.selection[t[i].path]=!0}else{if(i===e)continue;delete this.selection[t[i].path]}}_copy(){this._clipboard.length=0;for(const e of this.selectedItems())this._clipboard.push(e.path)}async _delete(e){await Promise.all(e.map((e=>this._model.manager.deleteFile(e).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Delete Failed"),e)})))))}async _doRename(){this._inRename=!0;const e=Object.keys(this.selection);if(0===e.length)return this._inRename=!1,Promise.resolve("");const t=this._sortedItems;let{path:s}=t[this._focusIndex];this.selection[s]||(s=e.slice(-1)[0]);const r=m.ArrayExt.findFirstIndex(t,(e=>e.path===s)),o=this._items[r],a=t[r],l=this.renderer.getNameNode(o),d=a.name;this._editNode.value=d,this._selectItem(r,!1,!0);const h=await Q.userInputForRename(l,this._editNode,d);if(this.isDisposed)throw this._inRename=!1,new Error("File browser is disposed.");let u=h;if(h&&h!==d)if((0,c.isValidFileName)(h)){const e=this._manager,t=n.PathExt.join(this._model.path,d),s=n.PathExt.join(this._model.path,h);try{await(0,c.renameFile)(e,t,s)}catch(e){"File not renamed"!==e&&(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Rename Error"),e),u=d}if(this.isDisposed)throw this._inRename=!1,new Error("File browser is disposed.")}else(0,i.showErrorMessage)(this._trans.__("Rename Error"),Error(this._trans._p("showErrorMessage",'"%1" is not a valid name for a file. Names must have nonzero length, and cannot include "/", "\\", or ":"',h))),u=d;else u=d;if(!this.isDisposed&&1===Object.keys(this.selection).length&&this.selection[a.path])try{await this._selectItemByName(u,!0,!0)}catch(e){console.warn("After rename, failed to select file",u)}return this._inRename=!1,u}_selectItem(e,t,s=!0){const i=this._sortedItems;t||this.clearSelectedItems();const n=i[e].path;this.selection[n]=!0,s&&this._focusItem(e),this.update()}_onModelRefreshed(){const e=Object.keys(this.selection);this.clearSelectedItems();for(const t of this._model.items()){const s=t.path;-1!==e.indexOf(s)&&(this.selection[s]=!0)}this.isVisible?this.sort(this.sortState):this._isDirty=!0}_onPathChanged(){this.clearSelectedItems(),this.sort(this.sortState),requestAnimationFrame((()=>{this._focusItem(0)}))}_onFileChanged(e,t){const s=t.newValue;if(!s)return;const i=s.name;"new"===t.type&&i&&this.selectItemByName(i).catch((()=>{}))}_onActivateRequested(e,t){if(n.PathExt.dirname(t)!==this._model.path)return;const s=n.PathExt.basename(t);this.selectItemByName(s).catch((()=>{}))}}var Q;!function(e){e.columns=[{id:"is_selected",className:B,itemClassName:B,minWidth:18,resizable:!1,sortable:!1,grow:0},{id:"name",className:R,itemClassName:j,minWidth:60,resizable:!0,sortable:!0,caretSide:"right",grow:3},{id:"last_modified",className:U,itemClassName:T,minWidth:60,resizable:!0,sortable:!0,caretSide:"left",grow:1},{id:"file_size",className:"jp-id-filesize",itemClassName:O,minWidth:60,resizable:!0,sortable:!0,caretSide:"left",grow:.5}];class t{constructor(){this.itemFactories={name:()=>{const e=document.createElement("span"),t=document.createElement("span"),s=document.createElement("span");return t.className=A,s.className=z,e.className=j,e.appendChild(t),e.appendChild(s),e},last_modified:()=>{const e=document.createElement("span");return e.className=T,e},file_size:()=>{const e=document.createElement("span");return e.className=O,e},is_selected:()=>this.createCheckboxWrapperNode()},this._modifiedColumnLastUpdate=new WeakMap}createNode(){const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("ul");return s.setAttribute("data-lm-dragscroll","true"),s.className=M,t.className=k,e.appendChild(t),e.appendChild(s),e.tabIndex=-1,e}populateHeaderNode(t,s,n,r){const a=(s=s||o.nullTranslator).load("jupyterlab"),l={name:()=>this.createHeaderItemNode(a.__("Name")),last_modified:()=>this._createHeaderItemNodeWithSizes({small:a.__("Modified"),large:a.__("Last Modified")}),file_size:()=>this._createHeaderItemNodeWithSizes({small:a.__("Size"),large:a.__("File Size")}),is_selected:()=>this.createCheckboxWrapperNode({alwaysVisible:!0,headerNode:!0})},d=e.columns.filter((e=>"name"===e.id||!(null==n?void 0:n.has(e.id))));for(const e of d){const s=(0,l[e.id])();s.classList.add(e.className);const i=e.id===d[d.length-1].id;if(r){const t=r[e.id];i||(s.style.width=t+"px")}if(t.appendChild(s),Q.isResizable(e)&&!i){const s=document.createElement("div");s.classList.add(H),s.dataset.column=e.id,t.appendChild(s)}}const h=i.DOMUtils.findElement(t,R);h.classList.add(K),Q.updateCaret(i.DOMUtils.findElement(h,L),"right","up")}handleHeaderClick(t,s){const n={direction:"ascending",key:"name"},r=s.target,o=e.columns.filter(Q.isSortable);for(const e of o){const s=t.querySelector(`.${e.className}`);if(s&&s.contains(r)){n.key=e.id;const r=i.DOMUtils.findElement(s,L);s.classList.contains(K)?s.classList.contains(G)?(s.classList.remove(G),Q.updateCaret(r,e.caretSide,"up")):(n.direction="descending",s.classList.add(G),Q.updateCaret(r,e.caretSide,"down")):(s.classList.remove(G),Q.updateCaret(r,e.caretSide,"up")),s.classList.add(K);for(const s of o){if(s.id===e.id)continue;const n=t.querySelector(`.${s.className}`);if(!n)continue;n.classList.remove(K),n.classList.remove(G);const r=i.DOMUtils.findElement(n,L);Q.updateCaret(r,s.caretSide)}return n}}return n}createItemNode(t,s){const i=document.createElement("li");for(const n of e.columns){if("name"!=n.id&&(null==t?void 0:t.has(n.id)))continue;const e=(0,this.itemFactories[n.id])();if(i.appendChild(e),s){const t=s[n.id];e.style.width=t+"px"}}return i}createCheckboxWrapperNode(e){const t=document.createElement("label");t.classList.add(B);const s=document.createElement("input");return s.type="checkbox",(null==e?void 0:e.headerNode)||s.addEventListener("click",(e=>{e.preventDefault()})),(null==e?void 0:e.alwaysVisible)?t.classList.add("jp-mod-visible"):s.tabIndex=-1,t.appendChild(s),t}updateItemModified(e,t,s){const i=this._modifiedColumnLastUpdate.get(e);if((null==i?void 0:i.date)===t&&(null==i?void 0:i.style)===s)return;const r=new Date(t),o=n.Time.formatHuman(r,s),a=n.Time.format(r);e.textContent=o,e.title=a,this._modifiedColumnLastUpdate.set(e,{date:t,style:s})}updateItemNode(e,t,s,r,l,d,h,c){d&&e.classList.add(K),s=s||E.DocumentRegistry.getDefaultTextFileType(r);const{icon:u,iconClass:p,name:_}=s,f=(r=r||o.nullTranslator).load("jupyterlab"),g=i.DOMUtils.findElement(e,A),v=i.DOMUtils.findElement(e,z),w=i.DOMUtils.findElement(e,j);let y=i.DOMUtils.findElement(e,T),b=i.DOMUtils.findElement(e,O);const C=i.DOMUtils.findElement(e,B),D=!(null==l?void 0:l.has("is_selected"));if(C&&!D)e.removeChild(C);else if(D&&!C){const e=this.createCheckboxWrapperNode();w.insertAdjacentElement("beforebegin",e)}const I=!(null==l?void 0:l.has("last_modified"));y&&!I?e.removeChild(y):I&&!y&&(y=this.itemFactories.last_modified(),w.insertAdjacentElement("afterend",y));const F=!(null==l?void 0:l.has("file_size"));b&&!F?e.removeChild(b):F&&!b&&(b=this.itemFactories.file_size(),(null!=y?y:w).insertAdjacentElement("afterend",b)),a.LabIcon.resolveElement({icon:u,iconClass:(0,a.classes)(p,"jp-Icon"),container:g,className:A,stylesheet:"listing"});let S=f.__("Name: %1",t.name);if(null!==t.size&&void 0!==t.size){const e=Q.formatFileSize(t.size,1,1024);b&&(b.textContent=e),S+=f.__("\nSize: %1",Q.formatFileSize(t.size,1,1024))}else b&&(b.textContent="");if(t.path){const e=n.PathExt.dirname(t.path);e&&(S+=f.__("\nPath: %1",e.substr(0,50)),e.length>50&&(S+="..."))}t.created&&(S+=f.__("\nCreated: %1",n.Time.format(new Date(t.created)))),t.last_modified&&(S+=f.__("\nModified: %1",n.Time.format(new Date(t.last_modified)))),S+=f.__("\nWritable: %1",t.writable),e.title=S,e.setAttribute("data-file-type",_),t.name.startsWith(".")?e.setAttribute("data-is-dot","true"):e.removeAttribute("data-is-dot");const k=t.indices?t.indices:[];let N=m.StringExt.highlight(t.name,k,x.h.mark);v&&x.VirtualDOM.render(x.h.span(N),v);const P=null==C?void 0:C.querySelector('input[type="checkbox"]');if(P){let e;e="directory"===s.contentType?d?f.__('Deselect directory "%1"',N):f.__('Select directory "%1"',N):d?f.__('Deselect file "%1"',N):f.__('Select file "%1"',N),P.setAttribute("aria-label",e),P.checked=null!=d&&d}this.updateItemSize(e,t,h,c)}updateItemSize(t,s,n,r){if(r)for(const s of e.columns){const e=i.DOMUtils.findElement(t,s.itemClassName);if(!e)continue;const n=r[s.id],o=null===n?"":n+"px";o!==e.style.width&&(e.style.width=o)}let o=i.DOMUtils.findElement(t,T);s.last_modified&&o&&this.updateItemModified(o,s.last_modified,null!=n?n:"short")}getNameNode(e){return i.DOMUtils.findElement(e,z)}getCheckboxNode(e){return e.querySelector(`.${B} input[type=checkbox]`)}createDragImage(t,s,n,r){const o=t.cloneNode(!0),a=i.DOMUtils.findElement(o,A),l=e.columns.filter((e=>"name"!==e.id));for(const e of l){const t=i.DOMUtils.findElement(o,e.itemClassName);t&&o.removeChild(t)}return r?(a.textContent=r.iconLabel||"",a.className=r.iconClass||""):(a.textContent="",a.className=""),a.classList.add("jp-DragIcon"),s>1&&(i.DOMUtils.findElement(o,z).textContent=n._n("%1 Item","%1 Items",s)),o}createHeaderItemNode(e){const t=document.createElement("div"),s=document.createElement("span"),i=document.createElement("span");return t.className=N,s.className=P,i.className=L,s.textContent=e,t.appendChild(s),t.appendChild(i),t}_createHeaderItemNodeWithSizes(e){const t=document.createElement("div");t.className=N;const s=document.createElement("span");s.className=L;for(let s of Object.keys(e)){const i=document.createElement("span");i.classList.add(P,P+"-"+s),i.textContent=e[s],t.appendChild(i)}return t.appendChild(s),t}}e.Renderer=t,e.defaultRenderer=new t}(Z||(Z={})),function(e){function t(e){return new Promise(((t,s)=>e.readEntries(t,s)))}e.userInputForRename=function(e,t,s){const i=e.parentElement;i.replaceChild(t,e),t.focus();const n=t.value.lastIndexOf(".");return-1===n?t.setSelectionRange(0,t.value.length):t.setSelectionRange(0,n),new Promise((n=>{t.onblur=()=>{i.replaceChild(e,t),n(t.value)},t.onkeydown=i=>{switch(i.keyCode){case 13:i.stopPropagation(),i.preventDefault(),t.blur();break;case 27:i.stopPropagation(),i.preventDefault(),t.value=s,t.blur(),e.focus()}}}))},e.sort=function(e,t,s=!1,i){const n=Array.from(e),r="descending"===t.direction?1:-1;function o(e){return"directory"===e.type?2:"notebook"===e.type&&s?1:0}function a(e,t){var s;const n=navigator.language.split("@")[0],r=(null!==(s=i.languageCode)&&void 0!==s?s:n).replace("_","-");try{return e.name.localeCompare(t.name,r,{numeric:!0,sensitivity:"base"})}catch(s){return console.warn(`localeCompare failed to compare ${e.name} and ${t.name} under languageCode: ${r}`),e.name.localeCompare(t.name,n,{numeric:!0,sensitivity:"base"})}}function l(e){return(t,i)=>{if(function(e,t){return s?e.type!==t.type:"directory"===e.type!=("directory"===t.type)}(t,i))return o(i)-o(t);const n=e(t,i);return 0!==n?n*r:a(t,i)}}return"last_modified"===t.key?n.sort(l(((e,t)=>new Date(e.last_modified).getTime()-new Date(t.last_modified).getTime()))):"file_size"===t.key?n.sort(l(((e,t)=>{var s,i;return(null!==(s=t.size)&&void 0!==s?s:0)-(null!==(i=e.size)&&void 0!==i?i:0)}))):n.sort(l(((e,t)=>a(t,e)))),n},e.isResizable=e=>"resizable"in e&&e.resizable,e.isSortable=e=>"sortable"in e&&e.sortable,e.hitTestNodes=function(e,t){return m.ArrayExt.findFirstIndex(e,(e=>p.ElementExt.hitTest(e,t.clientX,t.clientY)||t.target===e))},e.formatFileSize=function(e,t,s){if(0===e)return"0 B";const i=t||2,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(s));return r>=0&&r<n.length?parseFloat((e/Math.pow(s,r)).toFixed(i))+" "+n[r]:String(e)},e.updateCaret=function(e,t,s){s?(("down"===s?a.caretDownIcon:a.caretUpIcon).element({container:e,tag:"span",stylesheet:"listingHeaderItem"}),e.style.order="left"===t?"-1":""):(a.LabIcon.remove(e),e.className=L)},e.createDirectory=async function(e,t,s){const i=await e.newUntitled({path:t,type:"directory"}),r=n.PathExt.join(t,i.name),o=n.PathExt.join(t,s);try{await e.rename(r,o)}catch(t){await e.deleteFile(r)}return o},e.isDirectoryEntry=function(e){return e.isDirectory},e.isFileEntry=function(e){return e.isFile},e.defensiveGetAsEntry=function(e){return e.webkitGetAsEntry?e.webkitGetAsEntry():"getAsEntry"in e?e.getAsEntry():null},e.readFile=function(e){return new Promise(((t,s)=>e.file(t,s)))},e.collectEntries=async function(e){const s=[];let i=!1;for(;!i;){const n=await t(e);0===n.length?i=!0:s.push(...n)}return s}}(Q||(Q={}));class ee extends a.SidePanel{constructor(e){var t;super({content:new l.Panel,translator:e.translator}),this._directoryPending=null,this._filePending=null,this._fileFilterRef=(0,d.createRef)(),this._allowSingleClick=!1,this._showFileCheckboxes=!1,this._showFileFilter=!1,this._showFileSizeColumn=!1,this._showHiddenFiles=!1,this._showLastModifiedColumn=!0,this._sortNotebooksFirst=!1,this.addClass("jp-FileBrowser"),this.toolbar.addClass("jp-FileBrowser-toolbar"),this.id=e.id;const s=this.translator=null!==(t=e.translator)&&void 0!==t?t:o.nullTranslator,i=this.model=e.model,n=e.renderer;i.connectionFailure.connect(this._onConnectionFailure,this),this._manager=i.manager,this.toolbar.node.setAttribute("aria-label",this._trans.__("file browser")),this.mainPanel=new l.Panel,this.mainPanel.addClass("jp-FileBrowser-Panel"),this.mainPanel.title.label=this._trans.__("File Browser"),this.crumbs=new b({model:i,translator:s}),this.crumbs.addClass("jp-FileBrowser-crumbs");const r=(0,a.FilenameSearcher)({updateFilter:(e,t)=>{this.model.setFilter((t=>e(t.name.toLowerCase())))},useFuzzyFilter:!0,placeholder:this._trans.__("Filter files by name"),forceRefresh:!1,showIcon:!1,inputRef:this._fileFilterRef});r.addClass("jp-FileBrowser-filterBox"),this.filterToolbar=new a.Toolbar,this.filterToolbar.addClass("jp-FileBrowser-filterToolbar"),this.filterToolbar.addItem("fileNameSearcher",r),this.filterToolbar.setHidden(!this.showFileFilter),this.listing=this.createDirListing({model:i,renderer:n,translator:s,state:e.state}),this.listing.addClass("jp-FileBrowser-listing"),this.mainPanel.addWidget(this.crumbs),this.mainPanel.addWidget(this.filterToolbar),this.mainPanel.addWidget(this.listing),this.addWidget(this.mainPanel),!1!==e.restore&&i.restore(this.id),this.listing.restore(this.id)}get navigateToCurrentDirectory(){return this._navigateToCurrentDirectory}set navigateToCurrentDirectory(e){this._navigateToCurrentDirectory=e}get showLastModifiedColumn(){return this._showLastModifiedColumn}set showLastModifiedColumn(e){this.listing.setColumnVisibility?(this.listing.setColumnVisibility("last_modified",e),this._showLastModifiedColumn=e):console.warn("Listing does not support toggling column visibility")}get showFullPath(){return this.crumbs.fullPath}set showFullPath(e){this.crumbs.fullPath=e}get showFileSizeColumn(){return this._showFileSizeColumn}set showFileSizeColumn(e){this.listing.setColumnVisibility?(this.listing.setColumnVisibility("file_size",e),this._showFileSizeColumn=e):console.warn("Listing does not support toggling column visibility")}get showHiddenFiles(){return this._showHiddenFiles}set showHiddenFiles(e){this.model.showHiddenFiles(e),this._showHiddenFiles=e}get showFileCheckboxes(){return this._showFileCheckboxes}set showFileCheckboxes(e){this.listing.setColumnVisibility?(this.listing.setColumnVisibility("is_selected",e),this._showFileCheckboxes=e):console.warn("Listing does not support toggling column visibility")}get showFileFilter(){return this._showFileFilter}set showFileFilter(e){var t;this.showFileFilter&&!e&&(this._fileFilterRef.current&&(this._fileFilterRef.current.value=""),this.model.setFilter((e=>({}))),this.model.refresh().catch(console.warn)),this._showFileFilter=e,this.filterToolbar.setHidden(!this.showFileFilter),this.showFileFilter&&(null===(t=this._fileFilterRef.current)||void 0===t||t.focus())}get sortNotebooksFirst(){return this._sortNotebooksFirst}set sortNotebooksFirst(e){this.listing.setNotebooksFirstSorting?(this.listing.setNotebooksFirstSorting(e),this._sortNotebooksFirst=e):console.warn("Listing does not support sorting notebooks first")}get singleClickNavigation(){return this._allowSingleClick}set singleClickNavigation(e){this.listing.setAllowSingleClickNavigation?(this.listing.setAllowSingleClickNavigation(e),this._allowSingleClick=e):console.warn("Listing does not support single click navigation")}selectedItems(){return this.listing.selectedItems()}async selectItemByName(e){await this.listing.selectItemByName(e)}clearSelectedItems(){this.listing.clearSelectedItems()}rename(){return this.listing.rename()}cut(){this.listing.cut()}copy(){this.listing.copy()}paste(){return this.listing.paste()}async _createNew(e){if(e.path){const t=this._manager.services.contents.localPath(e.path);e.path=this._toDrivePath(this.model.driveName,t)}try{const t=await this._manager.newUntitled(e);return await this.listing.selectItemByName(t.name,!0),await this.rename(),t}catch(e){throw(0,i.showErrorMessage)(this._trans.__("Error"),e),e}}async createNewDirectory(){if(this._directoryPending)return this._directoryPending;this._directoryPending=this._createNew({path:this.model.path,type:"directory"});try{return await this._directoryPending}finally{this._directoryPending=null}}async createNewFile(e){if(this._filePending)return this._filePending;this._filePending=this._createNew({path:this.model.path,type:"file",ext:e.ext});try{return await this._filePending}finally{this._filePending=null}}delete(){return this.listing.delete()}duplicate(){return this.listing.duplicate()}download(){return this.listing.download()}async goUp(){return this.listing.goUp()}shutdownKernels(){return this.listing.shutdownKernels()}selectNext(){this.listing.selectNext()}selectPrevious(){this.listing.selectPrevious()}modelForClick(e){return this.listing.modelForClick(e)}createDirListing(e){return new Z(e)}_onConnectionFailure(e,t){if(t instanceof r.ServerConnection.ResponseError&&404===t.response.status){const e=this._trans.__("Directory not found");t.message=this._trans.__('Directory not found: "%1"',this.model.path),(0,i.showErrorMessage)(e,t)}}_toDrivePath(e,t){return""===e?t:`${e}:${n.PathExt.removeSlash(t)}`}}var te=s(41036);const se=15728640,ie=1048576;class ne{constructor(e){var t;this._connectionFailure=new S.Signal(this),this._fileChanged=new S.Signal(this),this._items=[],this._key="",this._pathChanged=new S.Signal(this),this._paths=new Set,this._pending=null,this._pendingPath=null,this._refreshed=new S.Signal(this),this._sessions=[],this._state=null,this._isDisposed=!1,this._restored=new u.PromiseDelegate,this._uploads=[],this._uploadChanged=new S.Signal(this),this.manager=e.manager,this.translator=e.translator||o.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._driveName=e.driveName||"",this._model={path:this.rootPath,name:n.PathExt.basename(this.rootPath),type:"directory",content:void 0,writable:!1,created:"unknown",last_modified:"unknown",mimetype:"text/plain",format:"text"},this._state=e.state||null;const s=e.refreshInterval||1e4,{services:i}=e.manager;i.contents.fileChanged.connect(this.onFileChanged,this),i.sessions.runningChanged.connect(this.onRunningChanged,this),this._unloadEventListener=e=>{if(this._uploads.length>0){const t=this._trans.__("Files still uploading");return e.returnValue=t,t}},window.addEventListener("beforeunload",this._unloadEventListener),this._poll=new te.Poll({auto:null===(t=e.auto)||void 0===t||t,name:"@jupyterlab/filebrowser:Model",factory:()=>this.cd("."),frequency:{interval:s,backoff:!0,max:3e5},standby:e.refreshStandby||"when-hidden"})}get connectionFailure(){return this._connectionFailure}get driveName(){return this._driveName}get restored(){return this._restored.promise}get fileChanged(){return this._fileChanged}get path(){return this._model?this._model.path:""}get rootPath(){return this._driveName?this._driveName+":":""}get pathChanged(){return this._pathChanged}get refreshed(){return this._refreshed}get specs(){return this.manager.services.kernelspecs.specs}get isDisposed(){return this._isDisposed}get uploadChanged(){return this._uploadChanged}uploads(){return this._uploads[Symbol.iterator]()}dispose(){this.isDisposed||(window.removeEventListener("beforeunload",this._unloadEventListener),this._isDisposed=!0,this._poll.dispose(),this._sessions.length=0,this._items.length=0,S.Signal.clearData(this))}items(){return this._items[Symbol.iterator]()}sessions(){return this._sessions[Symbol.iterator]()}async refresh(){await this._poll.refresh(),await this._poll.tick,this._refreshed.emit(void 0)}async cd(e="."){if(e="."!==e?this.manager.services.contents.resolvePath(this._model.path,e):this._pendingPath||this._model.path,this._pending){if(e===this._pendingPath)return this._pending;await this._pending}const t=this.path;this._pendingPath=e,t!==e&&(this._sessions.length=0);const s=this.manager.services;return this._pending=s.contents.get(e,{content:!0}).then((i=>{this.isDisposed||(this.handleContents(i),this._pendingPath=null,this._pending=null,t!==e&&(this._state&&this._key&&this._state.save(this._key,{path:e}),this._pathChanged.emit({name:"path",oldValue:t,newValue:e})),this.onRunningChanged(s.sessions,s.sessions.running()),this._refreshed.emit(void 0))})).catch((t=>{if(this._pendingPath=null,this._pending=null,t.response&&404===t.response.status&&"/"!==e)return t.message=this._trans.__('Directory not found: "%1"',this._model.path),console.error(t),this._connectionFailure.emit(t),this.cd("/");this._connectionFailure.emit(t)})),this._pending}async download(e){const t=await this.manager.services.contents.getDownloadUrl(e),s=document.createElement("a");s.href=t,s.download="",document.body.appendChild(s),s.click(),document.body.removeChild(s)}async restore(e,t=!0){const{manager:s}=this,i=`file-browser-${e}:cwd`,n=this._state;if(!this._key)if(this._key=i,t&&n){await s.services.ready;try{const e=await n.fetch(i);if(!e)return void this._restored.resolve(void 0);const t=e.path;t&&await this.cd("/");const r=s.services.contents.localPath(t);await s.services.contents.get(t),await this.cd(r)}catch(e){await n.remove(i)}this._restored.resolve(void 0)}else this._restored.resolve(void 0)}async upload(e,t){const s=n.PageConfig.getNotebookVersion(),i=s<[4,0,0]||s>=[5,1,0],r=e.size>se;if(r&&!i){const t=this._trans.__("Cannot upload file (>%1 MB). %2",se/1048576,e.name);throw console.warn(t),t}if(r&&!await this._shouldUploadLarge(e))throw"Cancelled large file upload";if(await this._uploadCheckDisposed(),await this.refresh(),await this._uploadCheckDisposed(),this._items.find((t=>t.name===e.name))&&!await(0,c.shouldOverwrite)(e.name))throw"File not uploaded";await this._uploadCheckDisposed();const o=i&&e.size>ie;return await this._upload(e,o,t)}async _shouldUploadLarge(e){const{button:t}=await(0,i.showDialog)({title:this._trans.__("Large file size warning"),body:this._trans.__("The file size is %1 MB. Do you still want to upload it?",Math.round(e.size/1048576)),buttons:[i.Dialog.cancelButton({label:this._trans.__("Cancel")}),i.Dialog.warnButton({label:this._trans.__("Upload")})]});return t.accept}async _upload(e,t,s){let i=void 0===s?this._model.path:s;i=i?i+"/"+e.name:e.name;const n=e.name,r=async(t,s)=>{await this._uploadCheckDisposed();const r=new FileReader;r.readAsDataURL(t),await new Promise(((t,s)=>{r.onload=t,r.onerror=t=>s(`Failed to upload "${e.name}":`+t)})),await this._uploadCheckDisposed();const o=r.result.split(",")[1],a={type:"file",format:"base64",name:n,chunk:s,content:o};return await this.manager.services.contents.save(i,a)};if(!t)try{return await r(e)}catch(t){throw m.ArrayExt.removeFirstWhere(this._uploads,(t=>e.name===t.path)),t}let o,a={path:i,progress:0};this._uploadChanged.emit({name:"start",newValue:a,oldValue:null});for(let t=0;!o;t+=ie){const s=t+ie,n=s>=e.size,l=n?-1:s/ie,d={path:i,progress:t/e.size};let h;this._uploads.splice(this._uploads.indexOf(a)),this._uploads.push(d),this._uploadChanged.emit({name:"update",newValue:d,oldValue:a}),a=d;try{h=await r(e.slice(t,s),l)}catch(t){throw m.ArrayExt.removeFirstWhere(this._uploads,(t=>e.name===t.path)),this._uploadChanged.emit({name:"failure",newValue:a,oldValue:null}),t}n&&(o=h)}return this._uploads.splice(this._uploads.indexOf(a)),this._uploadChanged.emit({name:"finish",newValue:null,oldValue:a}),o}_uploadCheckDisposed(){return this.isDisposed?Promise.reject("Filemanager disposed. File upload canceled"):Promise.resolve()}handleContents(e){this._model={name:e.name,path:e.path,type:e.type,content:void 0,writable:e.writable,created:e.created,last_modified:e.last_modified,size:e.size,mimetype:e.mimetype,format:e.format},this._items=e.content,this._paths.clear(),e.content.forEach((e=>{this._paths.add(e.path)}))}onRunningChanged(e,t){this._populateSessions(t),this._refreshed.emit(void 0)}onFileChanged(e,t){const s=this._model.path,{sessions:i}=this.manager.services,{oldValue:r,newValue:o}=t,a=this.driveName.length>0?this.driveName+":":"";if(r&&r.path&&a+n.PathExt.dirname(r.path)===s?r:o&&o.path&&a+n.PathExt.dirname(o.path)===s?o:void 0)return this._poll.refresh(),this._populateSessions(i.running()),void this._fileChanged.emit(t)}_populateSessions(e){this._sessions.length=0;for(const t of e)this._paths.has(t.path)&&this._sessions.push(t)}}class re extends ne{constructor(e){super(e),this._includeHiddenFiles=e.includeHiddenFiles||!1}items(){return this._includeHiddenFiles?super.items():(0,m.filter)(super.items(),(e=>!e.name.startsWith(".")))}showHiddenFiles(e){this._includeHiddenFiles=e,this.refresh()}}class oe extends re{constructor(e){var t,s;super(e),this._filter=null!==(t=e.filter)&&void 0!==t?t:e=>({}),this._filterDirectories=null===(s=e.filterDirectories)||void 0===s||s}get filterDirectories(){return this._filterDirectories}set filterDirectories(e){this._filterDirectories=e}items(){return(0,m.filter)(super.items(),(e=>{if(this._filterDirectories||"directory"!==e.type){const t=this._filter(e);return e.indices=null==t?void 0:t.indices,!!t}return!0}))}setFilter(e){this._filter=e,this.refresh()}}var ae,le;!function(e){async function t(e){const t=e.translator||o.nullTranslator,s=t.load("jupyterlab"),n=new de(e.manager,e.filter,t,e.defaultPath,e.label),r={title:e.title,buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:s.__("Select")})],focusNodeSelector:e.focusNodeSelector,host:e.host,renderer:e.renderer,body:n};return await n.ready,new i.Dialog(r).launch()}e.getOpenFiles=t,e.getExistingDirectory=function(e){return t({...e,filter:e=>"directory"===e.type?{}:null})}}(ae||(ae={}));class de extends l.Widget{constructor(e,t,s,n,r,d){super(),this._ready=new u.PromiseDelegate;const h=(s=null!=s?s:o.nullTranslator).load("jupyterlab");this.addClass("jp-Open-Dialog"),le.createFilteredFileBrowser("filtered-file-browser-dialog",e,t,{},s,n,d).then((e=>{this._browser=e,(0,i.setToolbar)(this._browser,(e=>[{name:"new-folder",widget:new i.ToolbarButton({icon:a.newFolderIcon,onClick:()=>{e.createNewDirectory()},tooltip:h.__("New Folder")})},{name:"refresher",widget:new i.ToolbarButton({icon:a.refreshIcon,onClick:()=>{e.model.refresh().catch((e=>{console.error("Failed to refresh file browser in open dialog.",e)}))},tooltip:h.__("Refresh File List")})}]));const t=new l.PanelLayout;if(r){const e=new l.Widget;e.addClass("jp-Open-Dialog-label"),e.node.textContent=r,t.addWidget(e)}t.addWidget(this._browser),this.dispose=()=>{this.isDisposed||(this._browser.model.dispose(),super.dispose())},this.layout=t,this._ready.resolve()})).catch((e=>{console.error("Error while creating file browser in open dialog",e),this._ready.reject(void 0)}))}getValue(){const e=Array.from(this._browser.selectedItems());return 0===e.length?[{path:this._browser.model.path,name:n.PathExt.basename(this._browser.model.path),type:"directory",content:void 0,writable:!1,created:"unknown",last_modified:"unknown",mimetype:"text/plain",format:"text"}]:e}get ready(){return this._ready.promise}}!function(e){e.createFilteredFileBrowser=async(e,t,s,i={},n,r,a)=>{n=n||o.nullTranslator;const l=new oe({manager:t,filter:s,translator:n,driveName:i.driveName,refreshInterval:i.refreshInterval,filterDirectories:a}),d=new ee({id:e,model:l,translator:n});return r&&await d.model.cd(r),d}}(le||(le={}));const he=new u.Token("@jupyterlab/filebrowser:IFileBrowserFactory","A factory object that creates file browsers.\n  Use this if you want to create your own file browser (e.g., for a custom storage backend),\n  or to interact with other file browsers that have been created by extensions."),ce=new u.Token("@jupyterlab/filebrowser:IDefaultFileBrowser","A service for the default file browser."),me=new u.Token("@jupyterlab/filebrowser:IFileBrowserCommands","A token to ensure file browser commands are loaded.");class ue extends a.ToolbarButton{constructor(e){super({icon:a.fileUploadIcon,label:e.label,onClick:()=>{this._input.click()},tooltip:pe.translateToolTip(e.translator)}),this._onInputChanged=()=>{const e=Array.prototype.slice.call(this._input.files).map((e=>this.fileBrowserModel.upload(e)));Promise.all(e).catch((e=>{(0,i.showErrorMessage)(this._trans._p("showErrorMessage","Upload Error"),e)}))},this._onInputClicked=()=>{this._input.value=""},this._input=pe.createUploadInput(),this.fileBrowserModel=e.model,this.translator=e.translator||o.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._input.onclick=this._onInputClicked,this._input.onchange=this._onInputChanged,this.addClass("jp-id-upload")}}var pe;!function(e){e.createUploadInput=function(){const e=document.createElement("input");return e.type="file",e.multiple=!0,e},e.translateToolTip=function(e){return(e=e||o.nullTranslator).load("jupyterlab").__("Upload Files")}}(pe||(pe={}));var _e=s(61428);function fe(e){const t=(e.translator||o.nullTranslator).load("jupyterlab");return h().createElement(_e.GroupItem,{spacing:4},h().createElement(_e.TextItem,{source:t.__("Uploading…")}),h().createElement(_e.ProgressBar,{percentage:e.upload}))}class ge extends a.VDomRenderer{constructor(e){super(new ge.Model(e.tracker.currentWidget&&e.tracker.currentWidget.model)),this._onBrowserChange=(e,t)=>{this.model.browserModel=null===t?null:t.model},this.translator=e.translator||o.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._tracker=e.tracker,this._tracker.currentChanged.connect(this._onBrowserChange)}render(){return this.model.items.length>0?this.model.items[0].complete?h().createElement(_e.TextItem,{source:this._trans.__("Complete!")}):h().createElement(fe,{upload:this.model.items[0].progress,translator:this.translator}):h().createElement(fe,{upload:100,translator:this.translator})}dispose(){super.dispose(),this._tracker.currentChanged.disconnect(this._onBrowserChange)}}!function(e){class t extends a.VDomModel{constructor(e){super(),this._uploadChanged=(e,t)=>{if("start"===t.name)this._items.push({path:t.newValue.path,progress:100*t.newValue.progress,complete:!1});else if("update"===t.name){const e=m.ArrayExt.findFirstIndex(this._items,(e=>e.path===t.oldValue.path));-1!==e&&(this._items[e].progress=100*t.newValue.progress)}else if("finish"===t.name){const e=m.ArrayExt.findFirstValue(this._items,(e=>e.path===t.oldValue.path));e&&(e.complete=!0,setTimeout((()=>{m.ArrayExt.removeFirstOf(this._items,e),this.stateChanged.emit(void 0)}),2e3))}else"failure"===t.name&&m.ArrayExt.removeFirstWhere(this._items,(e=>e.path===t.newValue.path));this.stateChanged.emit(void 0)},this._items=[],this._browserModel=null,this.browserModel=e}get items(){return this._items}get browserModel(){return this._browserModel}set browserModel(e){const t=this._browserModel;t&&t.uploadChanged.disconnect(this._uploadChanged),this._browserModel=e,this._items=[],null!==this._browserModel&&this._browserModel.uploadChanged.connect(this._uploadChanged),this.stateChanged.emit(void 0)}}e.Model=t}(ge||(ge={}))}}]);
//# sourceMappingURL=5673.js.map